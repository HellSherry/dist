import{u as y,L as q,b as D,s as I,o as l,i as k,k as Q,_ as z,a6 as N,G as V,e as n,c as i,a as e,f as o,w as s,n as F,F as h,r as v,t as m,g as b}from"./index-1858008c.js";import{av as J,aw as M}from"./index.esm.min-122e8f02.js";import{v as U,z as j,B as G,C as O,D as P,E as X}from"./install-b5e00ae6.js";import{a as g}from"./axios1-c840b49a.js";const H={__name:"TestEcharts",setup(t){U([j,G,O,P,X]);const c=y();q(J,c.darkT?"dark":"light");const d=D({title:{text:"班级分布",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["Direct","Email","Ad Networks","Video Ads","Search Engines"]},series:[{name:"班级分布",type:"pie",radius:"55%",center:["50%","60%"],data:[],itemStyle:{normal:{label:{show:!0,formatter:"{b} : {d}%",position:"inside",color:"#fff"},labelLine:{show:!1}}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]});return I.get("/statistics/classCount").then(p=>{console.log(p),d.value.series[0].data=p.data}),(p,a)=>(l(),k(Q(M),{class:"chart",option:d.value,autoresize:""},null,8,["option"]))}},K={components:{TestEcharts:H},data(){return{topicList:[],count:[],countList:[],countListAll:[],percentList:[],groupIdList:[],List:[],cname:"",user:this.$route.query.user,password:this.$route.query.password}},computed:{...N(y,["loginUser"])},methods:{goToQuestion(t){if(this.countListAll[t-1]>=100){const c=V({header:"提示",body:"你已完成所有题目测试,是否重新测试？",confirmBtn:{content:"重新测试",theme:"primary"},cancelBtn:{content:"取消",variant:"outline"},onConfirm:({e:d})=>{this.$router.push({name:"question",query:{id:t}}),c.hide()}})}else this.$router.push({name:"question",query:{id:t}})},deleteTopic(){g.post("/QuestionBank",this.groupIdList,{params:{user:this.loginUser.sub.username,password:1}}).then(t=>{this.countListAll=t.data.result,console.log(this.countListAll)})}},async created(){console.log("user:"+this.user+"password:"+this.password),console.log();try{await g.get("/Question").then(t=>{console.log(t),this.topicList=t.data.result,this.count=t.data.result,console.log(this.topicList),this.topicList.forEach(c=>{this.groupIdList.push(c.groupId)}),this.deleteTopic()})}catch(t){console.error(t)}try{g.get("/QuestionCourse").then(t=>{this.countList=t.data.result,console.log(t.data.result)})}catch(t){console.error(t)}}},R={style:{"min-height":"100vh","backdrop-filter":"blur(20px)","padding-top":"1.6vh","padding-bottom":"10px"}},W=e("h2",null,"试题测试",-1),Y={key:0},Z={key:1},tt={style:{width:"100%"}},et={slot:"title"},ot={key:0},st={key:1},nt={class:"grid-content bg-purple"},lt={class:"grid-content bg-purple"},at={class:"grid-content bg-purple"},rt=["onClick"];function it(t,c,d,p,a,f){const w=n("t-progress"),L=n("t-button"),x=n("t-collapse-panel"),C=n("t-collapse"),B=n("t-card"),_=n("el-col"),T=n("el-progress"),A=n("el-row"),S=n("el-collapse-item"),E=n("el-collapse");return l(),i(h,null,[e("div",{style:F([{"background-position":"center"},`background-image: url('//pic.sherry.games/assets/image/mobileback/th (${Math.round(Math.random()*30)}).jpg');background-repeat: no-repeat;background-size: cover;  `])},[e("div",R,[o(B,{bordered:!1,hoverShadow:"",style:{width:"96%",margin:"0 auto","min-height":"90vh"}},{default:s(()=>[W,o(C,{"expand-mutex":""},{default:s(()=>[(l(!0),i(h,null,v(a.topicList,(u,r)=>(l(),k(x,{value:r},{header:s(()=>[a.count[r].courseid==1?(l(),i("div",Y,"Java开发之框架基础技术")):(l(),i("div",Z,"sdafa"))]),default:s(()=>[e("table",tt,[e("tr",null,[e("td",null,m(u.name),1),e("td",null,[o(w,{style:{width:"330px",display:"inline-block"},theme:"plump",percentage:a.countListAll[r]},null,8,["percentage"])]),e("td",null,[o(L,{class:"but_topic",onClick:$=>f.goToQuestion(u.groupId)},{default:s(()=>[b("开始测试")]),_:2},1032,["onClick"])])])])]),_:2},1032,["value"]))),256))]),_:1})]),_:1})])],4),e("div",null,[e("div",null,[e("div",null,[(l(!0),i(h,null,v(a.topicList,(u,r)=>(l(),i("div",{key:r},[o(E,{accordion:"",style:{width:"80%",display:"inline-block","margin-left":"200px"}},{default:s(()=>[o(S,null,{default:s(()=>[e("template",et,[a.count[r].courseid==1?(l(),i("div",ot,"Java开发之框架基础技术")):(l(),i("div",st,"sdafa"))]),o(A,{gutter:20},{default:s(()=>[o(_,{span:4},{default:s(()=>[e("div",nt,[e("span",null,m(u.name),1)])]),_:2},1024),o(_,{span:16},{default:s(()=>[b("fdgsdg "+m(a.countListAll[r])+" ",1),e("div",lt,[o(T,{"text-inside":!0,style:{width:"400px","margin-left":"400px"},"stroke-width":26,percentage:a.countListAll[r]},null,8,["percentage"])])]),_:2},1024),o(_,{span:4},{default:s(()=>[e("div",at,[e("div",null,[e("button",{class:"but_topic",onClick:$=>f.goToQuestion(u.groupId)},"开始测试",8,rt)])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))])])])],64)}const _t=z(K,[["render",it]]);export{_t as default};
