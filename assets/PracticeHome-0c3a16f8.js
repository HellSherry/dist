import{_ as x,e as a,o as u,c as _,a as o,f as e,w as s,t as h,F as b,r as $,g as f,p as V,m as S,a6 as q,l as j,u as C,i as B,b as v,n as I,k as z}from"./index-1858008c.js";import{a as k}from"./axios1-c840b49a.js";const L={data(){return{Accumulative:0,practical:0,ishowPopup:!1,user:this.$route.query.name,password:this.$route.query.password}},created(){console.log(this.user),console.log(this.password)},methods:{showPopup(){this.$router.push({name:"topic",query:{user:this.user,password:this.password}})}},computed:{calculateCorrectRate:function(){return this.practical===0?"0%":(this.Accumulative/this.practical).toFixed(2)+"%"}}},d=t=>(V("data-v-32d9b3af"),t=t(),S(),t),M={class:"centre"},N=d(()=>o("div",{class:"ck",style:{"margin-top":"20px"}},[o("span",null,"每日刷题")],-1)),P={class:"like",style:{"text-align":"center"}},T={class:"centre-span-two"},U={class:"centre-span-two"},R={class:"centre-span-two"},W=d(()=>o("div",{class:"ck"},[o("span",null,"测试")],-1)),H={class:"img_container"},D=d(()=>o("img",{src:"//pic.sherry.games/assets/image/logo.jpeg",class:"test_list_img centre_img round"},null,-1)),E=d(()=>o("br",null,null,-1)),Q=d(()=>o("h3",{style:{"line-height":"0px"},class:"span-centre"},"试题测试",-1)),G={class:"span-centre-but"};function J(t,g,m,w,c,n){const r=a("t-col"),l=a("t-row"),p=a("t-button");return u(),_("div",M,[o("div",null,[N,o("div",P,[e(l,{style:{margin:"40px auto"},justify:"space-around"},{default:s(()=>[e(r,{span:2},{default:s(()=>[o("span",T,"累计答题数:"+h(c.Accumulative),1)]),_:1}),e(r,{span:2},{default:s(()=>[o("span",U,"实际答题数:"+h(c.practical),1)]),_:1}),e(r,{span:2},{default:s(()=>[o("span",R,"正确率:"+h(n.calculateCorrectRate),1)]),_:1})]),_:1})]),W,e(l,{style:{"text-align":"center",margin:"40px auto"},justify:"space-around"},{default:s(()=>[(u(),_(b,null,$(3,y=>e(r,{span:2},{default:s(()=>[o("div",H,[D,E,Q,o("span",G,[e(p,{class:"centre-but",onClick:n.showPopup},{default:s(()=>[f("进入测试")]),_:1},8,["onClick"])])])]),_:1})),64))]),_:1})])])}const K=x(L,[["render",J],["__scopeId","data-v-32d9b3af"]]),O={computed:{...q(C,["loginUser"])},data(){return{topicList:[],FillAnswers:[],FillAnswersAll:20,number:0,user:this.$route.query.name,password:this.$route.query.password}},async created(){try{const t=await k.get("/getQuestionBank",{params:{user:this.loginUser.sub.username,password:1}});console.log(t),this.FillAnswers=t.data.result,console.log(t.data.result),this.FillAnswersAll=this.FillAnswers[0].count}catch(t){console.error(t)}try{const t=await k.get("/FillAnswersByNumber?userId="+this.loginUser.sub.userId);this.topicList=t.data.result,console.log(t.data.result)}catch(t){console.error(t)}},methods:{dayjs:j,toWrong(t){this.$router.push({name:"vueWrong",query:{number:t,name:this.user,password:this.password}})},toreport(t){this.$router.push({name:"vueReport",query:{number:t,name:this.user,password:this.password}})}}},X={class:"centre"},Y={style:{width:"90vh","margin-top":"-4px"}};function Z(t,g,m,w,c,n){const r=a("t-list-item-meta"),l=a("t-button"),p=a("t-space"),y=a("t-list-item"),A=a("t-list");return u(),_("div",X,[e(A,{style:{height:"52vh"},size:"small",split:!0},{default:s(()=>[(u(!0),_(b,null,$(c.topicList,(i,et)=>(u(),B(y,null,{action:s(()=>[e(p,{size:6},{default:s(()=>[e(l,{class:"but_topic",onClick:F=>n.toreport(i.number)},{default:s(()=>[f("查看报告")]),_:2},1032,["onClick"]),e(l,{class:"but_topic",onClick:F=>n.toWrong(i.number)},{default:s(()=>[f("试题分析")]),_:2},1032,["onClick"])]),_:2},1024)]),default:s(()=>[e(r,{image:"//pic.sherry.games/assets/image/试卷.png",title:i.gname+"(做"+i.count+"题/共"+i.answers+"题)",description:`考试时间：${i.submissionTime}`},{description:s(()=>[o("div",Y,[o("span",null," 考试时间："+h(i.submissionTime),1)])]),_:2},1032,["title","description"])]),_:2},1024))),256))]),_:1})])}const tt=x(O,[["render",Z]]),at={__name:"PracticeHome",setup(t){const g=C(),m=v(1);return v(1),(w,c)=>{const n=a("t-tab-panel"),r=a("t-tabs"),l=a("t-card");return u(),_(b,null,[o("div",{style:I([{"background-position":"center"},`background-image: url('${z(g).darkT?`//pic.sherry.games/assets/image/mobileback/th (${Math.round(Math.random()*30)}).jpg`:`//pic.sherry.games/assets/image/mobileback/th (${Math.round(Math.random()*30)}).jpg`}');background-repeat: no-repeat;background-size: cover;min-height: 40vh ;margin-top: -20px`])},null,4),e(l,{bordered:!1,hoverShadow:"",style:{width:"96%",margin:"0 auto","margin-top":"-40px","min-height":"60vh"}},{default:s(()=>[e(r,{modelValue:m.value,"onUpdate:modelValue":c[0]||(c[0]=p=>m.value=p)},{default:s(()=>[e(n,{value:1,label:"分类自测","destroy-on-hide":!1},{default:s(()=>[e(K)]),_:1}),e(n,{value:2,label:"我的历史","destroy-on-hide":!1},{panel:s(()=>[e(tt)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}};export{at as default};
