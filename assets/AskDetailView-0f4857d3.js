import{u as T,v as U,b as c,s as p,e as t,o as m,c as h,f as a,w as e,a as _,j as Y,k,F as b,M as j,g,i as y,t as A,r as Q,l as z,h as F}from"./index-1858008c.js";import{_ as H}from"./ToHtml-a2ee5490.js";/* empty css                                               */const P={style:{"background-image":"url('//pic.sherry.games/assets/image/back.jpg')"}},X={__name:"AskDetailView",setup(q){const x=T(),r=U().currentRoute.value.params.id,n=c(),v=c();sessionStorage.getItem(`ask-${r} `)!=null?n.value=JSON.parse(sessionStorage.getItem(`ask-${r} `)):p.get("/askQuestion/getById?id="+r).then(i=>{n.value=i.data}),d();const u=c(!1),l=c("");function w(){if(l.value.trim()==""){j.error("请输入内容"),l.value="";return}p.get("/askQuestion/addRes?context="+l.value+"&askId="+r+"&askUser="+n.value.creatorUser).then(i=>{u.value=!1,d()})}function d(){if(n.value==null){console.log(1),setTimeout(()=>{d()},100);return}p.get("/askQuestion/getDetail?id="+r).then(i=>{v.value=i.data})}return(i,s)=>{const C=t("t-textarea"),D=t("t-dialog"),V=t("t-icon"),f=t("t-button"),I=t("t-comment"),$=t("t-list-item"),B=t("t-list"),N=t("t-card"),R=t("t-content"),S=t("t-layout");return m(),h(b,null,[a(D,{visible:u.value,"close-btn":!0,"confirm-btn":"提交","cancel-btn":"取消",onConfirm:w,"on-close":()=>{u.value=!1}},{header:e(()=>[g("解答问题")]),body:e(()=>[a(C,{style:{"margin-bottom":"-10px"},modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=o=>l.value=o),placeholder:"请输入解答",name:"description",autosize:{minRows:1,maxRows:5}},null,8,["modelValue"])]),_:1},8,["visible","on-close"]),_("div",P,[_("div",{class:Y(k(x).darkT?"boxdark":"box"),style:{"min-height":"100vh","backdrop-filter":"blur(10PX)","padding-top":"16px"}},[a(S,{style:{"max-width":"1080px",margin:"0 auto","background-color":"#0000"}},{default:e(()=>[a(R,null,{default:e(()=>[n.value!=null?(m(),y(N,{key:0,style:{"border-radius":"12px","min-height":"90vh",height:"90%","margin-bottom":"2%",width:"99%"},"header-bordered":""},{title:e(()=>[a(f,{style:{"margin-right":"4px"},shape:"circle",variant:"outline",theme:"primary"},{icon:e(()=>[a(V,{onClick:s[1]||(s[1]=o=>{this.$router.go(-1)}),name:"chevron-left"})]),_:1}),g(" 问题详情 ")]),actions:e(()=>[a(f,{onClick:s[2]||(s[2]=o=>u.value=!0),shape:"round"},{default:e(()=>[g("解答问题")]),_:1})]),default:e(()=>[_("h2",null,A(n.value.question),1),a(B,{style:{"max-height":"100%"},scroll:{type:"virtual"},split:!0},{default:e(()=>[(m(!0),h(b,null,Q(v.value,(o,M)=>(m(),y($,{key:M},{content:e(()=>[a(I,{avatar:"//pic.sherry.games/assets/userAvatar/"+o.creatorUser+".png",datetime:k(z)(o.creatTime).format("YYYY-MM-DD HH:mm:ss")},{actions:e(()=>[]),content:e(()=>[a(H,{value:o.answer.replace(/\n\n```/g,"<pre>").replace(/```\n\n/g,"</pre>").replace(/\n/g,"<br>")},null,8,["value"])]),_:2},1032,["avatar","datetime"])]),_:2},1024))),128))]),_:1})]),_:1})):F("",!0)]),_:1})]),_:1})],2)])],64)}}};export{X as default};
