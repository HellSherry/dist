import{c as ut,e as I,ax as xi,h as st,F as B,a1 as J,j as Qt,ay as Xt,az as Ia,s as H,w as Pt,aA as bi,aB as Pa,aC as Oa,aD as Sr,aE as ka,aF as Ra,aG as Pe,f as z,aa as K,a3 as sr,aH as dt,aI as Ea,i as j,aJ as Na,ab as Jt,b as Ba,a as Ga,aK as za,aL as wr,T as ht,aM as Ha,aN as Fa,aO as Wa,aP as Si,r as yt,aQ as lr,aR as Va,_ as F,aS as $a,aT as Ya,al as Y,aU as wi,aV as Cr,aW as Xa,aX as Vt,aY as Ua,aZ as it,a_ as Xe,a$ as Ci,b0 as Di,b1 as pe,b2 as Dr,b3 as Za,X as Ue,b4 as Ka,b5 as Ti,b6 as Li,b7 as Ai,b8 as Mi,b9 as Ii,ba as Pi,bb as qa,bc as ja,bd as Qa,be as Ja,bf as tn,bg as en,bh as rn,bi as an,bj as Tr,bk as nn,bl as Ze,bm as Ke,Z as Mt,a2 as te,bn as on,bo as sn,bp as ln,bq as un,br as hn,a8 as cn,bs as fn,bt as vn,bu as dn,bv as gn,bw as pn,bx as mn,by as yn,bz as _n,N as St,a7 as Ct,t as qe,E as je,bA as xn,bB as bn,as as $,bC as Lr,au as Oi,bD as Ar,bE as Mr,bF as Oe,bG as Qe,bH as ki,bI as Je,ae as Sn,bJ as wn,bK as Ri,bL as Cn,bM as Dn,bN as Tn,bO as Ln,bP as ae,bQ as An,bR as Mn,bS as Q,Q as Wt,bT as In,bU as ne,n as Pn,a0 as Ut,an as ot,p as ke,y as _e,z as On,L as kn,K as Rn,I as Ei,H as En,bV as Nn,q as Ni,B as Bn,d as X,bW as Gn,bX as zn,bY as Hn,bZ as Fn,b_ as Zt,S as Wn,G as Kt,$ as xe,a5 as Bi,a6 as Gi,b$ as Vn,ak as zi,ao as It,c0 as Hi,D as at,c1 as $n,c2 as Fi,c3 as Ir,c4 as Wi,c5 as be,c6 as Yn,c7 as Vi,ad as Xn,ah as $i,ai as tr,c8 as Un,ar as Zn,c9 as ur,k as Kn,ca as qn,cb as jn,R as ee,cc as Yi,cd as Qn,ce as Se,cf as Jn,cg as Xi,ch as to,ci as eo,cj as ro,ck as io,cl as Pr,cm as ao,cn as Or,co as kr,cp as no,cq as oo,cr as so,cs as Re,a9 as Rr,ct as Er,cu as lo,cv as uo,cw as ho,am as Nr,cx as $t,cy as co,V as fo,u as vo,W as go}from"./index.esm.min-122e8f02.js";function Nt(i){return i==null?0:i.length||1}function Br(i){return i}var po=function(){function i(e,t,r,a,n,o){this._old=e,this._new=t,this._oldKeyGetter=r||Br,this._newKeyGetter=a||Br,this.context=n,this._diffModeMultiple=o==="multiple"}return i.prototype.add=function(e){return this._add=e,this},i.prototype.update=function(e){return this._update=e,this},i.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},i.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},i.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},i.prototype.remove=function(e){return this._remove=e,this},i.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},i.prototype._executeOneToOne=function(){var e=this._old,t=this._new,r={},a=new Array(e.length),n=new Array(t.length);this._initIndexMap(e,null,a,"_oldKeyGetter"),this._initIndexMap(t,r,n,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=a[o],l=r[s],u=Nt(l);if(u>1){var h=l.shift();l.length===1&&(r[s]=l[0]),this._update&&this._update(h,o)}else u===1?(r[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(n,r)},i.prototype._executeMultiple=function(){var e=this._old,t=this._new,r={},a={},n=[],o=[];this._initIndexMap(e,r,n,"_oldKeyGetter"),this._initIndexMap(t,a,o,"_newKeyGetter");for(var s=0;s<n.length;s++){var l=n[s],u=r[l],h=a[l],c=Nt(u),v=Nt(h);if(c>1&&v===1)this._updateManyToOne&&this._updateManyToOne(h,u),a[l]=null;else if(c===1&&v>1)this._updateOneToMany&&this._updateOneToMany(h,u),a[l]=null;else if(c===1&&v===1)this._update&&this._update(h,u),a[l]=null;else if(c>1&&v>1)this._updateManyToMany&&this._updateManyToMany(h,u),a[l]=null;else if(c>1)for(var f=0;f<c;f++)this._remove&&this._remove(u[f]);else this._remove&&this._remove(u)}this._performRestAdd(o,a)},i.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var a=e[r],n=t[a],o=Nt(n);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(n[s]);else o===1&&this._add&&this._add(n);t[a]=null}},i.prototype._initIndexMap=function(e,t,r,a){for(var n=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[a](e[o],o);if(n||(r[o]=s),!!t){var l=t[s],u=Nt(l);u===0?(t[s]=o,n&&r.push(s)):u===1?t[s]=[l,o]:l.push(o)}}},i}();const mo=po;var yo=function(){function i(e,t){this._encode=e,this._schema=t}return i.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},i.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},i}();function _o(i,e){var t={},r=t.encode={},a=ut(),n=[],o=[],s={};I(i.dimensions,function(v){var f=i.getDimensionInfo(v),d=f.coordDim;if(d){var g=f.coordDimIndex;Ee(r,d)[g]=v,f.isExtraCoord||(a.set(d,1),xo(f.type)&&(n[0]=v),Ee(s,d)[g]=i.getDimensionIndex(f.name)),f.defaultTooltip&&o.push(v)}xi.each(function(m,p){var y=Ee(r,p),_=f.otherDims[p];_!=null&&_!==!1&&(y[_]=f.name)})});var l=[],u={};a.each(function(v,f){var d=r[f];u[f]=d[0],l=l.concat(d)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=st(l,function(v){return i.getDimensionInfo(v).storeDimIndex}),t.encodeFirstDimNotExtra=u;var h=r.label;h&&h.length&&(n=h.slice());var c=r.tooltip;return c&&c.length?o=c.slice():o.length||(o=n.slice()),r.defaultedLabel=n,r.defaultedTooltip=o,t.userOutput=new yo(s,e),t}function Ee(i,e){return i.hasOwnProperty(e)||(i[e]=[]),i[e]}function wu(i){return i==="category"?"ordinal":i==="time"?"time":"float"}function xo(i){return!(i==="ordinal"||i==="time")}var bo=function(){function i(e){this.otherDims={},e!=null&&B(this,e)}return i}();const me=bo;var So=Qt(),wo={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Ui=function(){function i(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return i.prototype.isDimensionOmitted=function(){return this._dimOmitted},i.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=qi(this.source)))},i.prototype.getSourceDimensionIndex=function(e){return Xt(this._dimNameMap.get(e),-1)},i.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},i.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=Ia(this.source),r=!ji(e),a="",n=[],o=0,s=0;o<e;o++){var l=void 0,u=void 0,h=void 0,c=this.dimensions[s];if(c&&c.storeDimIndex===o)l=t?c.name:null,u=c.type,h=c.ordinalMeta,s++;else{var v=this.getSourceDimension(o);v&&(l=t?v.name:null,u=v.type)}n.push({property:l,type:u,ordinalMeta:h}),t&&l!=null&&(!c||!c.isCalculationCoord)&&(a+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),a+="$",a+=wo[u]||"f",h&&(a+=h.uid),a+="$"}var f=this.source,d=[f.seriesLayoutBy,f.startIndex,a].join("$$");return{dimensions:n,hash:d}},i.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,r=0;t<this._fullDimCount;t++){var a=void 0,n=this.dimensions[r];if(n&&n.storeDimIndex===t)n.isCalculationCoord||(a=n.name),r++;else{var o=this.getSourceDimension(t);o&&(a=o.name)}e.push(a)}return e},i.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},i}();function Zi(i){return i instanceof Ui}function Ki(i){for(var e=ut(),t=0;t<(i||[]).length;t++){var r=i[t],a=J(r)?r.name:r;a!=null&&e.get(a)==null&&e.set(a,t)}return e}function qi(i){var e=So(i);return e.dimNameMap||(e.dimNameMap=Ki(i.dimensionsDefine))}function ji(i){return i>30}var Bt=J,ft=st,Co=typeof Int32Array>"u"?Array:Int32Array,Do="e\0\0",Gr=-1,To=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Lo=["_approximateExtent"],zr,oe,Gt,zt,Ne,se,Be,Ao=function(){function i(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,a=!1;Zi(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(a=!0,r=e),r=r||["x","y"];for(var n={},o=[],s={},l=!1,u={},h=0;h<r.length;h++){var c=r[h],v=H(c)?new me({name:c}):c instanceof me?c:new me(c),f=v.name;v.type=v.type||"float",v.coordDim||(v.coordDim=f,v.coordDimIndex=0);var d=v.otherDims=v.otherDims||{};o.push(f),n[f]=v,u[f]!=null&&(l=!0),v.createInvertedIndices&&(s[f]=[]),d.itemName===0&&(this._nameDimIdx=h),d.itemId===0&&(this._idDimIdx=h),a&&(v.storeDimIndex=h)}if(this.dimensions=o,this._dimInfos=n,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=ut();I(o,function(m){g.set(n[m].storeDimIndex,m)})}}return i.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var r=this._dimIdxToName.get(t);if(r!=null)return r;var a=this._schema.getSourceDimension(t);if(a)return a.name},i.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},i.prototype._recognizeDimIndex=function(e){if(Pt(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},i.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},i.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},i.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(r){return t.hasOwnProperty(r)?t[r]:void 0}:function(r){return t[r]}},i.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},i.prototype.mapDimension=function(e,t){var r=this._dimSummary;if(t==null)return r.encodeFirstDimNotExtra[e];var a=r.encode[e];return a?a[t]:null},i.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,r=t.encode[e];return(r||[]).slice()},i.prototype.getStore=function(){return this._store},i.prototype.initData=function(e,t,r){var a=this,n;if(e instanceof Sr&&(n=e),!n){var o=this.dimensions,s=bi(e)||Pa(e)?new Oa(e,o.length):e;n=new Sr;var l=ft(o,function(u){return{type:a._dimInfos[u].type,property:u}});n.initData(s,l,r)}this._store=n,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,n.count()),this._dimSummary=_o(this,this._schema),this.userOutput=this._dimSummary.userOutput},i.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},i.prototype.appendValues=function(e,t){var r=this._store.appendValues(e,t.length),a=r.start,n=r.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=a;s<n;s++){var l=s-a;this._nameList[s]=t[l],o&&Be(this,s)}},i.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,r=0;r<t.length;r++){var a=this._dimInfos[t[r]];a.ordinalMeta&&e.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},i.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==ka&&!e.fillStorage},i.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store,a=r.getProvider();this._updateOrdinalMeta();var n=this._nameList,o=this._idList,s=a.getSource().sourceFormat,l=s===Ba;if(l&&!a.pure)for(var u=[],h=e;h<t;h++){var c=a.getItem(h,u);if(!this.hasItemOption&&Ra(c)&&(this.hasItemOption=!0),c){var v=c.name;n[h]==null&&v!=null&&(n[h]=Pe(v,null));var f=c.id;o[h]==null&&f!=null&&(o[h]=Pe(f,null))}}if(this._shouldMakeIdFromName())for(var h=e;h<t;h++)Be(this,h);zr(this)}},i.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},i.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},i.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},i.prototype.setCalculationInfo=function(e,t){Bt(e)?B(this._calculationInfo,e):this._calculationInfo[e]=t},i.prototype.getName=function(e){var t=this.getRawIndex(e),r=this._nameList[t];return r==null&&this._nameDimIdx!=null&&(r=Gt(this,this._nameDimIdx,t)),r==null&&(r=""),r},i.prototype._getCategory=function(e,t){var r=this._store.get(e,t),a=this._store.getOrdinalMeta(e);return a?a.categories[r]:r},i.prototype.getId=function(e){return oe(this,this.getRawIndex(e))},i.prototype.count=function(){return this._store.count()},i.prototype.get=function(e,t){var r=this._store,a=this._dimInfos[e];if(a)return r.get(a.storeDimIndex,t)},i.prototype.getByRawIndex=function(e,t){var r=this._store,a=this._dimInfos[e];if(a)return r.getByRawIndex(a.storeDimIndex,t)},i.prototype.getIndices=function(){return this._store.getIndices()},i.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},i.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},i.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},i.prototype.getValues=function(e,t){var r=this,a=this._store;return z(e)?a.getValues(ft(e,function(n){return r._getStoreDimIndex(n)}),t):a.getValues(e)},i.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,r=0,a=t.length;r<a;r++)if(isNaN(this._store.get(t[r],e)))return!1;return!0},i.prototype.indexOfName=function(e){for(var t=0,r=this._store.count();t<r;t++)if(this.getName(t)===e)return t;return-1},i.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},i.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},i.prototype.rawIndexOf=function(e,t){var r=e&&this._invertedIndicesMap[e],a=r[t];return a==null||isNaN(a)?Gr:a},i.prototype.indicesOfNearest=function(e,t,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,r)},i.prototype.each=function(e,t,r){j(e)&&(r=t,t=e,e=[]);var a=r||this,n=ft(zt(e),this._getStoreDimIndex,this);this._store.each(n,a?K(t,a):t)},i.prototype.filterSelf=function(e,t,r){j(e)&&(r=t,t=e,e=[]);var a=r||this,n=ft(zt(e),this._getStoreDimIndex,this);return this._store=this._store.filter(n,a?K(t,a):t),this},i.prototype.selectRange=function(e){var t=this,r={},a=sr(e);return I(a,function(n){var o=t._getStoreDimIndex(n);r[o]=e[n]}),this._store=this._store.selectRange(r),this},i.prototype.mapArray=function(e,t,r){j(e)&&(r=t,t=e,e=[]),r=r||this;var a=[];return this.each(e,function(){a.push(t&&t.apply(this,arguments))},r),a},i.prototype.map=function(e,t,r,a){var n=r||a||this,o=ft(zt(e),this._getStoreDimIndex,this),s=se(this);return s._store=this._store.map(o,n?K(t,n):t),s},i.prototype.modify=function(e,t,r,a){var n=r||a||this,o=ft(zt(e),this._getStoreDimIndex,this);this._store.modify(o,n?K(t,n):t)},i.prototype.downSample=function(e,t,r,a){var n=se(this);return n._store=this._store.downSample(this._getStoreDimIndex(e),t,r,a),n},i.prototype.lttbDownSample=function(e,t){var r=se(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),r},i.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},i.prototype.getItemModel=function(e){var t=this.hostModel,r=this.getRawDataItem(e);return new dt(r,t,t&&t.ecModel)},i.prototype.diff=function(e){var t=this;return new mo(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return oe(e,r)},function(r){return oe(t,r)})},i.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},i.prototype.setVisual=function(e,t){this._visual=this._visual||{},Bt(e)?B(this._visual,e):this._visual[e]=t},i.prototype.getItemVisual=function(e,t){var r=this._itemVisuals[e],a=r&&r[t];return a??this.getVisual(t)},i.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},i.prototype.ensureUniqueItemVisual=function(e,t){var r=this._itemVisuals,a=r[e];a||(a=r[e]={});var n=a[t];return n==null&&(n=this.getVisual(t),z(n)?n=n.slice():Bt(n)&&(n=B({},n)),a[t]=n),n},i.prototype.setItemVisual=function(e,t,r){var a=this._itemVisuals[e]||{};this._itemVisuals[e]=a,Bt(t)?B(a,t):a[t]=r},i.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},i.prototype.setLayout=function(e,t){Bt(e)?B(this._layout,e):this._layout[e]=t},i.prototype.getLayout=function(e){return this._layout[e]},i.prototype.getItemLayout=function(e){return this._itemLayouts[e]},i.prototype.setItemLayout=function(e,t,r){this._itemLayouts[e]=r?B(this._itemLayouts[e]||{},t):t},i.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},i.prototype.setItemGraphicEl=function(e,t){var r=this.hostModel&&this.hostModel.seriesIndex;Ea(r,this.dataType,e,t),this._graphicEls[e]=t},i.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},i.prototype.eachItemGraphicEl=function(e,t){I(this._graphicEls,function(r,a){r&&e&&e.call(t,r,a)})},i.prototype.cloneShallow=function(e){return e||(e=new i(this._schema?this._schema:ft(this.dimensions,this._getDimInfo,this),this.hostModel)),Ne(e,this),e._store=this._store,e},i.prototype.wrapMethod=function(e,t){var r=this[e];j(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var a=r.apply(this,arguments);return t.apply(this,[a].concat(Na(arguments)))})},i.internalField=function(){zr=function(e){var t=e._invertedIndicesMap;I(t,function(r,a){var n=e._dimInfos[a],o=n.ordinalMeta,s=e._store;if(o){r=t[a]=new Co(o.categories.length);for(var l=0;l<r.length;l++)r[l]=Gr;for(var l=0;l<s.count();l++)r[s.get(n.storeDimIndex,l)]=l}})},Gt=function(e,t,r){return Pe(e._getCategory(t,r),null)},oe=function(e,t){var r=e._idList[t];return r==null&&e._idDimIdx!=null&&(r=Gt(e,e._idDimIdx,t)),r==null&&(r=Do+t),r},zt=function(e){return z(e)||(e=e!=null?[e]:[]),e},se=function(e){var t=new i(e._schema?e._schema:ft(e.dimensions,e._getDimInfo,e),e.hostModel);return Ne(t,e),t},Ne=function(e,t){I(To.concat(t.__wrappedMethods||[]),function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e.__wrappedMethods=t.__wrappedMethods,I(Lo,function(r){e[r]=Jt(t[r])}),e._calculationInfo=B({},t._calculationInfo)},Be=function(e,t){var r=e._nameList,a=e._idList,n=e._nameDimIdx,o=e._idDimIdx,s=r[t],l=a[t];if(s==null&&n!=null&&(r[t]=s=Gt(e,n,t)),l==null&&o!=null&&(a[t]=l=Gt(e,o,t)),l==null&&s!=null){var u=e._nameRepeatCount,h=u[s]=(u[s]||0)+1;l=s,h>1&&(l+="__ec__"+h),a[t]=l}}}(),i}();const Mo=Ao;function Io(i,e){bi(i)||(i=Ga(i)),e=e||{};var t=e.coordDimensions||[],r=e.dimensionsDefine||i.dimensionsDefine||[],a=ut(),n=[],o=Oo(i,t,r,e.dimensionsCount),s=e.canOmitUnusedDimensions&&ji(o),l=r===i.dimensionsDefine,u=l?qi(i):Ki(r),h=e.encodeDefine;!h&&e.encodeDefaulter&&(h=e.encodeDefaulter(i,o));for(var c=ut(h),v=new za(o),f=0;f<v.length;f++)v[f]=-1;function d(T){var C=v[T];if(C<0){var w=r[T],L=J(w)?w:{name:w},M=new me,O=L.name;O!=null&&u.get(O)!=null&&(M.name=M.displayName=O),L.type!=null&&(M.type=L.type),L.displayName!=null&&(M.displayName=L.displayName);var P=n.length;return v[T]=P,M.storeDimIndex=T,n.push(M),M}return n[C]}if(!s)for(var f=0;f<o;f++)d(f);c.each(function(T,C){var w=wr(T).slice();if(w.length===1&&!H(w[0])&&w[0]<0){c.set(C,!1);return}var L=c.set(C,[]);I(w,function(M,O){var P=H(M)?u.get(M):M;P!=null&&P<o&&(L[O]=P,m(d(P),C,O))})});var g=0;I(t,function(T){var C,w,L,M;if(H(T))C=T,M={};else{M=T,C=M.name;var O=M.ordinalMeta;M.ordinalMeta=null,M=B({},M),M.ordinalMeta=O,w=M.dimsDef,L=M.otherDims,M.name=M.coordDim=M.coordDimIndex=M.dimsDef=M.otherDims=null}var P=c.get(C);if(P!==!1){if(P=wr(P),!P.length)for(var N=0;N<(w&&w.length||1);N++){for(;g<o&&d(g).coordDim!=null;)g++;g<o&&P.push(g++)}I(P,function(q,R){var k=d(q);if(l&&M.type!=null&&(k.type=M.type),m(ht(k,M),C,R),k.name==null&&w){var E=w[R];!J(E)&&(E={name:E}),k.name=k.displayName=E.name,k.defaultTooltip=E.defaultTooltip}L&&ht(k.otherDims,L)})}});function m(T,C,w){xi.get(C)!=null?T.otherDims[C]=w:(T.coordDim=C,T.coordDimIndex=w,a.set(C,!0))}var p=e.generateCoord,y=e.generateCoordCount,_=y!=null;y=p?y||1:0;var x=p||"value";function S(T){T.name==null&&(T.name=T.coordDim)}if(s)I(n,function(T){S(T)}),n.sort(function(T,C){return T.storeDimIndex-C.storeDimIndex});else for(var A=0;A<o;A++){var D=d(A),b=D.coordDim;b==null&&(D.coordDim=ko(x,a,_),D.coordDimIndex=0,(!p||y<=0)&&(D.isExtraCoord=!0),y--),S(D),D.type==null&&(Ha(i,A)===Fa.Must||D.isExtraCoord&&(D.otherDims.itemName!=null||D.otherDims.seriesName!=null))&&(D.type="ordinal")}return Po(n),new Ui({source:i,dimensions:n,fullDimensionCount:o,dimensionOmitted:s})}function Po(i){for(var e=ut(),t=0;t<i.length;t++){var r=i[t],a=r.name,n=e.get(a)||0;n>0&&(r.name=a+(n-1)),n++,e.set(a,n)}}function Oo(i,e,t,r){var a=Math.max(i.dimensionsDetectedCount||1,e.length,t.length,r||0);return I(e,function(n){var o;J(n)&&(o=n.dimsDef)&&(a=Math.max(a,o.length))}),a}function ko(i,e,t){if(t||e.hasKey(i)){for(var r=0;e.hasKey(i+r);)r++;i+=r}return e.set(i,!0),i}function Cu(i,e,t){t=t||{};var r=t.byIndex,a=t.stackedCoordDimension,n,o,s;Ro(e)?n=e:(o=e.schema,n=o.dimensions,s=e.store);var l=!!(i&&i.get("stack")),u,h,c,v;if(I(n,function(y,_){H(y)&&(n[_]=y={name:y}),l&&!y.isExtraCoord&&(!r&&!u&&y.ordinalMeta&&(u=y),!h&&y.type!=="ordinal"&&y.type!=="time"&&(!a||a===y.coordDim)&&(h=y))}),h&&!r&&!u&&(r=!0),h){c="__\0ecstackresult_"+i.id,v="__\0ecstackedover_"+i.id,u&&(u.createInvertedIndices=!0);var f=h.coordDim,d=h.type,g=0;I(n,function(y){y.coordDim===f&&g++});var m={name:c,coordDim:f,coordDimIndex:g,type:d,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:n.length},p={name:v,coordDim:v,coordDimIndex:g+1,type:d,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:n.length+1};o?(s&&(m.storeDimIndex=s.ensureCalculationDimension(v,d),p.storeDimIndex=s.ensureCalculationDimension(c,d)),o.appendCalculationDimension(m),o.appendCalculationDimension(p)):(n.push(m),n.push(p))}return{stackedDimension:h&&h.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:v,stackResultDimension:c}}function Ro(i){return!Zi(i.schema)}function Qi(i,e){return!!e&&e===i.getCalculationInfo("stackedDimension")}function Eo(i,e){return Qi(i,e)?i.getCalculationInfo("stackResultDimension"):e}var Ji=function(){function i(e){this._setting=e||{},this._extent=[1/0,-1/0]}return i.prototype.getSetting=function(e){return this._setting[e]},i.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},i.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.setExtent=function(e,t){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(t)||(r[1]=t)},i.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},i.prototype.isBlank=function(){return this._isBlank},i.prototype.setBlank=function(e){this._isBlank=e},i}();Wa(Ji);const ct=Ji;var No=0,Bo=function(){function i(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++No}return i.createByAxisModel=function(e){var t=e.option,r=t.data,a=r&&st(r,Go);return new i({categories:a,needCollect:!a,deduplication:t.dedplication!==!1})},i.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},i.prototype.parseAndCollect=function(e){var t,r=this._needCollect;if(!H(e)&&!r)return e;if(r&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var a=this._getOrCreateMap();return t=a.get(e),t==null&&(r?(t=this.categories.length,this.categories[t]=e,a.set(e,t)):t=NaN),t},i.prototype._getOrCreateMap=function(){return this._map||(this._map=ut(this.categories))},i}();function Go(i){return J(i)&&i.value!=null?i.value:i+""}const Hr=Bo;function Du(i){return i.type==="interval"||i.type==="log"}function zo(i,e,t,r){var a={},n=i[1]-i[0],o=a.interval=Si(n/e,!0);t!=null&&o<t&&(o=a.interval=t),r!=null&&o>r&&(o=a.interval=r);var s=a.intervalPrecision=ta(o),l=a.niceTickExtent=[yt(Math.ceil(i[0]/o)*o,s),yt(Math.floor(i[1]/o)*o,s)];return Ho(l,i),a}function Tu(i){var e=Math.pow(10,Va(i)),t=i/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,yt(t*e)}function ta(i){return lr(i)+2}function Fr(i,e,t){i[e]=Math.max(Math.min(i[e],t[1]),t[0])}function Ho(i,e){!isFinite(i[0])&&(i[0]=e[0]),!isFinite(i[1])&&(i[1]=e[1]),Fr(i,0,e),Fr(i,1,e),i[0]>i[1]&&(i[0]=i[1])}function Ce(i,e){return i>=e[0]&&i<=e[1]}function De(i,e){return e[1]===e[0]?.5:(i-e[0])/(e[1]-e[0])}function Te(i,e){return i*(e[1]-e[0])+e[0]}var ea=function(i){F(e,i);function e(t){var r=i.call(this,t)||this;r.type="ordinal";var a=r.getSetting("ordinalMeta");return a||(a=new Hr({})),z(a)&&(a=new Hr({categories:st(a,function(n){return J(n)?n.value:n})})),r._ordinalMeta=a,r._extent=r.getSetting("extent")||[0,a.categories.length-1],r}return e.prototype.parse=function(t){return t==null?NaN:H(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),Ce(t,this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),De(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(Te(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],r=this._extent,a=r[0];a<=r[1];)t.push({value:a}),a++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=t.ordinalNumbers,a=this._ordinalNumbersByTick=[],n=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);o<l;++o){var u=r[o];a[o]=u,n[u]=o}for(var h=0;o<s;++o){for(;n[h]!=null;)h++;a.push(h),n[h]=o}},e.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),a=this._ordinalMeta.categories[r];return a==null?"":a+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(ct);ct.registerClass(ea);const ra=ea;var _t=yt,ia=function(i){F(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return Ce(t,this._extent)},e.prototype.normalize=function(t){return De(t,this._extent)},e.prototype.scale=function(t){return Te(t,this._extent)},e.prototype.setExtent=function(t,r){var a=this._extent;isNaN(t)||(a[0]=parseFloat(t)),isNaN(r)||(a[1]=parseFloat(r))},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1]),this.setExtent(r[0],r[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=ta(t)},e.prototype.getTicks=function(t){var r=this._interval,a=this._extent,n=this._niceExtent,o=this._intervalPrecision,s=[];if(!r)return s;var l=1e4;a[0]<n[0]&&(t?s.push({value:_t(n[0]-r,o)}):s.push({value:a[0]}));for(var u=n[0];u<=n[1]&&(s.push({value:u}),u=_t(u+r,o),u!==s[s.length-1].value);)if(s.length>l)return[];var h=s.length?s[s.length-1].value:n[1];return a[1]>h&&(t?s.push({value:_t(h+r,o)}):s.push({value:a[1]})),s},e.prototype.getMinorTicks=function(t){for(var r=this.getTicks(!0),a=[],n=this.getExtent(),o=1;o<r.length;o++){for(var s=r[o],l=r[o-1],u=0,h=[],c=s.value-l.value,v=c/t;u<t-1;){var f=_t(l.value+(u+1)*v);f>n[0]&&f<n[1]&&h.push(f),u++}a.push(h)}return a},e.prototype.getLabel=function(t,r){if(t==null)return"";var a=r&&r.precision;a==null?a=lr(t.value)||0:a==="auto"&&(a=this._intervalPrecision);var n=_t(t.value,a,!0);return $a(n)},e.prototype.calcNiceTicks=function(t,r,a){t=t||5;var n=this._extent,o=n[1]-n[0];if(isFinite(o)){o<0&&(o=-o,n.reverse());var s=zo(n,t,r,a);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var a=Math.abs(r[0]);t.fixMax||(r[1]+=a/2),r[0]-=a/2}else r[1]=1;var n=r[1]-r[0];isFinite(n)||(r[0]=0,r[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(r[0]=_t(Math.floor(r[0]/o)*o)),t.fixMax||(r[1]=_t(Math.ceil(r[1]/o)*o))},e.prototype.setNiceExtent=function(t,r){this._niceExtent=[t,r]},e.type="interval",e}(ct);ct.registerClass(ia);const Le=ia;var aa=typeof Float32Array<"u",Fo=aa?Float32Array:Array;function Ge(i){return z(i)?aa?new Float32Array(i):i:new Fo(i)}var Wo="__ec_stack_";function hr(i){return i.get("stack")||Wo+i.seriesIndex}function cr(i){return i.dim+i.index}function na(i,e){var t=[];return e.eachSeriesByType(i,function(r){sa(r)&&t.push(r)}),t}function Vo(i){var e={};I(i,function(l){var u=l.coordinateSystem,h=u.getBaseAxis();if(!(h.type!=="time"&&h.type!=="value"))for(var c=l.getData(),v=h.dim+"_"+h.index,f=c.getDimensionIndex(c.mapDimension(h.dim)),d=c.getStore(),g=0,m=d.count();g<m;++g){var p=d.get(f,g);e[v]?e[v].push(p):e[v]=[p]}});var t={};for(var r in e)if(e.hasOwnProperty(r)){var a=e[r];if(a){a.sort(function(l,u){return l-u});for(var n=null,o=1;o<a.length;++o){var s=a[o]-a[o-1];s>0&&(n=n===null?s:Math.min(n,s))}t[r]=n}}return t}function oa(i){var e=Vo(i),t=[];return I(i,function(r){var a=r.coordinateSystem,n=a.getBaseAxis(),o=n.getExtent(),s;if(n.type==="category")s=n.getBandWidth();else if(n.type==="value"||n.type==="time"){var l=n.dim+"_"+n.index,u=e[l],h=Math.abs(o[1]-o[0]),c=n.scale.getExtent(),v=Math.abs(c[1]-c[0]);s=u?h/v*u:h}else{var f=r.getData();s=Math.abs(o[1]-o[0])/f.count()}var d=Y(r.get("barWidth"),s),g=Y(r.get("barMaxWidth"),s),m=Y(r.get("barMinWidth")||(la(r)?.5:1),s),p=r.get("barGap"),y=r.get("barCategoryGap");t.push({bandWidth:s,barWidth:d,barMaxWidth:g,barMinWidth:m,barGap:p,barCategoryGap:y,axisKey:cr(n),stackId:hr(r)})}),$o(t)}function $o(i){var e={};I(i,function(r,a){var n=r.axisKey,o=r.bandWidth,s=e[n]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;e[n]=s;var u=r.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var h=r.barWidth;h&&!l[u].width&&(l[u].width=h,h=Math.min(s.remainedWidth,h),s.remainedWidth-=h);var c=r.barMaxWidth;c&&(l[u].maxWidth=c);var v=r.barMinWidth;v&&(l[u].minWidth=v);var f=r.barGap;f!=null&&(s.gap=f);var d=r.barCategoryGap;d!=null&&(s.categoryGap=d)});var t={};return I(e,function(r,a){t[a]={};var n=r.stacks,o=r.bandWidth,s=r.categoryGap;if(s==null){var l=sr(n).length;s=Math.max(35-l*4,15)+"%"}var u=Y(s,o),h=Y(r.gap,1),c=r.remainedWidth,v=r.autoWidthCount,f=(c-u)/(v+(v-1)*h);f=Math.max(f,0),I(n,function(p){var y=p.maxWidth,_=p.minWidth;if(p.width){var x=p.width;y&&(x=Math.min(x,y)),_&&(x=Math.max(x,_)),p.width=x,c-=x+h*x,v--}else{var x=f;y&&y<x&&(x=Math.min(y,c)),_&&_>x&&(x=_),x!==f&&(p.width=x,c-=x+h*x,v--)}}),f=(c-u)/(v+(v-1)*h),f=Math.max(f,0);var d=0,g;I(n,function(p,y){p.width||(p.width=f),g=p,d+=p.width*(1+h)}),g&&(d-=g.width*h);var m=-d/2;I(n,function(p,y){t[a][y]=t[a][y]||{bandWidth:o,offset:m,width:p.width},m+=p.width*(1+h)})}),t}function Yo(i,e,t){if(i&&e){var r=i[cr(e)];return r!=null&&t!=null?r[hr(t)]:r}}function Lu(i,e){var t=na(i,e),r=oa(t);I(t,function(a){var n=a.getData(),o=a.coordinateSystem,s=o.getBaseAxis(),l=hr(a),u=r[cr(s)][l],h=u.offset,c=u.width;n.setLayout({bandWidth:u.bandWidth,offset:h,size:c})})}function Au(i){return{seriesType:i,plan:Ya(),reset:function(e){if(sa(e)){var t=e.getData(),r=e.coordinateSystem,a=r.getBaseAxis(),n=r.getOtherAxis(a),o=t.getDimensionIndex(t.mapDimension(n.dim)),s=t.getDimensionIndex(t.mapDimension(a.dim)),l=e.get("showBackground",!0),u=t.mapDimension(n.dim),h=t.getCalculationInfo("stackResultDimension"),c=Qi(t,u)&&!!t.getCalculationInfo("stackedOnSeries"),v=n.isHorizontal(),f=Xo(a,n),d=la(e),g=e.get("barMinHeight")||0,m=h&&t.getDimensionIndex(h),p=t.getLayout("size"),y=t.getLayout("offset");return{progress:function(_,x){for(var S=_.count,A=d&&Ge(S*3),D=d&&l&&Ge(S*3),b=d&&Ge(S),T=r.master.getRect(),C=v?T.width:T.height,w,L=x.getStore(),M=0;(w=_.next())!=null;){var O=L.get(c?m:o,w),P=L.get(s,w),N=f,q=void 0;c&&(q=+O-L.get(o,w));var R=void 0,k=void 0,E=void 0,U=void 0;if(v){var W=r.dataToPoint([O,P]);if(c){var et=r.dataToPoint([q,P]);N=et[0]}R=N,k=W[1]+y,E=W[0]-N,U=p,Math.abs(E)<g&&(E=(E<0?-1:1)*g)}else{var W=r.dataToPoint([P,O]);if(c){var et=r.dataToPoint([P,q]);N=et[1]}R=W[0]+y,k=N,E=p,U=W[1]-N,Math.abs(U)<g&&(U=(U<=0?-1:1)*g)}d?(A[M]=R,A[M+1]=k,A[M+2]=v?E:U,D&&(D[M]=v?T.x:R,D[M+1]=v?k:T.y,D[M+2]=C),b[w]=w):x.setItemLayout(w,{x:R,y:k,width:E,height:U}),M+=3}d&&x.setLayout({largePoints:A,largeDataIndices:b,largeBackgroundPoints:D,valueAxisHorizontal:v})}}}}}}function sa(i){return i.coordinateSystem&&i.coordinateSystem.type==="cartesian2d"}function la(i){return i.pipelineContext&&i.pipelineContext.large}function Xo(i,e){return e.toGlobalCoord(e.dataToCoord(e.type==="log"?1:0))}var Uo=function(i,e,t,r){for(;t<r;){var a=t+r>>>1;i[a][1]<e?t=a+1:r=a}return t},ua=function(i){F(e,i);function e(t){var r=i.call(this,t)||this;return r.type="time",r}return e.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return wi(t.value,Cr[Xa(Vt(this._minLevelUnit))]||Cr.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,r,a){var n=this.getSetting("useUTC"),o=this.getSetting("locale");return Ua(t,r,a,o,n)},e.prototype.getTicks=function(){var t=this._interval,r=this._extent,a=[];if(!t)return a;a.push({value:r[0],level:0});var n=this.getSetting("useUTC"),o=ts(this._minLevelUnit,this._approxInterval,n,r);return a=a.concat(o),a.push({value:r[1],level:0}),a},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1]&&(r[0]-=it,r[1]+=it),r[1]===-1/0&&r[0]===1/0){var a=new Date;r[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),r[0]=r[1]-it}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,r,a){t=t||10;var n=this._extent,o=n[1]-n[0];this._approxInterval=o/t,r!=null&&this._approxInterval<r&&(this._approxInterval=r),a!=null&&this._approxInterval>a&&(this._approxInterval=a);var s=le.length,l=Math.min(Uo(le,this._approxInterval,0,s),s-1);this._interval=le[l][1],this._minLevelUnit=le[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return Pt(t)?t:+Xe(t)},e.prototype.contain=function(t){return Ce(this.parse(t),this._extent)},e.prototype.normalize=function(t){return De(this.parse(t),this._extent)},e.prototype.scale=function(t){return Te(t,this._extent)},e.type="time",e}(Le),le=[["second",Ci],["minute",Di],["hour",pe],["quarter-day",pe*6],["half-day",pe*12],["day",it*1.2],["half-week",it*3.5],["week",it*7],["month",it*31],["quarter",it*95],["half-year",Dr/2],["year",Dr]];function Zo(i,e,t,r){var a=Xe(e),n=Xe(t),o=function(d){return Tr(a,d,r)===Tr(n,d,r)},s=function(){return o("year")},l=function(){return s()&&o("month")},u=function(){return l()&&o("day")},h=function(){return u()&&o("hour")},c=function(){return h()&&o("minute")},v=function(){return c()&&o("second")},f=function(){return v()&&o("millisecond")};switch(i){case"year":return s();case"month":return l();case"day":return u();case"hour":return h();case"minute":return c();case"second":return v();case"millisecond":return f()}}function Ko(i,e){return i/=it,i>16?16:i>7.5?7:i>3.5?4:i>1.5?2:1}function qo(i){var e=30*it;return i/=e,i>6?6:i>3?3:i>2?2:1}function jo(i){return i/=pe,i>12?12:i>6?6:i>3.5?4:i>2?2:1}function Wr(i,e){return i/=e?Di:Ci,i>30?30:i>20?20:i>15?15:i>10?10:i>5?5:i>2?2:1}function Qo(i){return Si(i,!0)}function Jo(i,e,t){var r=new Date(i);switch(Vt(e)){case"year":case"month":r[Pi(t)](0);case"day":r[Ii(t)](1);case"hour":r[Mi(t)](0);case"minute":r[Ai(t)](0);case"second":r[Ti(t)](0),r[Li(t)](0)}return r.getTime()}function ts(i,e,t,r){var a=1e4,n=Ka,o=0;function s(C,w,L,M,O,P,N){for(var q=new Date(w),R=w,k=q[M]();R<L&&R<=r[1];)N.push({value:R}),k+=C,q[O](k),R=q.getTime();N.push({value:R,notAdd:!0})}function l(C,w,L){var M=[],O=!w.length;if(!Zo(Vt(C),r[0],r[1],t)){O&&(w=[{value:Jo(new Date(r[0]),C,t)},{value:r[1]}]);for(var P=0;P<w.length-1;P++){var N=w[P].value,q=w[P+1].value;if(N!==q){var R=void 0,k=void 0,E=void 0,U=!1;switch(C){case"year":R=Math.max(1,Math.round(e/it/365)),k=rn(t),E=an(t);break;case"half-year":case"quarter":case"month":R=qo(e),k=en(t),E=Pi(t);break;case"week":case"half-week":case"day":R=Ko(e),k=tn(t),E=Ii(t),U=!0;break;case"half-day":case"quarter-day":case"hour":R=jo(e),k=Ja(t),E=Mi(t);break;case"minute":R=Wr(e,!0),k=Qa(t),E=Ai(t);break;case"second":R=Wr(e,!1),k=ja(t),E=Ti(t);break;case"millisecond":R=Qo(e),k=qa(t),E=Li(t);break}s(R,N,q,k,E,U,M),C==="year"&&L.length>1&&P===0&&L.unshift({value:L[0].value-R})}}for(var P=0;P<M.length;P++)L.push(M[P]);return M}}for(var u=[],h=[],c=0,v=0,f=0;f<n.length&&o++<a;++f){var d=Vt(n[f]);if(Za(n[f])){l(n[f],u[u.length-1]||[],h);var g=n[f+1]?Vt(n[f+1]):null;if(d!==g){if(h.length){v=c,h.sort(function(C,w){return C.value-w.value});for(var m=[],p=0;p<h.length;++p){var y=h[p].value;(p===0||h[p-1].value!==y)&&(m.push(h[p]),y>=r[0]&&y<=r[1]&&c++)}var _=(r[1]-r[0])/e;if(c>_*1.5&&v>_/1.5||(u.push(m),c>_||i===n[f]))break}h=[]}}}for(var x=Ue(st(u,function(C){return Ue(C,function(w){return w.value>=r[0]&&w.value<=r[1]&&!w.notAdd})}),function(C){return C.length>0}),S=[],A=x.length-1,f=0;f<x.length;++f)for(var D=x[f],b=0;b<D.length;++b)S.push({value:D[b].value,level:A-f});S.sort(function(C,w){return C.value-w.value});for(var T=[],f=0;f<S.length;++f)(f===0||S[f].value!==S[f-1].value)&&T.push(S[f]);return T}ct.registerClass(ua);const es=ua;var Vr=ct.prototype,Yt=Le.prototype,rs=yt,is=Math.floor,as=Math.ceil,ue=Math.pow,rt=Math.log,fr=function(i){F(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Le,t._interval=0,t}return e.prototype.getTicks=function(t){var r=this._originalScale,a=this._extent,n=r.getExtent(),o=Yt.getTicks.call(this,t);return st(o,function(s){var l=s.value,u=yt(ue(this.base,l));return u=l===a[0]&&this._fixMin?he(u,n[0]):u,u=l===a[1]&&this._fixMax?he(u,n[1]):u,{value:u}},this)},e.prototype.setExtent=function(t,r){var a=rt(this.base);t=rt(Math.max(0,t))/a,r=rt(Math.max(0,r))/a,Yt.setExtent.call(this,t,r)},e.prototype.getExtent=function(){var t=this.base,r=Vr.getExtent.call(this);r[0]=ue(t,r[0]),r[1]=ue(t,r[1]);var a=this._originalScale,n=a.getExtent();return this._fixMin&&(r[0]=he(r[0],n[0])),this._fixMax&&(r[1]=he(r[1],n[1])),r},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var r=this.base;t[0]=rt(t[0])/rt(r),t[1]=rt(t[1])/rt(r),Vr.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.calcNiceTicks=function(t){t=t||10;var r=this._extent,a=r[1]-r[0];if(!(a===1/0||a<=0)){var n=nn(a),o=t/a*n;for(o<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0;)n*=10;var s=[yt(as(r[0]/n)*n),yt(is(r[1]/n)*n)];this._interval=n,this._niceExtent=s}},e.prototype.calcNiceExtent=function(t){Yt.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=rt(t)/rt(this.base),Ce(t,this._extent)},e.prototype.normalize=function(t){return t=rt(t)/rt(this.base),De(t,this._extent)},e.prototype.scale=function(t){return t=Te(t,this._extent),ue(this.base,t)},e.type="log",e}(ct),ha=fr.prototype;ha.getMinorTicks=Yt.getMinorTicks;ha.getLabel=Yt.getLabel;function he(i,e){return rs(i,lr(e))}ct.registerClass(fr);const ns=fr;var os=function(){function i(e,t,r){this._prepareParams(e,t,r)}return i.prototype._prepareParams=function(e,t,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var a=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var n=this._modelMinRaw=t.get("min",!0);j(n)?this._modelMinNum=ce(e,n({min:r[0],max:r[1]})):n!=="dataMin"&&(this._modelMinNum=ce(e,n));var o=this._modelMaxRaw=t.get("max",!0);if(j(o)?this._modelMaxNum=ce(e,o({min:r[0],max:r[1]})):o!=="dataMax"&&(this._modelMaxNum=ce(e,o)),a)this._axisDataLen=t.getCategories().length;else{var s=t.get("boundaryGap"),l=z(s)?s:[s||0,s||0];typeof l[0]=="boolean"||typeof l[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Ze(l[0],1),Ze(l[1],1)]}},i.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,r=this._dataMax,a=this._axisDataLen,n=this._boundaryGapInner,o=e?null:r-t||Math.abs(t),s=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,u=s!=null,h=l!=null;s==null&&(s=e?a?0:NaN:t-n[0]*o),l==null&&(l=e?a?a-1:NaN:r+n[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var c=Ke(s)||Ke(l)||e&&!a;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!h&&(l=0));var v=this._determinedMin,f=this._determinedMax;return v!=null&&(s=v,u=!0),f!=null&&(l=f,h=!0),{min:s,max:l,minFixed:u,maxFixed:h,isBlank:c}},i.prototype.modifyDataMinMax=function(e,t){this[ls[e]]=t},i.prototype.setDeterminedMinMax=function(e,t){var r=ss[e];this[r]=t},i.prototype.freeze=function(){this.frozen=!0},i}(),ss={min:"_determinedMin",max:"_determinedMax"},ls={min:"_dataMin",max:"_dataMax"};function us(i,e,t){var r=i.rawExtentInfo;return r||(r=new os(i,e,t),i.rawExtentInfo=r,r)}function ce(i,e){return e==null?null:Ke(e)?NaN:i.parse(e)}function hs(i,e){var t=i.type,r=us(i,e,i.getExtent()).calculate();i.setBlank(r.isBlank);var a=r.min,n=r.max,o=e.ecModel;if(o&&t==="time"){var s=na("bar",o),l=!1;if(I(s,function(c){l=l||c.getBaseAxis()===e.axis}),l){var u=oa(s),h=cs(a,n,e,u);a=h.min,n=h.max}}return{extent:[a,n],fixMin:r.minFixed,fixMax:r.maxFixed}}function cs(i,e,t,r){var a=t.axis.getExtent(),n=a[1]-a[0],o=Yo(r,t.axis);if(o===void 0)return{min:i,max:e};var s=1/0;I(o,function(f){s=Math.min(f.offset,s)});var l=-1/0;I(o,function(f){l=Math.max(f.offset+f.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,h=e-i,c=1-(s+l)/n,v=h/c-h;return e+=v*(l/u),i-=v*(s/u),{min:i,max:e}}function Mu(i,e){var t=e,r=hs(i,t),a=r.extent,n=t.get("splitNumber");i instanceof ns&&(i.base=t.get("logBase"));var o=i.type,s=t.get("interval"),l=o==="interval"||o==="time";i.setExtent(a[0],a[1]),i.calcNiceExtent({splitNumber:n,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),s!=null&&i.setInterval&&i.setInterval(s)}function Iu(i,e){if(e=e||i.get("type"),e)switch(e){case"category":return new ra({ordinalMeta:i.getOrdinalMeta?i.getOrdinalMeta():i.getCategories(),extent:[1/0,-1/0]});case"time":return new es({locale:i.ecModel.getLocaleModel(),useUTC:i.ecModel.get("useUTC")});default:return new(ct.getClass(e)||Le)}}function Pu(i){var e=i.scale.getExtent(),t=e[0],r=e[1];return!(t>0&&r>0||t<0&&r<0)}function fs(i){var e=i.getLabelModel().get("formatter"),t=i.type==="category"?i.scale.getExtent()[0]:null;return i.scale.type==="time"?function(r){return function(a,n){return i.scale.getFormattedLabel(a,n,r)}}(e):H(e)?function(r){return function(a){var n=i.scale.getLabel(a),o=r.replace("{value}",n??"");return o}}(e):j(e)?function(r){return function(a,n){return t!=null&&(n=a.value-t),r(vr(i,a),n,a.level!=null?{level:a.level}:null)}}(e):function(r){return i.scale.getLabel(r)}}function vr(i,e){return i.type==="category"?i.scale.getLabel(e):e.value}function Ou(i){var e=i.model,t=i.scale;if(!(!e.get(["axisLabel","show"])||t.isBlank())){var r,a,n=t.getExtent();t instanceof ra?a=t.count():(r=t.getTicks(),a=r.length);var o=i.getLabelModel(),s=fs(i),l,u=1;a>40&&(u=Math.ceil(a/40));for(var h=0;h<a;h+=u){var c=r?r[h]:{value:n[0]+h},v=s(c,h),f=o.getTextRect(v),d=vs(f,o.get("rotate")||0);l?l.union(d):l=d}return l}}function vs(i,e){var t=e*Math.PI/180,r=i.width,a=i.height,n=r*Math.abs(Math.cos(t))+Math.abs(a*Math.sin(t)),o=r*Math.abs(Math.sin(t))+Math.abs(a*Math.cos(t)),s=new Mt(i.x,i.y,n,o);return s}function ds(i){var e=i.get("interval");return e??"auto"}function gs(i){return i.type==="category"&&ds(i.getLabelModel())===0}function ps(i,e){var t={};return I(i.mapDimensionsAll(e),function(r){t[Eo(i,r)]=!0}),sr(t)}function ku(i,e,t){e&&I(ps(e,t),function(r){var a=e.getApproximateExtent(r);a[0]<i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])})}var $r=[],ms={registerPreprocessor:on,registerProcessor:sn,registerPostInit:ln,registerPostUpdate:un,registerUpdateLifecycle:hn,registerAction:cn,registerCoordinateSystem:fn,registerLayout:vn,registerVisual:dn,registerTransform:gn,registerLoading:pn,registerMap:mn,registerImpl:yn,PRIORITY:_n,ComponentModel:St,ComponentView:Ct,SeriesModel:qe,ChartView:je,registerComponentModel:function(i){St.registerClass(i)},registerComponentView:function(i){Ct.registerClass(i)},registerSeriesModel:function(i){qe.registerClass(i)},registerChartView:function(i){je.registerClass(i)},registerSubTypeDefaulter:function(i,e){St.registerSubTypeDefaulter(i,e)},registerPainter:function(i,e){xn(i,e)}};function qt(i){if(z(i)){I(i,function(e){qt(e)});return}te($r,i)>=0||($r.push(i),j(i)&&(i={install:i}),i.install(ms))}bn.CMD;function ca(i,e,t,r,a,n,o,s){var l=a-i,u=n-e,h=t-i,c=r-e,v=Math.sqrt(h*h+c*c);h/=v,c/=v;var f=l*h+u*c,d=f/v;s&&(d=Math.min(Math.max(d,0),1)),d*=v;var g=o[0]=i+d*h,m=o[1]=e+d*c;return Math.sqrt((g-a)*(g-a)+(m-n)*(m-n))}var gt=new $,G=new $,V=new $,pt=new $,nt=new $,we=[],Z=new $;function ys(i,e){if(e<=180&&e>0){e=e/180*Math.PI,gt.fromArray(i[0]),G.fromArray(i[1]),V.fromArray(i[2]),$.sub(pt,gt,G),$.sub(nt,V,G);var t=pt.len(),r=nt.len();if(!(t<.001||r<.001)){pt.scale(1/t),nt.scale(1/r);var a=pt.dot(nt),n=Math.cos(e);if(n<a){var o=ca(G.x,G.y,V.x,V.y,gt.x,gt.y,we,!1);Z.fromArray(we),Z.scaleAndAdd(nt,o/Math.tan(Math.PI-e));var s=V.x!==G.x?(Z.x-G.x)/(V.x-G.x):(Z.y-G.y)/(V.y-G.y);if(isNaN(s))return;s<0?$.copy(Z,G):s>1&&$.copy(Z,V),Z.toArray(i[1])}}}}function _s(i,e,t){if(t<=180&&t>0){t=t/180*Math.PI,gt.fromArray(i[0]),G.fromArray(i[1]),V.fromArray(i[2]),$.sub(pt,G,gt),$.sub(nt,V,G);var r=pt.len(),a=nt.len();if(!(r<.001||a<.001)){pt.scale(1/r),nt.scale(1/a);var n=pt.dot(e),o=Math.cos(t);if(n<o){var s=ca(G.x,G.y,V.x,V.y,gt.x,gt.y,we,!1);Z.fromArray(we);var l=Math.PI/2,u=Math.acos(nt.dot(e)),h=l+u-t;if(h>=l)$.copy(Z,V);else{Z.scaleAndAdd(nt,s/Math.tan(Math.PI/2-h));var c=V.x!==G.x?(Z.x-G.x)/(V.x-G.x):(Z.y-G.y)/(V.y-G.y);if(isNaN(c))return;c<0?$.copy(Z,G):c>1&&$.copy(Z,V)}Z.toArray(i[1])}}}}function Yr(i,e,t,r){var a=t==="normal",n=a?i:i.ensureState(t);n.ignore=e;var o=r.get("smooth");o&&o===!0&&(o=.3),n.shape=n.shape||{},o>0&&(n.shape.smooth=o);var s=r.getModel("lineStyle").getLineStyle();a?i.useStyle(s):n.style=s}function xs(i,e){var t=e.smooth,r=e.points;if(r)if(i.moveTo(r[0][0],r[0][1]),t>0&&r.length>=3){var a=Mr(r[0],r[1]),n=Mr(r[1],r[2]);if(!a||!n){i.lineTo(r[1][0],r[1][1]),i.lineTo(r[2][0],r[2][1]);return}var o=Math.min(a,n)*t,s=Oe([],r[1],r[0],o/a),l=Oe([],r[1],r[2],o/n),u=Oe([],s,l,.5);i.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),i.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var h=1;h<r.length;h++)i.lineTo(r[h][0],r[h][1])}function bs(i,e,t){var r=i.getTextGuideLine(),a=i.getTextContent();if(!a){r&&i.removeTextGuideLine();return}for(var n=e.normal,o=n.get("show"),s=a.ignore,l=0;l<Lr.length;l++){var u=Lr[l],h=e[u],c=u==="normal";if(h){var v=h.get("show"),f=c?s:Xt(a.states[u]&&a.states[u].ignore,s);if(f||!Xt(v,o)){var d=c?r:r&&r.states[u];d&&(d.ignore=!0);continue}r||(r=new Oi,i.setTextGuideLine(r),!c&&(s||!o)&&Yr(r,!0,"normal",e.normal),i.stateProxy&&(r.stateProxy=i.stateProxy)),Yr(r,!1,u,h)}}if(r){ht(r.style,t),r.style.fill=null;var g=n.get("showAbove"),m=i.textGuideLineConfig=i.textGuideLineConfig||{};m.showAbove=g||!1,r.buildPath=xs}}function Ss(i,e){e=e||"labelLine";for(var t={normal:i.getModel(e)},r=0;r<Ar.length;r++){var a=Ar[r];t[a]=i.getModel([a,e])}return t}function ws(i){for(var e=[],t=0;t<i.length;t++){var r=i[t];if(!r.defaultAttr.ignore){var a=r.label,n=a.getComputedTransform(),o=a.getBoundingRect(),s=!n||n[1]<1e-5&&n[2]<1e-5,l=a.style.margin||0,u=o.clone();u.applyTransform(n),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var h=s?new Qe(o,n):null;e.push({label:a,labelLine:r.labelLine,rect:u,localRect:o,obb:h,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:n})}}return e}function Cs(i,e,t,r,a,n){var o=i.length;if(o<2)return;i.sort(function(b,T){return b.rect[e]-T.rect[e]});for(var s=0,l,u=!1,h=0,c=0;c<o;c++){var v=i[c],f=v.rect;l=f[e]-s,l<0&&(f[e]-=l,v.label[e]-=l,u=!0);var d=Math.max(-l,0);h+=d,s=f[e]+f[t]}h>0&&n&&S(-h/o,0,o);var g=i[0],m=i[o-1],p,y;_(),p<0&&A(-p,.8),y<0&&A(y,.8),_(),x(p,y,1),x(y,p,-1),_(),p<0&&D(-p),y<0&&D(y);function _(){p=g.rect[e]-r,y=a-m.rect[e]-m.rect[t]}function x(b,T,C){if(b<0){var w=Math.min(T,-b);if(w>0){S(w*C,0,o);var L=w+b;L<0&&A(-L*C,1)}else A(-b*C,1)}}function S(b,T,C){b!==0&&(u=!0);for(var w=T;w<C;w++){var L=i[w],M=L.rect;M[e]+=b,L.label[e]+=b}}function A(b,T){for(var C=[],w=0,L=1;L<o;L++){var M=i[L-1].rect,O=Math.max(i[L].rect[e]-M[e]-M[t],0);C.push(O),w+=O}if(w){var P=Math.min(Math.abs(b)/w,T);if(b>0)for(var L=0;L<o-1;L++){var N=C[L]*P;S(N,0,L+1)}else for(var L=o-1;L>0;L--){var N=C[L-1]*P;S(-N,L,o)}}}function D(b){var T=b<0?-1:1;b=Math.abs(b);for(var C=Math.ceil(b/(o-1)),w=0;w<o-1;w++)if(T>0?S(C,0,w+1):S(-C,o-w-1,o),b-=C,b<=0)return}return u}function Ds(i,e,t,r){return Cs(i,"y","height",e,t,r)}function Ts(i){var e=[];i.sort(function(g,m){return m.priority-g.priority});var t=new Mt(0,0,0,0);function r(g){if(!g.ignore){var m=g.ensureState("emphasis");m.ignore==null&&(m.ignore=!1)}g.ignore=!0}for(var a=0;a<i.length;a++){var n=i[a],o=n.axisAligned,s=n.localRect,l=n.transform,u=n.label,h=n.labelLine;t.copy(n.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var c=n.obb,v=!1,f=0;f<e.length;f++){var d=e[f];if(t.intersect(d.rect)){if(o&&d.axisAligned){v=!0;break}if(d.obb||(d.obb=new Qe(d.localRect,d.transform)),c||(c=new Qe(s,l)),c.intersect(d.obb)){v=!0;break}}}v?(r(u),h&&r(h)):(u.attr("ignore",n.defaultAttr.ignore),h&&h.attr("ignore",n.defaultAttr.labelGuideIgnore),e.push(n))}}function Xr(i,e,t){var r=wn.createCanvas(),a=e.getWidth(),n=e.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=a+"px",o.height=n+"px",r.setAttribute("data-zr-dom-id",i)),r.width=a*t,r.height=n*t,r}var Ls=function(i){F(e,i);function e(t,r,a){var n=i.call(this)||this;n.motionBlur=!1,n.lastFrameAlpha=.7,n.dpr=1,n.virtual=!1,n.config={},n.incremental=!1,n.zlevel=0,n.maxRepaintRectCount=5,n.__dirty=!0,n.__firstTimePaint=!0,n.__used=!1,n.__drawIndex=0,n.__startIndex=0,n.__endIndex=0,n.__prevStartIndex=null,n.__prevEndIndex=null;var o;a=a||Ri,typeof t=="string"?o=Xr(t,r,a):J(t)&&(o=t,t=o.id),n.id=t,n.dom=o;var s=o.style;return s&&(ki(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),n.painter=r,n.dpr=a,n}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Xr("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,r,a,n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new Mt(0,0,0,0);function h(y){if(!(!y.isFinite()||y.isZero()))if(o.length===0){var _=new Mt(0,0,0,0);_.copy(y),o.push(_)}else{for(var x=!1,S=1/0,A=0,D=0;D<o.length;++D){var b=o[D];if(b.intersect(y)){var T=new Mt(0,0,0,0);T.copy(b),T.union(y),o[D]=T,x=!0;break}else if(l){u.copy(y),u.union(b);var C=y.width*y.height,w=b.width*b.height,L=u.width*u.height,M=L-C-w;M<S&&(S=M,A=D)}}if(l&&(o[A].union(y),x=!0),!x){var _=new Mt(0,0,0,0);_.copy(y),o.push(_)}l||(l=o.length>=s)}}for(var c=this.__startIndex;c<this.__endIndex;++c){var v=t[c];if(v){var f=v.shouldBePainted(a,n,!0,!0),d=v.__isRendered&&(v.__dirty&Je||!f)?v.getPrevPaintRect():null;d&&h(d);var g=f&&(v.__dirty&Je||!v.__isRendered)?v.getPaintRect():null;g&&h(g)}}for(var c=this.__prevStartIndex;c<this.__prevEndIndex;++c){var v=r[c],f=v.shouldBePainted(a,n,!0,!0);if(v&&(!f||!v.__zr)&&v.__isRendered){var d=v.getPrevPaintRect();d&&h(d)}}var m;do{m=!1;for(var c=0;c<o.length;){if(o[c].isZero()){o.splice(c,1);continue}for(var p=c+1;p<o.length;)o[c].intersect(o[p])?(m=!0,o[c].union(o[p]),o.splice(p,1)):p++;c++}}while(m);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,r){var a=this.dpr,n=this.dom,o=n.style,s=this.domBack;o&&(o.width=t+"px",o.height=r+"px"),n.width=t*a,n.height=r*a,s&&(s.width=t*a,s.height=r*a,a!==1&&this.ctxBack.scale(a,a))},e.prototype.clear=function(t,r,a){var n=this.dom,o=this.ctx,s=n.width,l=n.height;r=r||this.clearColor;var u=this.motionBlur&&!t,h=this.lastFrameAlpha,c=this.dpr,v=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,s/c,l/c));var f=this.domBack;function d(g,m,p,y){if(o.clearRect(g,m,p,y),r&&r!=="transparent"){var _=void 0;if(Cn(r)){var x=r.global||r.__width===p&&r.__height===y;_=x&&r.__canvasGradient||Dn(o,r,{x:0,y:0,width:p,height:y}),r.__canvasGradient=_,r.__width=p,r.__height=y}else Tn(r)&&(r.scaleX=r.scaleX||c,r.scaleY=r.scaleY||c,_=Ln(o,r,{dirty:function(){v.setUnpainted(),v.__painter.refresh()}}));o.save(),o.fillStyle=_||r,o.fillRect(g,m,p,y),o.restore()}u&&(o.save(),o.globalAlpha=h,o.drawImage(f,g,m,p,y),o.restore())}!a||u?d(0,0,s,l):a.length&&I(a,function(g){d(g.x*c,g.y*c,g.width*c,g.height*c)})},e}(Sn);const ze=Ls;var Ur=1e5,xt=314159,fe=.01,As=.001;function Ms(i){return i?i.__builtin__?!0:!(typeof i.resize!="function"||typeof i.refresh!="function"):!1}function Is(i,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+i+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var Ps=function(){function i(e,t,r,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var n=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=B({},r||{}),this.dpr=r.devicePixelRatio||Ri,this._singleCanvas=n,this.root=e;var o=e.style;o&&(ki(e),e.innerHTML=""),this.storage=t;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(n){var h=e,c=h.width,v=h.height;r.width!=null&&(c=r.width),r.height!=null&&(v=r.height),this.dpr=r.devicePixelRatio||1,h.width=c*this.dpr,h.height=v*this.dpr,this._width=c,this._height=v;var f=new ze(h,this,this.dpr);f.__builtin__=!0,f.initContext(),l[xt]=f,f.zlevel=xt,s.push(xt),this._domRoot=e}else{this._width=ne(e,0,r),this._height=ne(e,1,r);var u=this._domRoot=Is(this._width,this._height);e.appendChild(u)}}return i.prototype.getType=function(){return"canvas"},i.prototype.isSingleCanvas=function(){return this._singleCanvas},i.prototype.getViewportRoot=function(){return this._domRoot},i.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},i.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,e,this._redrawId);for(var n=0;n<a.length;n++){var o=a[n],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=n===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},i.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},i.prototype._paintHoverList=function(e){var t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},n,o=0;o<t;o++){var s=e[o];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(Ur)),n||(n=r.ctx,n.save()),ae(n,s,a,o===t-1))}n&&n.restore()}},i.prototype.getHoverLayer=function(){return this.getLayer(Ur)},i.prototype.paintOne=function(e,t){An(e,t)},i.prototype._paintList=function(e,t,r,a){if(this._redrawId===a){r=r||!1,this._updateLayerStatus(e);var n=this._doPaintList(e,t,r),o=n.finished,s=n.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;Mn(function(){l._paintList(e,t,r,a)})}}},i.prototype._compositeManually=function(){var e=this.getLayer(xt).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(a){a.virtual&&e.drawImage(a.dom,0,0,t,r)})},i.prototype._doPaintList=function(e,t,r){for(var a=this,n=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&n.push(u)}for(var h=!0,c=!1,v=function(g){var m=n[g],p=m.ctx,y=o&&m.createRepaintRects(e,t,f._width,f._height),_=r?m.__startIndex:m.__drawIndex,x=!r&&m.incremental&&Date.now,S=x&&Date.now(),A=m.zlevel===f._zlevelList[0]?f._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,A,y);else if(_===m.__startIndex){var D=e[_];(!D.incremental||!D.notClear||r)&&m.clear(!1,A,y)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=m.__startIndex);var b,T=function(M){var O={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(b=_;b<m.__endIndex;b++){var P=e[b];if(P.__inHover&&(c=!0),a._doPaintEl(P,m,o,M,O,b===m.__endIndex-1),x){var N=Date.now()-S;if(N>15)break}}O.prevElClipPaths&&p.restore()};if(y)if(y.length===0)b=m.__endIndex;else for(var C=f.dpr,w=0;w<y.length;++w){var L=y[w];p.save(),p.beginPath(),p.rect(L.x*C,L.y*C,L.width*C,L.height*C),p.clip(),T(L),p.restore()}else p.save(),T(),p.restore();m.__drawIndex=b,m.__drawIndex<m.__endIndex&&(h=!1)},f=this,d=0;d<n.length;d++)v(d);return Q.wxa&&I(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:h,needsRefreshHover:c}},i.prototype._doPaintEl=function(e,t,r,a,n,o){var s=t.ctx;if(r){var l=e.getPaintRect();(!a||l&&l.intersect(a))&&(ae(s,e,n,o),e.setPrevPaintRect(l))}else ae(s,e,n,o)},i.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=xt);var r=this._layers[e];return r||(r=new ze("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?Wt(r,this._layerConfig[e],!0):this._layerConfig[e-fe]&&Wt(r,this._layerConfig[e-fe],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},i.prototype.insertLayer=function(e,t){var r=this._layers,a=this._zlevelList,n=a.length,o=this._domRoot,s=null,l=-1;if(!r[e]&&Ms(t)){if(n>0&&e>a[0]){for(l=0;l<n-1&&!(a[l]<e&&a[l+1]>e);l++);s=r[a[l]]}if(a.splice(l+1,0,e),r[e]=t,!t.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(t.dom,u.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom);t.__painter=this}},i.prototype.eachLayer=function(e,t){for(var r=this._zlevelList,a=0;a<r.length;a++){var n=r[a];e.call(t,this._layers[n],n)}},i.prototype.eachBuiltinLayer=function(e,t){for(var r=this._zlevelList,a=0;a<r.length;a++){var n=r[a],o=this._layers[n];o.__builtin__&&e.call(t,o,n)}},i.prototype.eachOtherLayer=function(e,t){for(var r=this._zlevelList,a=0;a<r.length;a++){var n=r[a],o=this._layers[n];o.__builtin__||e.call(t,o,n)}},i.prototype.getLayers=function(){return this._layers},i.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(c,v){c.__dirty=c.__used=!1});function t(c){n&&(n.__endIndex!==c&&(n.__dirty=!0),n.__endIndex=c)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var a=e[r];if(a.zlevel!==e[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var n=null,o=0,s,l;for(l=0;l<e.length;l++){var a=e[l],u=a.zlevel,h=void 0;s!==u&&(s=u,o=0),a.incremental?(h=this.getLayer(u+As,this._needsManuallyCompositing),h.incremental=!0,o=1):h=this.getLayer(u+(o>0?fe:0),this._needsManuallyCompositing),h.__builtin__||In("ZLevel "+u+" has been used by unkown layer "+h.id),h!==n&&(h.__used=!0,h.__startIndex!==l&&(h.__dirty=!0),h.__startIndex=l,h.incremental?h.__drawIndex=-1:h.__drawIndex=l,t(l),n=h),a.__dirty&Je&&!a.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(c,v){!c.__used&&c.getElementCount()>0&&(c.__dirty=!0,c.__startIndex=c.__endIndex=c.__drawIndex=0),c.__dirty&&c.__drawIndex<0&&(c.__drawIndex=c.__startIndex)})},i.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},i.prototype._clearLayer=function(e){e.clear()},i.prototype.setBackgroundColor=function(e){this._backgroundColor=e,I(this._layers,function(t){t.setUnpainted()})},i.prototype.configLayer=function(e,t){if(t){var r=this._layerConfig;r[e]?Wt(r[e],t,!0):r[e]=t;for(var a=0;a<this._zlevelList.length;a++){var n=this._zlevelList[a];if(n===e||n===e+fe){var o=this._layers[n];Wt(o,r[e],!0)}}}},i.prototype.delLayer=function(e){var t=this._layers,r=this._zlevelList,a=t[e];a&&(a.dom.parentNode.removeChild(a.dom),delete t[e],r.splice(te(r,e),1))},i.prototype.resize=function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var a=this._opts,n=this.root;if(e!=null&&(a.width=e),t!=null&&(a.height=t),e=ne(n,0,a),t=ne(n,1,a),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(xt).resize(e,t)}return this},i.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},i.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},i.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[xt].dom;var t=new ze("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var r=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var a=t.dom.width,n=t.dom.height;this.eachLayer(function(c){c.__builtin__?r.drawImage(c.dom,0,0,a,n):c.renderToCanvas&&(r.save(),c.renderToCanvas(r),r.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var h=s[l];ae(r,h,o,l===u-1)}return t.dom},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i}();const Os=Ps;function Ru(i){i.registerPainter("canvas",Os)}function ve(i,e,t){var r=i.get("borderRadius");if(r==null)return t?{cornerRadius:0}:null;z(r)||(r=[r,r,r,r]);var a=Math.abs(e.r||0-e.r0||0);return{cornerRadius:st(r,function(n){return Ze(n,a)})}}var de=Math.PI*2,Zr=Math.PI/180;function fa(i,e){return Ut(i.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function va(i,e){var t=fa(i,e),r=i.get("center"),a=i.get("radius");z(a)||(a=[0,a]);var n=Y(t.width,e.getWidth()),o=Y(t.height,e.getHeight()),s=Math.min(n,o),l=Y(a[0],s/2),u=Y(a[1],s/2),h,c,v=i.coordinateSystem;if(v){var f=v.dataToPoint(r);h=f[0]||0,c=f[1]||0}else z(r)||(r=[r,r]),h=Y(r[0],n)+t.x,c=Y(r[1],o)+t.y;return{cx:h,cy:c,r0:l,r:u}}function ks(i,e,t){e.eachSeriesByType(i,function(r){var a=r.getData(),n=a.mapDimension("value"),o=fa(r,t),s=va(r,t),l=s.cx,u=s.cy,h=s.r,c=s.r0,v=-r.get("startAngle")*Zr,f=r.get("minAngle")*Zr,d=0;a.each(n,function(C){!isNaN(C)&&d++});var g=a.getSum(n),m=Math.PI/(g||d)*2,p=r.get("clockwise"),y=r.get("roseType"),_=r.get("stillShowZeroSum"),x=a.getDataExtent(n);x[0]=0;var S=de,A=0,D=v,b=p?1:-1;if(a.setLayout({viewRect:o,r:h}),a.each(n,function(C,w){var L;if(isNaN(C)){a.setItemLayout(w,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:p,cx:l,cy:u,r0:c,r:y?NaN:h});return}y!=="area"?L=g===0&&_?m:C*m:L=de/d,L<f?(L=f,S-=f):A+=C;var M=D+b*L;a.setItemLayout(w,{angle:L,startAngle:D,endAngle:M,clockwise:p,cx:l,cy:u,r0:c,r:y?Pn(C,x,[c,h]):h}),D=M}),S<de&&d)if(S<=.001){var T=de/d;a.each(n,function(C,w){if(!isNaN(C)){var L=a.getItemLayout(w);L.angle=T,L.startAngle=v+b*w*T,L.endAngle=v+b*(w+1)*T}})}else m=S/A,D=v,a.each(n,function(C,w){if(!isNaN(C)){var L=a.getItemLayout(w),M=L.angle===f?f:C*m;L.startAngle=D,L.endAngle=D+b*M,D+=b*M}})})}function Rs(i){return{seriesType:i,reset:function(e,t){var r=t.findComponents({mainType:"legend"});if(!(!r||!r.length)){var a=e.getData();a.filterSelf(function(n){for(var o=a.getName(n),s=0;s<r.length;s++)if(!r[s].isSelected(o))return!1;return!0})}}}}var Es=Math.PI/180;function Kr(i,e,t,r,a,n,o,s,l,u){if(i.length<2)return;function h(g){for(var m=g.rB,p=m*m,y=0;y<g.list.length;y++){var _=g.list[y],x=Math.abs(_.label.y-t),S=r+_.len,A=S*S,D=Math.sqrt((1-Math.abs(x*x/p))*A),b=e+(D+_.len2)*a,T=b-_.label.x,C=_.targetTextWidth-T*a;da(_,C,!0),_.label.x=b}}function c(g){for(var m={list:[],maxY:0},p={list:[],maxY:0},y=0;y<g.length;y++)if(g[y].labelAlignTo==="none"){var _=g[y],x=_.label.y>t?p:m,S=Math.abs(_.label.y-t);if(S>=x.maxY){var A=_.label.x-e-_.len2*a,D=r+_.len,b=Math.abs(A)<D?Math.sqrt(S*S/(1-A*A/D/D)):D;x.rB=b,x.maxY=S}x.list.push(_)}h(m),h(p)}for(var v=i.length,f=0;f<v;f++)if(i[f].position==="outer"&&i[f].labelAlignTo==="labelLine"){var d=i[f].label.x-u;i[f].linePoints[1][0]+=d,i[f].label.x=u}Ds(i,l,l+o)&&c(i)}function Ns(i,e,t,r,a,n,o,s){for(var l=[],u=[],h=Number.MAX_VALUE,c=-Number.MAX_VALUE,v=0;v<i.length;v++){var f=i[v].label;He(i[v])||(f.x<e?(h=Math.min(h,f.x),l.push(i[v])):(c=Math.max(c,f.x),u.push(i[v])))}for(var v=0;v<i.length;v++){var d=i[v];if(!He(d)&&d.linePoints){if(d.labelStyleWidth!=null)continue;var f=d.label,g=d.linePoints,m=void 0;d.labelAlignTo==="edge"?f.x<e?m=g[2][0]-d.labelDistance-o-d.edgeDistance:m=o+a-d.edgeDistance-g[2][0]-d.labelDistance:d.labelAlignTo==="labelLine"?f.x<e?m=h-o-d.bleedMargin:m=o+a-c-d.bleedMargin:f.x<e?m=f.x-o-d.bleedMargin:m=o+a-f.x-d.bleedMargin,d.targetTextWidth=m,da(d,m)}}Kr(u,e,t,r,1,a,n,o,s,c),Kr(l,e,t,r,-1,a,n,o,s,h);for(var v=0;v<i.length;v++){var d=i[v];if(!He(d)&&d.linePoints){var f=d.label,g=d.linePoints,p=d.labelAlignTo==="edge",y=f.style.padding,_=y?y[1]+y[3]:0,x=f.style.backgroundColor?0:_,S=d.rect.width+x,A=g[1][0]-g[2][0];p?f.x<e?g[2][0]=o+d.edgeDistance+S+d.labelDistance:g[2][0]=o+a-d.edgeDistance-S-d.labelDistance:(f.x<e?g[2][0]=f.x+d.labelDistance:g[2][0]=f.x-d.labelDistance,g[1][0]=g[2][0]+A),g[1][1]=g[2][1]=f.y}}}function da(i,e,t){if(t===void 0&&(t=!1),i.labelStyleWidth==null){var r=i.label,a=r.style,n=i.rect,o=a.backgroundColor,s=a.padding,l=s?s[1]+s[3]:0,u=a.overflow,h=n.width+(o?0:l);if(e<h||t){var c=n.height;if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-l);var v=r.getBoundingRect();r.setStyle("width",Math.ceil(v.width)),r.setStyle("backgroundColor",o)}else{var f=e-l,d=e<h?f:t?f>i.unconstrainedWidth?null:f:null;r.setStyle("width",d)}var g=r.getBoundingRect();n.width=g.width;var m=(r.style.margin||0)+2.1;n.height=g.height+m,n.y-=(n.height-c)/2}}}function He(i){return i.position==="center"}function Bs(i){var e=i.getData(),t=[],r,a,n=!1,o=(i.get("minShowLabelAngle")||0)*Es,s=e.getLayout("viewRect"),l=e.getLayout("r"),u=s.width,h=s.x,c=s.y,v=s.height;function f(A){A.ignore=!0}function d(A){if(!A.ignore)return!0;for(var D in A.states)if(A.states[D].ignore===!1)return!0;return!1}e.each(function(A){var D=e.getItemGraphicEl(A),b=D.shape,T=D.getTextContent(),C=D.getTextGuideLine(),w=e.getItemModel(A),L=w.getModel("label"),M=L.get("position")||w.get(["emphasis","label","position"]),O=L.get("distanceToLabelLine"),P=L.get("alignTo"),N=Y(L.get("edgeDistance"),u),q=L.get("bleedMargin"),R=w.getModel("labelLine"),k=R.get("length");k=Y(k,u);var E=R.get("length2");if(E=Y(E,u),Math.abs(b.endAngle-b.startAngle)<o){I(T.states,f),T.ignore=!0,C&&(I(C.states,f),C.ignore=!0);return}if(d(T)){var U=(b.startAngle+b.endAngle)/2,W=Math.cos(U),et=Math.sin(U),Ot,re,pr,ie;r=b.cx,a=b.cy;var Dt=M==="inside"||M==="inner";if(M==="center")Ot=b.cx,re=b.cy,ie="center";else{var Ae=(Dt?(b.r+b.r0)/2*W:b.r*W)+r,Me=(Dt?(b.r+b.r0)/2*et:b.r*et)+a;if(Ot=Ae+W*3,re=Me+et*3,!Dt){var mr=Ae+W*(k+l-b.r),yr=Me+et*(k+l-b.r),_r=mr+(W<0?-1:1)*E,xr=yr;P==="edge"?Ot=W<0?h+N:h+u-N:Ot=_r+(W<0?-O:O),re=xr,pr=[[Ae,Me],[mr,yr],[_r,xr]]}ie=Dt?"center":P==="edge"?W>0?"right":"left":W>0?"left":"right"}var kt=Math.PI,Tt=0,Rt=L.get("rotate");if(Pt(Rt))Tt=Rt*(kt/180);else if(M==="center")Tt=0;else if(Rt==="radial"||Rt===!0){var Aa=W<0?-U+kt:-U;Tt=Aa}else if(Rt==="tangential"&&M!=="outside"&&M!=="outer"){var Lt=Math.atan2(W,et);Lt<0&&(Lt=kt*2+Lt);var Ma=et>0;Ma&&(Lt=kt+Lt),Tt=Lt-kt}if(n=!!Tt,T.x=Ot,T.y=re,T.rotation=Tt,T.setStyle({verticalAlign:"middle"}),Dt){T.setStyle({align:ie});var Ie=T.states.select;Ie&&(Ie.x+=T.x,Ie.y+=T.y)}else{var Et=T.getBoundingRect().clone();Et.applyTransform(T.getComputedTransform());var br=(T.style.margin||0)+2.1;Et.y-=br/2,Et.height+=br,t.push({label:T,labelLine:C,position:M,len:k,len2:E,minTurnAngle:R.get("minTurnAngle"),maxSurfaceAngle:R.get("maxSurfaceAngle"),surfaceNormal:new $(W,et),linePoints:pr,textAlign:ie,labelDistance:O,labelAlignTo:P,edgeDistance:N,bleedMargin:q,rect:Et,unconstrainedWidth:Et.width,labelStyleWidth:T.style.width})}D.setTextConfig({inside:Dt})}}),!n&&i.get("avoidLabelOverlap")&&Ns(t,r,a,l,u,v,h,c);for(var g=0;g<t.length;g++){var m=t[g],p=m.label,y=m.labelLine,_=isNaN(p.x)||isNaN(p.y);if(p){p.setStyle({align:m.textAlign}),_&&(I(p.states,f),p.ignore=!0);var x=p.states.select;x&&(x.x+=p.x,x.y+=p.y)}if(y){var S=m.linePoints;_||!S?(I(y.states,f),y.ignore=!0):(ys(S,m.minTurnAngle),_s(S,m.surfaceNormal,m.maxSurfaceAngle),y.setShape({points:S}),p.__hostTarget.textGuideLineConfig={anchor:new $(S[0][0],S[0][1])})}}}var Gs=function(i){F(e,i);function e(t,r,a){var n=i.call(this)||this;n.z2=2;var o=new ot;return n.setTextContent(o),n.updateData(t,r,a,!0),n}return e.prototype.updateData=function(t,r,a,n){var o=this,s=t.hostModel,l=t.getItemModel(r),u=l.getModel("emphasis"),h=t.getItemLayout(r),c=B(ve(l.getModel("itemStyle"),h,!0),h);if(isNaN(c.startAngle)){o.setShape(c);return}if(n){o.setShape(c);var v=s.getShallow("animationType");s.ecModel.ssr?(ke(o,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),o.originX=c.cx,o.originY=c.cy):v==="scale"?(o.shape.r=h.r0,ke(o,{shape:{r:h.r}},s,r)):a!=null?(o.setShape({startAngle:a,endAngle:a}),ke(o,{shape:{startAngle:h.startAngle,endAngle:h.endAngle}},s,r)):(o.shape.endAngle=h.startAngle,_e(o,{shape:{endAngle:h.endAngle}},s,r))}else On(o),_e(o,{shape:c},s,r);o.useStyle(t.getItemVisual(r,"style")),kn(o,l);var f=(h.startAngle+h.endAngle)/2,d=s.get("selectedOffset"),g=Math.cos(f)*d,m=Math.sin(f)*d,p=l.getShallow("cursor");p&&o.attr("cursor",p),this._updateLabel(s,t,r),o.ensureState("emphasis").shape=B({r:h.r+(u.get("scale")&&u.get("scaleSize")||0)},ve(u.getModel("itemStyle"),h)),B(o.ensureState("select"),{x:g,y:m,shape:ve(l.getModel(["select","itemStyle"]),h)}),B(o.ensureState("blur"),{shape:ve(l.getModel(["blur","itemStyle"]),h)});var y=o.getTextGuideLine(),_=o.getTextContent();y&&B(y.ensureState("select"),{x:g,y:m}),B(_.ensureState("select"),{x:g,y:m}),Rn(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,r,a){var n=this,o=r.getItemModel(a),s=o.getModel("labelLine"),l=r.getItemVisual(a,"style"),u=l&&l.fill,h=l&&l.opacity;Ei(n,En(o),{labelFetcher:r.hostModel,labelDataIndex:a,inheritColor:u,defaultOpacity:h,defaultText:t.getFormattedLabel(a,"normal")||r.getName(a)});var c=n.getTextContent();n.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var v=t.get(["label","position"]);if(v!=="outside"&&v!=="outer")n.removeTextGuideLine();else{var f=this.getTextGuideLine();f||(f=new Oi,this.setTextGuideLine(f)),bs(this,Ss(o),{stroke:u,opacity:Nn(s.get(["lineStyle","opacity"]),h,1)})}},e}(Ni),zs=function(i){F(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,r,a,n){var o=t.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var h=o.getItemLayout(0),c=1;isNaN(h&&h.startAngle)&&c<o.count();++c)h=o.getItemLayout(c);h&&(u=h.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&t.get("showEmptyCircle")){var v=new Ni({shape:va(t,a)});v.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=v,l.add(v)}o.diff(s).add(function(f){var d=new Gs(o,f,u);o.setItemGraphicEl(f,d),l.add(d)}).update(function(f,d){var g=s.getItemGraphicEl(d);g.updateData(o,f,u),g.off("click"),l.add(g),o.setItemGraphicEl(f,g)}).remove(function(f){var d=s.getItemGraphicEl(f);Bn(d,t,f)}).execute(),Bs(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,r){var a=r.getData(),n=a.getItemLayout(0);if(n){var o=t[0]-n.cx,s=t[1]-n.cy,l=Math.sqrt(o*o+s*s);return l<=n.r&&l>=n.r0}},e.type="pie",e}(je);const Hs=zs;function Fs(i,e,t){e=z(e)&&{coordDimensions:e}||B({encodeDefine:i.getEncode()},e);var r=i.getSource(),a=Io(r,e).dimensions,n=new Mo(a,i);return n.initData(r,t),n}var Ws=function(){function i(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return i.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},i.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},i.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},i.prototype.getItemVisual=function(e,t){var r=this._getDataWithEncodedVisual();return r.getItemVisual(e,t)},i}();const Vs=Ws;var $s=Qt(),Ys=function(i){F(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(t){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new Vs(K(this.getData,this),K(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){i.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Fs(this,{coordDimensions:["value"],encodeDefaulter:X(Gn,this)})},e.prototype.getDataParams=function(t){var r=this.getData(),a=$s(r),n=a.seats;if(!n){var o=[];r.each(r.mapDimension("value"),function(l){o.push(l)}),n=a.seats=zn(o,r.hostModel.get("percentPrecision"))}var s=i.prototype.getDataParams.call(this,t);return s.percent=n[t]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(t){Hn(t,"labelLine",["show"]);var r=t.labelLine,a=t.emphasis.labelLine;r.show=r.show&&t.label.show,a.show=a.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(qe);const Xs=Ys;function Us(i){return{seriesType:i,reset:function(e,t){var r=e.getData();r.filterSelf(function(a){var n=r.mapDimension("value"),o=r.get(n,a);return!(Pt(o)&&!isNaN(o)&&o<0)})}}}function Eu(i){i.registerChartView(Hs),i.registerSeriesModel(Xs),Fn("pie",i.registerAction),i.registerLayout(X(ks,"pie")),i.registerProcessor(Rs("pie")),i.registerProcessor(Us("pie"))}function qr(i,e,t){t=t||{};var r=i.coordinateSystem,a=e.axis,n={},o=a.getAxesOnZeroOf()[0],s=a.position,l=o?"onZero":s,u=a.dim,h=r.getRect(),c=[h.x,h.x+h.width,h.y,h.y+h.height],v={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,d=u==="x"?[c[2]-f,c[3]+f]:[c[0]-f,c[1]+f];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));d[v.onZero]=Math.max(Math.min(g,d[1]),d[0])}n.position=[u==="y"?d[v[l]]:c[0],u==="x"?d[v[l]]:c[3]],n.rotation=Math.PI/2*(u==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};n.labelDirection=n.tickDirection=n.nameDirection=m[s],n.labelOffset=o?d[v[s]]-d[v.onZero]:0,e.get(["axisTick","inside"])&&(n.tickDirection=-n.tickDirection),Zt(t.labelInside,e.get(["axisLabel","inside"]))&&(n.labelDirection=-n.labelDirection);var p=e.get(["axisLabel","rotate"]);return n.labelRotate=l==="top"?-p:p,n.z2=1,n}function Nu(i){return i.get("coordinateSystem")==="cartesian2d"}function Bu(i){var e={xAxisModel:null,yAxisModel:null};return I(e,function(t,r){var a=r.replace(/Model$/,""),n=i.getReferringComponents(a,Wn).models[0];e[r]=n}),e}var mt=Math.PI,wt=function(){function i(e,t){this.group=new Kt,this.opt=t,this.axisModel=e,ht(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new Kt({x:t.position[0],y:t.position[1],rotation:t.rotation});r.updateTransform(),this._transformGroup=r}return i.prototype.hasBuilder=function(e){return!!jr[e]},i.prototype.add=function(e){jr[e](this.opt,this.axisModel,this.group,this._transformGroup)},i.prototype.getGroup=function(){return this.group},i.innerTextLayout=function(e,t,r){var a=Wi(t-e),n,o;return be(a)?(o=r>0?"top":"bottom",n="center"):be(a-mt)?(o=r>0?"bottom":"top",n="center"):(o="middle",a>0&&a<mt?n=r>0?"right":"left":n=r>0?"left":"right"),{rotation:a,textAlign:n,textVerticalAlign:o}},i.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},i.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},i}(),jr={axisLine:function(i,e,t,r){var a=e.get(["axisLine","show"]);if(a==="auto"&&i.handleAutoShown&&(a=i.handleAutoShown("axisLine")),!!a){var n=e.axis.getExtent(),o=r.transform,s=[n[0],0],l=[n[1],0],u=s[0]>l[0];o&&(xe(s,s,o),xe(l,l,o));var h=B({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new Bi({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:h,strokeContainThreshold:i.strokeContainThreshold||5,silent:!0,z2:1});Gi(c.shape,c.style.lineWidth),c.anid="line",t.add(c);var v=e.get(["axisLine","symbol"]);if(v!=null){var f=e.get(["axisLine","symbolSize"]);H(v)&&(v=[v,v]),(H(f)||Pt(f))&&(f=[f,f]);var d=Vn(e.get(["axisLine","symbolOffset"])||0,f),g=f[0],m=f[1];I([{rotate:i.rotation+Math.PI/2,offset:d[0],r:0},{rotate:i.rotation-Math.PI/2,offset:d[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(p,y){if(v[y]!=="none"&&v[y]!=null){var _=zi(v[y],-g/2,-m/2,g,m,h.stroke,!0),x=p.r+p.offset,S=u?l:s;_.attr({rotation:p.rotate,x:S[0]+x*Math.cos(i.rotation),y:S[1]-x*Math.sin(i.rotation),silent:!0,z2:11}),t.add(_)}})}}},axisTickLabel:function(i,e,t,r){var a=qs(t,r,e,i),n=Qs(t,r,e,i);if(Ks(e,n,a),js(t,r,e,i.tickDirection),e.get(["axisLabel","hideOverlap"])){var o=ws(st(n,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));Ts(o)}},axisName:function(i,e,t,r){var a=Zt(i.axisName,e.get("name"));if(a){var n=e.get("nameLocation"),o=i.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,u=e.axis.getExtent(),h=u[0]>u[1]?-1:1,c=[n==="start"?u[0]-h*l:n==="end"?u[1]+h*l:(u[0]+u[1])/2,Jr(n)?i.labelOffset+o*l:0],v,f=e.get("nameRotate");f!=null&&(f=f*mt/180);var d;Jr(n)?v=wt.innerTextLayout(i.rotation,f??i.rotation,o):(v=Zs(i.rotation,n,f||0,u),d=i.axisNameAvailableWidth,d!=null&&(d=Math.abs(d/Math.sin(v.rotation)),!isFinite(d)&&(d=null)));var g=s.getFont(),m=e.get("nameTruncate",!0)||{},p=m.ellipsis,y=Zt(i.nameTruncateMaxWidth,m.maxWidth,d),_=new ot({x:c[0],y:c[1],rotation:v.rotation,silent:wt.isLabelSilent(e),style:It(s,{text:a,font:g,overflow:"truncate",width:y,ellipsis:p,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||v.textAlign,verticalAlign:s.get("verticalAlign")||v.textVerticalAlign}),z2:1});if(Hi({el:_,componentModel:e,itemName:a}),_.__fullText=a,_.anid="name",e.get("triggerEvent")){var x=wt.makeAxisEventDataBase(e);x.targetType="axisName",x.name=a,at(_).eventData=x}r.add(_),_.updateTransform(),t.add(_),_.decomposeTransform()}}};function Zs(i,e,t,r){var a=Wi(t-i),n,o,s=r[0]>r[1],l=e==="start"&&!s||e!=="start"&&s;return be(a-mt/2)?(o=l?"bottom":"top",n="center"):be(a-mt*1.5)?(o=l?"top":"bottom",n="center"):(o="middle",a<mt*1.5&&a>mt/2?n=l?"left":"right":n=l?"right":"left"),{rotation:a,textAlign:n,textVerticalAlign:o}}function Ks(i,e,t){if(!gs(i.axis)){var r=i.get(["axisLabel","showMinLabel"]),a=i.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var n=e[0],o=e[1],s=e[e.length-1],l=e[e.length-2],u=t[0],h=t[1],c=t[t.length-1],v=t[t.length-2];r===!1?(tt(n),tt(u)):Qr(n,o)&&(r?(tt(o),tt(h)):(tt(n),tt(u))),a===!1?(tt(s),tt(c)):Qr(l,s)&&(a?(tt(l),tt(v)):(tt(s),tt(c)))}}function tt(i){i&&(i.ignore=!0)}function Qr(i,e){var t=i&&i.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!t||!r)){var a=$n([]);return Fi(a,a,-i.rotation),t.applyTransform(Ir([],a,i.getLocalTransform())),r.applyTransform(Ir([],a,e.getLocalTransform())),t.intersect(r)}}function Jr(i){return i==="middle"||i==="center"}function ga(i,e,t,r,a){for(var n=[],o=[],s=[],l=0;l<i.length;l++){var u=i[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=t,e&&(xe(o,o,e),xe(s,s,e));var h=new Bi({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});Gi(h.shape,h.style.lineWidth),h.anid=a+"_"+i[l].tickValue,n.push(h)}return n}function qs(i,e,t,r){var a=t.axis,n=t.getModel("axisTick"),o=n.get("show");if(o==="auto"&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick")),!(!o||a.scale.isBlank())){for(var s=n.getModel("lineStyle"),l=r.tickDirection*n.get("length"),u=a.getTicksCoords(),h=ga(u,e.transform,l,ht(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<h.length;c++)i.add(h[c]);return h}}function js(i,e,t,r){var a=t.axis,n=t.getModel("minorTick");if(!(!n.get("show")||a.scale.isBlank())){var o=a.getMinorTicksCoords();if(o.length)for(var s=n.getModel("lineStyle"),l=r*n.get("length"),u=ht(s.getLineStyle(),ht(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),h=0;h<o.length;h++)for(var c=ga(o[h],e.transform,l,u,"minorticks_"+h),v=0;v<c.length;v++)i.add(c[v])}}function Qs(i,e,t,r){var a=t.axis,n=Zt(r.axisLabelShow,t.get(["axisLabel","show"]));if(!(!n||a.scale.isBlank())){var o=t.getModel("axisLabel"),s=o.get("margin"),l=a.getViewLabels(),u=(Zt(r.labelRotate,o.get("rotate"))||0)*mt/180,h=wt.innerTextLayout(r.rotation,u,r.labelDirection),c=t.getCategories&&t.getCategories(!0),v=[],f=wt.isLabelSilent(t),d=t.get("triggerEvent");return I(l,function(g,m){var p=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,y=g.formattedLabel,_=g.rawLabel,x=o;if(c&&c[p]){var S=c[p];J(S)&&S.textStyle&&(x=new dt(S.textStyle,o,t.ecModel))}var A=x.getTextColor()||t.get(["axisLine","lineStyle","color"]),D=a.dataToCoord(p),b=new ot({x:D,y:r.labelOffset+r.labelDirection*s,rotation:h.rotation,silent:f,z2:10+(g.level||0),style:It(x,{text:y,align:x.getShallow("align",!0)||h.textAlign,verticalAlign:x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||h.textVerticalAlign,fill:j(A)?A(a.type==="category"?_:a.type==="value"?p+"":p,m):A})});if(b.anid="label_"+p,d){var T=wt.makeAxisEventDataBase(t);T.targetType="axisLabel",T.value=_,T.tickIndex=m,a.type==="category"&&(T.dataIndex=p),at(b).eventData=T}e.add(b),b.updateTransform(),v.push(b),i.add(b),b.decomposeTransform()}),v}}const Js=wt;function tl(i,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return el(t,i,e),t.seriesInvolved&&il(t,i),t}function el(i,e,t){var r=e.getComponent("tooltip"),a=e.getComponent("axisPointer"),n=a.get("link",!0)||[],o=[];I(t.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=jt(s.model),u=i.coordSysAxesInfo[l]={};i.coordSysMap[l]=s;var h=s.model,c=h.getModel("tooltip",r);if(I(s.getAxes(),X(g,!1,null)),s.getTooltipAxes&&r&&c.get("show")){var v=c.get("trigger")==="axis",f=c.get(["axisPointer","type"])==="cross",d=s.getTooltipAxes(c.get(["axisPointer","axis"]));(v||f)&&I(d.baseAxes,X(g,f?"cross":!0,v)),f&&I(d.otherAxes,X(g,"cross",!1))}function g(m,p,y){var _=y.model.getModel("axisPointer",a),x=_.get("show");if(!(!x||x==="auto"&&!m&&!er(_))){p==null&&(p=_.get("triggerTooltip")),_=m?rl(y,c,a,e,m,p):_;var S=_.get("snap"),A=_.get("triggerEmphasis"),D=jt(y.model),b=p||S||y.type==="category",T=i.axesInfo[D]={key:D,axis:y,coordSys:s,axisPointerModel:_,triggerTooltip:p,triggerEmphasis:A,involveSeries:b,snap:S,useHandle:er(_),seriesModels:[],linkGroup:null};u[D]=T,i.seriesInvolved=i.seriesInvolved||b;var C=al(n,y);if(C!=null){var w=o[C]||(o[C]={axesInfo:{}});w.axesInfo[D]=T,w.mapper=n[C].mapper,T.linkGroup=w}}}})}function rl(i,e,t,r,a,n){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};I(s,function(v){l[v]=Jt(o.get(v))}),l.snap=i.type!=="category"&&!!n,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),a==="cross"){var h=o.get(["label","show"]);if(u.show=h??!0,!n){var c=l.lineStyle=o.get("crossStyle");c&&ht(u,c.textStyle)}}return i.model.getModel("axisPointer",new dt(l,t,r))}function il(i,e){e.eachSeries(function(t){var r=t.coordinateSystem,a=t.get(["tooltip","trigger"],!0),n=t.get(["tooltip","show"],!0);!r||a==="none"||a===!1||a==="item"||n===!1||t.get(["axisPointer","show"],!0)===!1||I(i.coordSysAxesInfo[jt(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(t),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=t.getData().count())})})}function al(i,e){for(var t=e.model,r=e.dim,a=0;a<i.length;a++){var n=i[a]||{};if(Fe(n[r+"AxisId"],t.id)||Fe(n[r+"AxisIndex"],t.componentIndex)||Fe(n[r+"AxisName"],t.name))return a}}function Fe(i,e){return i==="all"||z(i)&&te(i,e)>=0||i===e}function nl(i){var e=dr(i);if(e){var t=e.axisPointerModel,r=e.axis.scale,a=t.option,n=t.get("status"),o=t.get("value");o!=null&&(o=r.parse(o));var s=er(t);n==null&&(a.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),a.value=o,s&&(a.status=e.axis.scale.isBlank()?"hide":"show")}}function dr(i){var e=(i.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[jt(i)]}function ol(i){var e=dr(i);return e&&e.axisPointerModel}function er(i){return!!i.get(["handle","show"])}function jt(i){return i.type+"||"+i.id}var ti={},sl=function(i){F(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a,n){this.axisPointerClass&&nl(t),i.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,a,!0)},e.prototype.updateAxisPointer=function(t,r,a,n){this._doUpdateAxisPointerClass(t,a,!1)},e.prototype.remove=function(t,r){var a=this._axisPointer;a&&a.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),i.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,a){var n=e.getAxisPointerClass(this.axisPointerClass);if(n){var o=ol(t);o?(this._axisPointer||(this._axisPointer=new n)).render(t,o,r,a):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){ti[t]=r},e.getAxisPointerClass=function(t){return t&&ti[t]},e.type="axis",e}(Ct);const ll=sl;var bt=Qt(),ei=Jt,We=K,ul=function(){function i(){this._dragging=!1,this.animationThreshold=15}return i.prototype.render=function(e,t,r,a){var n=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!a&&this._lastValue===n&&this._lastStatus===o)){this._lastValue=n,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,n,e,t,r);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=h;var c=this._moveAnimation=this.determineAnimation(e,t);if(!s)s=this._group=new Kt,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),r.getZr().add(s);else{var v=X(ri,t,c);this.updatePointerEl(s,u,v),this.updateLabelEl(s,u,v,t)}ai(s,t,!0),this._renderHandle(n)}},i.prototype.remove=function(e){this.clear(e)},i.prototype.dispose=function(e){this.clear(e)},i.prototype.determineAnimation=function(e,t){var r=t.get("animation"),a=e.axis,n=a.type==="category",o=t.get("snap");if(!o&&!n)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(n&&a.getBandWidth()>s)return!0;if(o){var l=dr(e).seriesDataCount,u=a.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},i.prototype.makeElOption=function(e,t,r,a,n){},i.prototype.createPointerEl=function(e,t,r,a){var n=t.pointer;if(n){var o=bt(e).pointerEl=new Yn[n.type](ei(t.pointer));e.add(o)}},i.prototype.createLabelEl=function(e,t,r,a){if(t.label){var n=bt(e).labelEl=new ot(ei(t.label));e.add(n),ii(n,a)}},i.prototype.updatePointerEl=function(e,t,r){var a=bt(e).pointerEl;a&&t.pointer&&(a.setStyle(t.pointer.style),r(a,{shape:t.pointer.shape}))},i.prototype.updateLabelEl=function(e,t,r,a){var n=bt(e).labelEl;n&&(n.setStyle(t.label.style),r(n,{x:t.label.x,y:t.label.y}),ii(n,a))},i.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),a=this._handle,n=t.getModel("handle"),o=t.get("status");if(!n.get("show")||!o||o==="hide"){a&&r.remove(a),this._handle=null;return}var s;this._handle||(s=!0,a=this._handle=Vi(n.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Xn(u.event)},onmousedown:We(this._onHandleDragMove,this,0,0),drift:We(this._onHandleDragMove,this),ondragend:We(this._onHandleDragEnd,this)}),r.add(a)),ai(a,t,!1),a.setStyle(n.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=n.get("size");z(l)||(l=[l,l]),a.scaleX=l[0]/2,a.scaleY=l[1]/2,$i(this,"_doDispatchAxisPointer",n.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},i.prototype._moveHandleToValue=function(e,t){ri(this._axisPointerModel,!t&&this._moveAnimation,this._handle,Ve(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},i.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var a=this.updateHandleTransform(Ve(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=a,r.stopAnimation(),r.attr(Ve(a)),bt(r).lastProp=null,this._doDispatchAxisPointer()}},i.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},i.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},i.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,a=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),a&&t.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),tr(this,"_doDispatchAxisPointer")},i.prototype.doClear=function(){},i.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},i}();function ri(i,e,t,r){pa(bt(t).lastProp,r)||(bt(t).lastProp=r,e?_e(t,r,i):(t.stopAnimation(),t.attr(r)))}function pa(i,e){if(J(i)&&J(e)){var t=!0;return I(e,function(r,a){t=t&&pa(i[a],r)}),!!t}else return i===e}function ii(i,e){i[e.get(["label","show"])?"show":"hide"]()}function Ve(i){return{x:i.x||0,y:i.y||0,rotation:i.rotation||0}}function ai(i,e,t){var r=e.get("z"),a=e.get("zlevel");i&&i.traverse(function(n){n.type!=="group"&&(r!=null&&(n.z=r),a!=null&&(n.zlevel=a),n.silent=t)})}const hl=ul;function cl(i){var e=i.get("type"),t=i.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function fl(i,e,t,r,a){var n=t.get("value"),o=ma(n,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=ur(s.get("padding")||0),u=s.getFont(),h=Kn(o,u),c=a.position,v=h.width+l[1]+l[3],f=h.height+l[0]+l[2],d=a.align;d==="right"&&(c[0]-=v),d==="center"&&(c[0]-=v/2);var g=a.verticalAlign;g==="bottom"&&(c[1]-=f),g==="middle"&&(c[1]-=f/2),vl(c,v,f,r);var m=s.get("backgroundColor");(!m||m==="auto")&&(m=e.get(["axisLine","lineStyle","color"])),i.label={x:c[0],y:c[1],style:It(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function vl(i,e,t,r){var a=r.getWidth(),n=r.getHeight();i[0]=Math.min(i[0]+e,a)-e,i[1]=Math.min(i[1]+t,n)-t,i[0]=Math.max(i[0],0),i[1]=Math.max(i[1],0)}function ma(i,e,t,r,a){i=e.scale.parse(i);var n=e.scale.getLabel({value:i},{precision:a.precision}),o=a.formatter;if(o){var s={value:vr(e,{value:i}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};I(r,function(l){var u=t.getSeriesByIndex(l.seriesIndex),h=l.dataIndexInside,c=u&&u.getDataParams(h);c&&s.seriesData.push(c)}),H(o)?n=o.replace("{value}",n):j(o)&&(n=o(s))}return n}function ya(i,e,t){var r=qn();return Fi(r,r,t.rotation),Un(r,r,t.position),Zn([i.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function dl(i,e,t,r,a,n){var o=Js.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=a.get(["label","margin"]),fl(e,r,a,n,{position:ya(r.axis,i,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function gl(i,e,t){return t=t||0,{x1:i[t],y1:i[1-t],x2:e[t],y2:e[1-t]}}function pl(i,e,t){return t=t||0,{x:i[t],y:i[1-t],width:e[t],height:e[1-t]}}var ml=function(i){F(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,a,n,o){var s=a.axis,l=s.grid,u=n.get("type"),h=ni(l,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var v=cl(n),f=yl[u](s,c,h);f.style=v,t.graphicKey=f.type,t.pointer=f}var d=qr(l.model,a);dl(r,t,d,a,n,o)},e.prototype.getHandleTransform=function(t,r,a){var n=qr(r.axis.grid.model,r,{labelInside:!1});n.labelMargin=a.get(["handle","margin"]);var o=ya(r.axis,t,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,a,n){var o=a.axis,s=o.grid,l=o.getGlobalExtent(!0),u=ni(s,o).getOtherAxis(o).getGlobalExtent(),h=o.dim==="x"?0:1,c=[t.x,t.y];c[h]+=r[h],c[h]=Math.min(l[1],c[h]),c[h]=Math.max(l[0],c[h]);var v=(u[1]+u[0])/2,f=[v,v];f[h]=c[h];var d=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:f,tooltipOption:d[h]}},e}(hl);function ni(i,e){var t={};return t[e.dim+"AxisIndex"]=e.index,i.getCartesian(t)}var yl={line:function(i,e,t){var r=gl([e,t[0]],[e,t[1]],oi(i));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(i,e,t){var r=Math.max(1,i.getBandWidth()),a=t[1]-t[0];return{type:"Rect",shape:pl([e-r/2,t[0]],[r,a],oi(i))}}};function oi(i){return i.dim==="x"?0:1}const _l=ml;var xl=function(i){F(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(St);const bl=xl;var lt=Qt(),Sl=I;function _a(i,e,t){if(!Q.node){var r=e.getZr();lt(r).records||(lt(r).records={}),wl(r,e);var a=lt(r).records[i]||(lt(r).records[i]={});a.handler=t}}function wl(i,e){if(lt(i).initialized)return;lt(i).initialized=!0,t("click",X(si,"click")),t("mousemove",X(si,"mousemove")),t("globalout",Dl);function t(r,a){i.on(r,function(n){var o=Tl(e);Sl(lt(i).records,function(s){s&&a(s,n,o.dispatchAction)}),Cl(o.pendings,e)})}}function Cl(i,e){var t=i.showTip.length,r=i.hideTip.length,a;t?a=i.showTip[t-1]:r&&(a=i.hideTip[r-1]),a&&(a.dispatchAction=null,e.dispatchAction(a))}function Dl(i,e,t){i.handler("leave",null,t)}function si(i,e,t,r){e.handler(i,t,r)}function Tl(i){var e={showTip:[],hideTip:[]},t=function(r){var a=e[r.type];a?a.push(r):(r.dispatchAction=t,i.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function rr(i,e){if(!Q.node){var t=e.getZr(),r=(lt(t).records||{})[i];r&&(lt(t).records[i]=null)}}var Ll=function(i){F(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a){var n=r.getComponent("tooltip"),o=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";_a("axisPointer",a,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){rr("axisPointer",r)},e.prototype.dispose=function(t,r){rr("axisPointer",r)},e.type="axisPointer",e}(Ct);const Al=Ll;function xa(i,e){var t=[],r=i.seriesIndex,a;if(r==null||!(a=e.getSeriesByIndex(r)))return{point:[]};var n=a.getData(),o=jn(n,i);if(o==null||o<0||z(o))return{point:[]};var s=n.getItemGraphicEl(o),l=a.coordinateSystem;if(a.getTooltipPosition)t=a.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(i.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u),c=h.dim,v=u.dim,f=c==="x"||c==="radius"?1:0,d=n.mapDimension(v),g=[];g[f]=n.get(d,o),g[1-f]=n.get(n.getCalculationInfo("stackResultDimension"),o),t=l.dataToPoint(g)||[]}else t=l.dataToPoint(n.getValues(st(l.dimensions,function(p){return n.mapDimension(p)}),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),t=[m.x+m.width/2,m.y+m.height/2]}return{point:t,el:s}}var li=Qt();function Ml(i,e,t){var r=i.currTrigger,a=[i.x,i.y],n=i,o=i.dispatchAction||K(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){ye(a)&&(a=xa({seriesIndex:n.seriesIndex,dataIndex:n.dataIndex},e).point);var l=ye(a),u=n.axesInfo,h=s.axesInfo,c=r==="leave"||ye(a),v={},f={},d={list:[],map:{}},g={showPointer:X(Pl,f),showTooltip:X(Ol,d)};I(s.coordSysMap,function(p,y){var _=l||p.containPoint(a);I(s.coordSysAxesInfo[y],function(x,S){var A=x.axis,D=Nl(u,x);if(!c&&_&&(!u||D)){var b=D&&D.value;b==null&&!l&&(b=A.pointToData(a)),b!=null&&ui(x,b,g,!1,v)}})});var m={};return I(h,function(p,y){var _=p.linkGroup;_&&!f[y]&&I(_.axesInfo,function(x,S){var A=f[S];if(x!==p&&A){var D=A.value;_.mapper&&(D=p.axis.scale.parse(_.mapper(D,hi(x),hi(p)))),m[p.key]=D}})}),I(m,function(p,y){ui(h[y],p,g,!0,v)}),kl(f,h,v),Rl(d,a,i,o),El(h,o,t),v}}function ui(i,e,t,r,a){var n=i.axis;if(!(n.scale.isBlank()||!n.containData(e))){if(!i.involveSeries){t.showPointer(i,e);return}var o=Il(e,i),s=o.payloadBatch,l=o.snapToValue;s[0]&&a.seriesIndex==null&&B(a,s[0]),!r&&i.snap&&n.containData(l)&&l!=null&&(e=l),t.showPointer(i,e,s),t.showTooltip(i,o,l)}}function Il(i,e){var t=e.axis,r=t.dim,a=i,n=[],o=Number.MAX_VALUE,s=-1;return I(e.seriesModels,function(l,u){var h=l.getData().mapDimensionsAll(r),c,v;if(l.getAxisTooltipData){var f=l.getAxisTooltipData(h,i,t);v=f.dataIndices,c=f.nestestValue}else{if(v=l.getData().indicesOfNearest(h[0],i,t.type==="category"?.5:null),!v.length)return;c=l.getData().get(h[0],v[0])}if(!(c==null||!isFinite(c))){var d=i-c,g=Math.abs(d);g<=o&&((g<o||d>=0&&s<0)&&(o=g,s=d,a=c,n.length=0),I(v,function(m){n.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:n,snapToValue:a}}function Pl(i,e,t,r){i[e.key]={value:t,payloadBatch:r}}function Ol(i,e,t,r){var a=t.payloadBatch,n=e.axis,o=n.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!a.length)){var l=e.coordSys.model,u=jt(l),h=i.map[u];h||(h=i.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},i.list.push(h)),h.dataByAxis.push({axisDim:n.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function kl(i,e,t){var r=t.axesInfo=[];I(e,function(a,n){var o=a.axisPointerModel.option,s=i[n];s?(!a.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!a.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:o.value})})}function Rl(i,e,t,r){if(ye(e)||!i.list.length){r({type:"hideTip"});return}var a=((i.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:i.list})}function El(i,e,t){var r=t.getZr(),a="axisPointerLastHighlights",n=li(r)[a]||{},o=li(r)[a]={};I(i,function(u,h){var c=u.axisPointerModel.option;c.status==="show"&&u.triggerEmphasis&&I(c.seriesDataIndices,function(v){var f=v.seriesIndex+" | "+v.dataIndex;o[f]=v})});var s=[],l=[];I(n,function(u,h){!o[h]&&l.push(u)}),I(o,function(u,h){!n[h]&&s.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function Nl(i,e){for(var t=0;t<(i||[]).length;t++){var r=i[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function hi(i){var e=i.axis.model,t={},r=t.axisDim=i.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function ye(i){return!i||i[0]==null||isNaN(i[0])||i[1]==null||isNaN(i[1])}function Bl(i){ll.registerAxisPointerClass("CartesianAxisPointer",_l),i.registerComponentModel(bl),i.registerComponentView(Al),i.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!z(t)&&(e.axisPointer.link=[t])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=tl(e,t)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Ml)}function Gl(i,e){var t=ur(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),i=new ee({shape:{x:i.x-t[3],y:i.y-t[0],width:i.width+t[1]+t[3],height:i.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),i}var zl=function(i){F(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(St);const Hl=zl;function ba(i){var e=i.get("confine");return e!=null?!!e:i.get("renderMode")==="richText"}function Sa(i){if(Q.domSupported){for(var e=document.documentElement.style,t=0,r=i.length;t<r;t++)if(i[t]in e)return i[t]}}var wa=Sa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Fl=Sa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Ca(i,e){if(!i)return e;e=Yi(e,!0);var t=i.indexOf(e);return i=t===-1?e:"-"+i.slice(0,t)+"-"+e,i.toLowerCase()}function Wl(i,e){var t=i.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i);return t?e?t[e]:t:null}var Vl=Ca(Fl,"transition"),gr=Ca(wa,"transform"),$l="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Q.transform3dSupported?"will-change:transform;":"");function Yl(i){return i=i==="left"?"right":i==="right"?"left":i==="top"?"bottom":"top",i}function Xl(i,e,t){if(!H(t)||t==="inside")return"";var r=i.get("backgroundColor"),a=i.get("borderWidth");e=Se(e);var n=Yl(t),o=Math.max(Math.round(a)*1.5,6),s="",l=gr+":",u;te(["left","right"],n)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=n==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=n==="top"?225:45)+"deg)");var h=u*Math.PI/180,c=o+a,v=c*Math.abs(Math.cos(h))+c*Math.abs(Math.sin(h)),f=Math.round(((v-Math.SQRT2*a)/2+Math.SQRT2*a-(v-c)/2)*100)/100;s+=";"+n+":-"+f+"px";var d=e+" solid "+a+"px;",g=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+d,"border-right:"+d,"background-color:"+r+";"];return'<div style="'+g.join("")+'"></div>'}function Ul(i,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+i/2+"s "+t,a="opacity"+r+",visibility"+r;return e||(r=" "+i+"s "+t,a+=Q.transformSupported?","+gr+r:",left"+r+",top"+r),Vl+":"+a}function ci(i,e,t){var r=i.toFixed(0)+"px",a=e.toFixed(0)+"px";if(!Q.transformSupported)return t?"top:"+a+";left:"+r+";":[["top",a],["left",r]];var n=Q.transform3dSupported,o="translate"+(n?"3d":"")+"("+r+","+a+(n?",0":"")+")";return t?"top:0;left:0;"+gr+":"+o+";":[["top",0],["left",0],[wa,o]]}function Zl(i){var e=[],t=i.get("fontSize"),r=i.getTextColor();r&&e.push("color:"+r),e.push("font:"+i.getFont()),t&&e.push("line-height:"+Math.round(t*3/2)+"px");var a=i.get("textShadowColor"),n=i.get("textShadowBlur")||0,o=i.get("textShadowOffsetX")||0,s=i.get("textShadowOffsetY")||0;return a&&n&&e.push("text-shadow:"+o+"px "+s+"px "+n+"px "+a),I(["decoration","align"],function(l){var u=i.get(l);u&&e.push("text-"+l+":"+u)}),e.join(";")}function Kl(i,e,t){var r=[],a=i.get("transitionDuration"),n=i.get("backgroundColor"),o=i.get("shadowBlur"),s=i.get("shadowColor"),l=i.get("shadowOffsetX"),u=i.get("shadowOffsetY"),h=i.getModel("textStyle"),c=Xi(i,"html"),v=l+"px "+u+"px "+o+"px "+s;return r.push("box-shadow:"+v),e&&a&&r.push(Ul(a,t)),n&&r.push("background-color:"+n),I(["width","color","radius"],function(f){var d="border-"+f,g=Yi(d),m=i.get(g);m!=null&&r.push(d+":"+m+(f==="color"?"":"px"))}),r.push(Zl(h)),c!=null&&r.push("padding:"+ur(c).join("px ")+"px"),r.join(";")+";"}function fi(i,e,t,r,a){var n=e&&e.painter;if(t){var o=n&&n.getViewportRoot();o&&to(i,o,document.body,r,a)}else{i[0]=r,i[1]=a;var s=n&&n.getViewportRootOffset();s&&(i[0]+=s.offsetLeft,i[1]+=s.offsetTop)}i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}var ql=function(){function i(e,t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Q.wxa)return null;var a=document.createElement("div");a.domBelongToZr=!0,this.el=a;var n=this._zr=t.getZr(),o=this._appendToBody=r&&r.appendToBody;fi(this._styleCoord,n,o,t.getWidth()/2,t.getHeight()/2),o?document.body.appendChild(a):e.appendChild(a),this._container=e;var s=this;a.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},a.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=n.handler,h=n.painter.getViewportRoot();Qn(h,l,!0),u.dispatch("mousemove",l)}},a.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return i.prototype.update=function(e){var t=this._container,r=Wl(t,"position"),a=t.style;a.position!=="absolute"&&r!=="absolute"&&(a.position="relative");var n=e.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n,this.el.className=e.get("className")||""},i.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,a=r.style,n=this._styleCoord;r.innerHTML?a.cssText=$l+Kl(e,!this._firstShow,this._longHide)+ci(n[0],n[1],!0)+("border-color:"+Se(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},i.prototype.setContent=function(e,t,r,a,n){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(H(n)&&r.get("trigger")==="item"&&!ba(r)&&(s=Xl(r,a,n)),H(e))o.innerHTML=e+s;else if(e){o.innerHTML="",z(e)||(e=[e]);for(var l=0;l<e.length;l++)Jn(e[l])&&e[l].parentNode!==o&&o.appendChild(e[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},i.prototype.moveTo=function(e,t){var r=this._styleCoord;if(fi(r,this._zr,this._appendToBody,e,t),r[0]!=null&&r[1]!=null){var a=this.el.style,n=ci(r[0],r[1]);I(n,function(o){a[o[0]]=o[1]})}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Q.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(K(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},i}();const jl=ql;var Ql=function(){function i(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),di(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return i.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},i.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},i.prototype.setContent=function(e,t,r,a,n){var o=this;J(e)&&eo(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new ot({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Xi(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),I(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=r.get(u)}),I(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},i.prototype.setEnterable=function(e){this._enterable=e},i.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=vi(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},i.prototype.moveTo=function(e,t){var r=this.el;if(r){var a=this._styleCoord;di(a,this._zr,e,t),e=a[0],t=a[1];var n=r.style,o=vt(n.borderWidth||0),s=vi(n);r.x=e+o+s.left,r.y=t+o+s.top,r.markRedraw()}},i.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},i.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},i.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(K(this.hide,this),e)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this._zr.remove(this.el)},i}();function vt(i){return Math.max(0,i)}function vi(i){var e=vt(i.shadowBlur||0),t=vt(i.shadowOffsetX||0),r=vt(i.shadowOffsetY||0);return{left:vt(e-t),right:vt(e+t),top:vt(e-r),bottom:vt(e+r)}}function di(i,e,t,r){i[0]=t,i[1]=r,i[2]=i[0]/e.getWidth(),i[3]=i[1]/e.getHeight()}const Jl=Ql;var tu=new ee({shape:{x:-1,y:-1,width:2,height:2}}),eu=function(i){F(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(Q.node||!r.getDom())){var a=t.getComponent("tooltip"),n=this._renderMode=ro(a.get("renderMode"));this._tooltipContent=n==="richText"?new Jl(r):new jl(r.getDom(),r,{appendToBody:a.get("appendToBody",!0)})}},e.prototype.render=function(t,r,a){if(!(Q.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=a;var n=this._tooltipContent;n.update(t),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?$i(this,"_updatePosition",50,"fixRate"):tr(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");_a("itemTooltip",this._api,K(function(a,n,o){r!=="none"&&(r.indexOf(a)>=0?this._tryShow(n,o):a==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,a=this._api,n=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&n!=="none"&&n!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&o.manuallyShowTip(t,r,a,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,a,n){if(!(n.from===this.uid||Q.node||!a.getDom())){var o=gi(n,a);this._ticket="";var s=n.dataByCoordSys,l=nu(n,r,a);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:n.position,positionDefault:"bottom"},o)}else if(n.tooltip&&n.x!=null&&n.y!=null){var h=tu;h.x=n.x,h.y=n.y,h.update(),at(h).tooltipConfig={name:null,option:n.tooltip},this._tryShow({offsetX:n.x,offsetY:n.y,target:h},o)}else if(s)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:s,tooltipOption:n.tooltipOption},o);else if(n.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,a,n))return;var c=xa(n,r),v=c.point[0],f=c.point[1];v!=null&&f!=null&&this._tryShow({offsetX:v,offsetY:f,target:c.el,position:n.position,positionDefault:"bottom"},o)}else n.x!=null&&n.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:a.getZr().findHover(n.x,n.y).target},o))}},e.prototype.manuallyHideTip=function(t,r,a,n){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(gi(n,a))},e.prototype._manuallyAxisShowTip=function(t,r,a,n){var o=n.seriesIndex,s=n.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=r.getSeriesByIndex(o);if(u){var h=u.getData(),c=Ht([h.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(c.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:n.position}),!0}}},e.prototype._tryShow=function(t,r){var a=t.target,n=this._tooltipModel;if(n){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(a){this._lastDataByCoordSys=null;var s,l;io(a,function(u){if(at(u).dataIndex!=null)return s=u,!0;if(at(u).tooltipConfig!=null)return l=u,!0},!0),s?this._showSeriesItemTooltip(t,s,r):l?this._showComponentItemTooltip(t,l,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var a=t.get("showDelay");r=K(r,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(r,a):r()},e.prototype._showAxisTooltip=function(t,r){var a=this._ecModel,n=this._tooltipModel,o=[r.offsetX,r.offsetY],s=Ht([r.tooltipOption],n),l=this._renderMode,u=[],h=Pr("section",{blocks:[],noHeader:!0}),c=[],v=new Re;I(t,function(y){I(y.dataByAxis,function(_){var x=a.getComponent(_.axisDim+"Axis",_.axisIndex),S=_.value;if(!(!x||S==null)){var A=ma(S,x.axis,a,_.seriesDataIndices,_.valueLabelOpt),D=Pr("section",{header:A,noHeader:!ao(A),sortBlocks:!0,blocks:[]});h.blocks.push(D),I(_.seriesDataIndices,function(b){var T=a.getSeriesByIndex(b.seriesIndex),C=b.dataIndexInside,w=T.getDataParams(C);if(!(w.dataIndex<0)){w.axisDim=_.axisDim,w.axisIndex=_.axisIndex,w.axisType=_.axisType,w.axisId=_.axisId,w.axisValue=vr(x.axis,{value:S}),w.axisValueLabel=A,w.marker=v.makeTooltipMarker("item",Se(w.color),l);var L=Or(T.formatTooltip(C,!0,null)),M=L.frag;if(M){var O=Ht([T],n).get("valueFormatter");D.blocks.push(O?B({valueFormatter:O},M):M)}L.text&&c.push(L.text),u.push(w)}})}})}),h.blocks.reverse(),c.reverse();var f=r.position,d=s.get("order"),g=kr(h,v,l,d,a.get("useUTC"),s.get("textStyle"));g&&c.unshift(g);var m=l==="richText"?`

`:"<br/>",p=c.join(m);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(s,f,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,p,u,Math.random()+"",o[0],o[1],f,null,v)})},e.prototype._showSeriesItemTooltip=function(t,r,a){var n=this._ecModel,o=at(r),s=o.seriesIndex,l=n.getSeriesByIndex(s),u=o.dataModel||l,h=o.dataIndex,c=o.dataType,v=u.getData(c),f=this._renderMode,d=t.positionDefault,g=Ht([v.getItemModel(h),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),m=g.get("trigger");if(!(m!=null&&m!=="item")){var p=u.getDataParams(h,c),y=new Re;p.marker=y.makeTooltipMarker("item",Se(p.color),f);var _=Or(u.formatTooltip(h,!1,c)),x=g.get("order"),S=g.get("valueFormatter"),A=_.frag,D=A?kr(S?B({valueFormatter:S},A):A,y,f,x,n.get("useUTC"),g.get("textStyle")):_.text,b="item_"+u.name+"_"+h;this._showOrMove(g,function(){this._showTooltipContent(g,D,p,b,t.offsetX,t.offsetY,t.position,t.target,y)}),a({type:"showTip",dataIndexInside:h,dataIndex:v.getRawIndex(h),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,a){var n=at(r),o=n.tooltipConfig,s=o.option||{};if(H(s)){var l=s;s={content:l,formatter:l}}var u=[s],h=this._ecModel.getComponent(n.componentMainType,n.componentIndex);h&&u.push(h),u.push({formatter:s.content});var c=t.positionDefault,v=Ht(u,this._tooltipModel,c?{position:c}:null),f=v.get("content"),d=Math.random()+"",g=new Re;this._showOrMove(v,function(){var m=Jt(v.get("formatterParams")||{});this._showTooltipContent(v,f,m,d,t.offsetX,t.offsetY,t.position,r,g)}),a({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,a,n,o,s,l,u,h){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var c=this._tooltipContent;c.setEnterable(t.get("enterable"));var v=t.get("formatter");l=l||t.get("position");var f=r,d=this._getNearestPoint([o,s],a,t.get("trigger"),t.get("borderColor")),g=d.color;if(v)if(H(v)){var m=t.ecModel.get("useUTC"),p=z(a)?a[0]:a,y=p&&p.axisType&&p.axisType.indexOf("time")>=0;f=v,y&&(f=wi(p.axisValue,f,m)),f=no(f,a,!0)}else if(j(v)){var _=K(function(x,S){x===this._ticket&&(c.setContent(S,h,t,g,l),this._updatePosition(t,l,o,s,c,a,u))},this);this._ticket=n,f=v(a,n,_)}else f=v;c.setContent(f,h,t,g,l),c.show(t,g),this._updatePosition(t,l,o,s,c,a,u)}},e.prototype._getNearestPoint=function(t,r,a,n){if(a==="axis"||z(r))return{color:n||(this._renderMode==="html"?"#fff":"none")};if(!z(r))return{color:n||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,a,n,o,s,l){var u=this._api.getWidth(),h=this._api.getHeight();r=r||t.get("position");var c=o.getSize(),v=t.get("align"),f=t.get("verticalAlign"),d=l&&l.getBoundingRect().clone();if(l&&d.applyTransform(l.transform),j(r)&&(r=r([a,n],s,o.el,d,{viewSize:[u,h],contentSize:c.slice()})),z(r))a=Y(r[0],u),n=Y(r[1],h);else if(J(r)){var g=r;g.width=c[0],g.height=c[1];var m=Ut(g,{width:u,height:h});a=m.x,n=m.y,v=null,f=null}else if(H(r)&&l){var p=au(r,d,c,t.get("borderWidth"));a=p[0],n=p[1]}else{var p=ru(a,n,o,u,h,v?null:20,f?null:20);a=p[0],n=p[1]}if(v&&(a-=pi(v)?c[0]/2:v==="right"?c[0]:0),f&&(n-=pi(f)?c[1]/2:f==="bottom"?c[1]:0),ba(t)){var p=iu(a,n,o,u,h);a=p[0],n=p[1]}o.moveTo(a,n)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var a=this._lastDataByCoordSys,n=this._cbParamsList,o=!!a&&a.length===t.length;return o&&I(a,function(s,l){var u=s.dataByAxis||[],h=t[l]||{},c=h.dataByAxis||[];o=o&&u.length===c.length,o&&I(u,function(v,f){var d=c[f]||{},g=v.seriesDataIndices||[],m=d.seriesDataIndices||[];o=o&&v.value===d.value&&v.axisType===d.axisType&&v.axisId===d.axisId&&g.length===m.length,o&&I(g,function(p,y){var _=m[y];o=o&&p.seriesIndex===_.seriesIndex&&p.dataIndex===_.dataIndex}),n&&I(v.seriesDataIndices,function(p){var y=p.seriesIndex,_=r[y],x=n[y];_&&x&&x.data!==_.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){Q.node||!r.getDom()||(tr(this,"_updatePosition"),this._tooltipContent.dispose(),rr("itemTooltip",r))},e.type="tooltip",e}(Ct);function Ht(i,e,t){var r=e.ecModel,a;t?(a=new dt(t,r,r),a=new dt(e.option,a,r)):a=e;for(var n=i.length-1;n>=0;n--){var o=i[n];o&&(o instanceof dt&&(o=o.get("tooltip",!0)),H(o)&&(o={formatter:o}),o&&(a=new dt(o,a,r)))}return a}function gi(i,e){return i.dispatchAction||K(e.dispatchAction,e)}function ru(i,e,t,r,a,n,o){var s=t.getSize(),l=s[0],u=s[1];return n!=null&&(i+l+n+2>r?i-=l+n:i+=n),o!=null&&(e+u+o>a?e-=u+o:e+=o),[i,e]}function iu(i,e,t,r,a){var n=t.getSize(),o=n[0],s=n[1];return i=Math.min(i+o,r)-o,e=Math.min(e+s,a)-s,i=Math.max(i,0),e=Math.max(e,0),[i,e]}function au(i,e,t,r){var a=t[0],n=t[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=e.width,h=e.height;switch(i){case"inside":s=e.x+u/2-a/2,l=e.y+h/2-n/2;break;case"top":s=e.x+u/2-a/2,l=e.y-n-o;break;case"bottom":s=e.x+u/2-a/2,l=e.y+h+o;break;case"left":s=e.x-a-o,l=e.y+h/2-n/2;break;case"right":s=e.x+u+o,l=e.y+h/2-n/2}return[s,l]}function pi(i){return i==="center"||i==="middle"}function nu(i,e,t){var r=oo(i).queryOptionMap,a=r.keys()[0];if(!(!a||a==="series")){var n=so(e,a,r.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),o=n.models[0];if(o){var s=t.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var h=at(u).tooltipConfig;if(h&&h.name===i.name)return l=u,!0}),l)return{componentMainType:a,componentIndex:o.componentIndex,el:l}}}}const ou=eu;function Gu(i){qt(Bl),i.registerComponentModel(Hl),i.registerComponentView(ou),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Rr),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Rr)}var su=function(i){F(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(St),lu=function(i){F(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a){if(this.group.removeAll(),!!t.get("show")){var n=this.group,o=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),u=Xt(t.get("textBaseline"),t.get("textVerticalAlign")),h=new ot({style:It(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),c=h.getBoundingRect(),v=t.get("subtext"),f=new ot({style:It(s,{text:v,fill:s.getTextColor(),y:c.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),g=t.get("sublink"),m=t.get("triggerEvent",!0);h.silent=!d&&!m,f.silent=!g&&!m,d&&h.on("click",function(){Er(d,"_"+t.get("target"))}),g&&f.on("click",function(){Er(g,"_"+t.get("subtarget"))}),at(h).eventData=at(f).eventData=m?{componentType:"title",componentIndex:t.componentIndex}:null,n.add(h),v&&n.add(f);var p=n.getBoundingRect(),y=t.getBoxLayoutParams();y.width=p.width,y.height=p.height;var _=Ut(y,{width:a.getWidth(),height:a.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?_.x+=_.width:l==="center"&&(_.x+=_.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?_.y+=_.height:u==="middle"&&(_.y+=_.height/2),u=u||"top"),n.x=_.x,n.y=_.y,n.markRedraw();var x={align:l,verticalAlign:u};h.setStyle(x),f.setStyle(x),p=n.getBoundingRect();var S=_.margin,A=t.getItemStyle(["color","opacity"]);A.fill=t.get("backgroundColor");var D=new ee({shape:{x:p.x-S[3],y:p.y-S[0],width:p.width+S[1]+S[3],height:p.height+S[0]+S[2],r:t.get("borderRadius")},style:A,subPixelOptimize:!0,silent:!0});n.add(D)}},e.type="title",e}(Ct);function zu(i){i.registerComponentModel(su),i.registerComponentView(lu)}var uu=function(i,e){if(e==="all")return{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}},hu=function(i){F(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,a=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),z(r)&&I(r,function(n,o){H(n)&&(n={type:n}),r[o]=Wt(n,uu(a,n.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,a=0;a<t.length;a++){var n=t[a].get("name");if(this.isSelected(n)){this.select(n),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],a=[];t.eachRawSeries(function(l){var u=l.name;a.push(u);var h;if(l.legendVisualProvider){var c=l.legendVisualProvider,v=c.getAllNames();t.isSeriesFiltered(l)||(a=a.concat(v)),v.length?r=r.concat(v):h=!0}else h=!0;h&&lo(l)&&r.push(l.name)}),this._availableNames=a;var n=this.get("data")||r,o=ut(),s=st(n,function(l){return(H(l)||Pt(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new dt(l,this,this.ecModel))},this);this._data=Ue(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,a=this.get("selectedMode");if(a==="single"){var n=this._data;I(n,function(o){r[o.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;I(t,function(a){r[a.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;I(t,function(a){var n=a.get("name",!0);r.hasOwnProperty(n)||(r[n]=!0),r[n]=!r[n]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&te(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(St);const ir=hu;var At=X,ar=I,ge=Kt,cu=function(i){F(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new ge),this.group.add(this._selectorGroup=new ge),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,a){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&s==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,t,r,a,l,s,u);var h=t.getBoxLayoutParams(),c={width:a.getWidth(),height:a.getHeight()},v=t.get("padding"),f=Ut(h,c,v),d=this.layoutInner(t,o,f,n,l,u),g=Ut(ht({width:d.width,height:d.height},h),c,v);this.group.x=g.x-d.x,this.group.y=g.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Gl(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,a,n,o,s,l){var u=this.getContentGroup(),h=ut(),c=r.get("selectedMode"),v=[];a.eachRawSeries(function(f){!f.get("legendHoverLink")&&v.push(f.id)}),ar(r.getData(),function(f,d){var g=f.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var m=new ge;m.newline=!0,u.add(m);return}var p=a.getSeriesByName(g)[0];if(!h.get(g))if(p){var y=p.getData(),_=y.getVisual("legendLineStyle")||{},x=y.getVisual("legendIcon"),S=y.getVisual("style"),A=this._createItem(p,g,d,f,r,t,_,S,x,c,n);A.on("click",At(mi,g,null,n,v)).on("mouseover",At(nr,p.name,null,n,v)).on("mouseout",At(or,p.name,null,n,v)),h.set(g,!0)}else a.eachRawSeries(function(D){if(!h.get(g)&&D.legendVisualProvider){var b=D.legendVisualProvider;if(!b.containName(g))return;var T=b.indexOfName(g),C=b.getItemVisual(T,"style"),w=b.getItemVisual(T,"legendIcon"),L=uo(C.fill);L&&L[3]===0&&(L[3]=.2,C=B(B({},C),{fill:ho(L,"rgba")}));var M=this._createItem(D,g,d,f,r,t,{},C,w,c,n);M.on("click",At(mi,null,g,n,v)).on("mouseover",At(nr,null,g,n,v)).on("mouseout",At(or,null,g,n,v)),h.set(g,!0)}},this)},this),o&&this._createSelector(o,r,n,s,l)},e.prototype._createSelector=function(t,r,a,n,o){var s=this.getSelectorGroup();ar(t,function(u){var h=u.type,c=new ot({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:h==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(c);var v=r.getModel("selectorLabel"),f=r.getModel(["emphasis","selectorLabel"]);Ei(c,{normal:v,emphasis:f},{defaultText:u.title}),Nr(c)})},e.prototype._createItem=function(t,r,a,n,o,s,l,u,h,c,v){var f=t.visualDrawType,d=o.get("itemWidth"),g=o.get("itemHeight"),m=o.isSelected(r),p=n.get("symbolRotate"),y=n.get("symbolKeepAspect"),_=n.get("icon");h=_||h||"roundRect";var x=fu(h,n,l,u,f,m,v),S=new ge,A=n.getModel("textStyle");if(j(t.getLegendIcon)&&(!_||_==="inherit"))S.add(t.getLegendIcon({itemWidth:d,itemHeight:g,icon:h,iconRotate:p,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}));else{var D=_==="inherit"&&t.getData().getVisual("symbol")?p==="inherit"?t.getData().getVisual("symbolRotate"):p:0;S.add(vu({itemWidth:d,itemHeight:g,icon:h,iconRotate:D,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}))}var b=s==="left"?d+5:-5,T=s,C=o.get("formatter"),w=r;H(C)&&C?w=C.replace("{name}",r??""):j(C)&&(w=C(r));var L=m?A.getTextColor():n.get("inactiveColor");S.add(new ot({style:It(A,{text:w,x:b,y:g/2,fill:L,align:T,verticalAlign:"middle"},{inheritColor:L})}));var M=new ee({shape:S.getBoundingRect(),invisible:!0}),O=n.getModel("tooltip");return O.get("show")&&Hi({el:M,componentModel:o,itemName:r,itemTooltipOption:O.option}),S.add(M),S.eachChild(function(P){P.silent=!0}),M.silent=!c,this.getContentGroup().add(S),Nr(S),S.__legendDataIndex=a,S},e.prototype.layoutInner=function(t,r,a,n,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();$t(t.get("orient"),l,t.get("itemGap"),a.width,a.height);var h=l.getBoundingRect(),c=[-h.x,-h.y];if(u.markRedraw(),l.markRedraw(),o){$t("horizontal",u,t.get("selectorItemGap",!0));var v=u.getBoundingRect(),f=[-v.x,-v.y],d=t.get("selectorButtonGap",!0),g=t.getOrient().index,m=g===0?"width":"height",p=g===0?"height":"width",y=g===0?"y":"x";s==="end"?f[g]+=h[m]+d:c[g]+=v[m]+d,f[1-g]+=h[p]/2-v[p]/2,u.x=f[0],u.y=f[1],l.x=c[0],l.y=c[1];var _={x:0,y:0};return _[m]=h[m]+d+v[m],_[p]=Math.max(h[p],v[p]),_[y]=Math.min(0,v[y]+f[1-g]),_}else return l.x=c[0],l.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(Ct);function fu(i,e,t,r,a,n,o){function s(m,p){m.lineWidth==="auto"&&(m.lineWidth=p.lineWidth>0?2:0),ar(m,function(y,_){m[_]==="inherit"&&(m[_]=p[_])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),h=i.lastIndexOf("empty",0)===0?"fill":"stroke",c=l.getShallow("decal");u.decal=!c||c==="inherit"?r.decal:co(c,o),u.fill==="inherit"&&(u.fill=r[a]),u.stroke==="inherit"&&(u.stroke=r[h]),u.opacity==="inherit"&&(u.opacity=(a==="fill"?r:t).opacity),s(u,r);var v=e.getModel("lineStyle"),f=v.getLineStyle();if(s(f,t),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),f.stroke==="auto"&&(f.stroke=r.fill),!n){var d=e.get("inactiveBorderWidth"),g=u[h];u.lineWidth=d==="auto"?r.lineWidth>0&&g?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),f.stroke=v.get("inactiveColor"),f.lineWidth=v.get("inactiveWidth")}return{itemStyle:u,lineStyle:f}}function vu(i){var e=i.icon||"roundRect",t=zi(e,0,0,i.itemWidth,i.itemHeight,i.itemStyle.fill,i.symbolKeepAspect);return t.setStyle(i.itemStyle),t.rotation=(i.iconRotate||0)*Math.PI/180,t.setOrigin([i.itemWidth/2,i.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function mi(i,e,t,r){or(i,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:i??e}),nr(i,e,t,r)}function Da(i){for(var e=i.getZr().storage.getDisplayList(),t,r=0,a=e.length;r<a&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function nr(i,e,t,r){Da(t)||t.dispatchAction({type:"highlight",seriesName:i,name:e,excludeSeriesId:r})}function or(i,e,t,r){Da(t)||t.dispatchAction({type:"downplay",seriesName:i,name:e,excludeSeriesId:r})}const Ta=cu;function du(i){var e=i.findComponents({mainType:"legend"});e&&e.length&&i.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function Ft(i,e,t){var r={},a=i==="toggleSelected",n;return t.eachComponent("legend",function(o){a&&n!=null?o[n?"select":"unSelect"](e.name):i==="allSelect"||i==="inverseSelect"?o[i]():(o[i](e.name),n=o.isSelected(e.name));var s=o.getData();I(s,function(l){var u=l.get("name");if(!(u===`
`||u==="")){var h=o.isSelected(u);r.hasOwnProperty(u)?r[u]=r[u]&&h:r[u]=h}})}),i==="allSelect"||i==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function gu(i){i.registerAction("legendToggleSelect","legendselectchanged",X(Ft,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",X(Ft,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",X(Ft,"inverseSelect")),i.registerAction("legendSelect","legendselected",X(Ft,"select")),i.registerAction("legendUnSelect","legendunselected",X(Ft,"unSelect"))}function La(i){i.registerComponentModel(ir),i.registerComponentView(Ta),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,du),i.registerSubTypeDefaulter("legend",function(){return"plain"}),gu(i)}var pu=function(i){F(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,a){var n=fo(t);i.prototype.init.call(this,t,r,a),yi(this,t,n)},e.prototype.mergeOption=function(t,r){i.prototype.mergeOption.call(this,t,r),yi(this,this.option,t)},e.type="legend.scroll",e.defaultOption=vo(ir.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(ir);function yi(i,e,t){var r=i.getOrient(),a=[1,1];a[r.index]=0,go(e,t,{type:"box",ignoreSize:!!a})}const mu=pu;var _i=Kt,$e=["width","height"],Ye=["x","y"],yu=function(i){F(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new _i),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new _i)},e.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,a,n,o,s,l){var u=this;i.prototype.renderInner.call(this,t,r,a,n,o,s,l);var h=this._controllerGroup,c=r.get("pageIconSize",!0),v=z(c)?c:[c,c];d("pagePrev",0);var f=r.getModel("pageTextStyle");h.add(new ot({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),d("pageNext",1);function d(g,m){var p=g+"DataIndex",y=Vi(r.get("pageIcons",!0)[r.getOrient().name][m],{onclick:K(u._pageGo,u,p,r,n)},{x:-v[0]/2,y:-v[1]/2,width:v[0],height:v[1]});y.name=g,h.add(y)}},e.prototype.layoutInner=function(t,r,a,n,o,s){var l=this.getSelectorGroup(),u=t.getOrient().index,h=$e[u],c=Ye[u],v=$e[1-u],f=Ye[1-u];o&&$t("horizontal",l,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),g=l.getBoundingRect(),m=[-g.x,-g.y],p=Jt(a);o&&(p[h]=a[h]-g[h]-d);var y=this._layoutContentAndController(t,n,p,u,h,v,f,c);if(o){if(s==="end")m[u]+=y[h]+d;else{var _=g[h]+d;m[u]-=_,y[c]-=_}y[h]+=g[h]+d,m[1-u]+=y[f]+y[v]/2-g[v]/2,y[v]=Math.max(y[v],g[v]),y[f]=Math.min(y[f],g[f]+m[1-u]),l.x=m[0],l.y=m[1],l.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,r,a,n,o,s,l,u){var h=this.getContentGroup(),c=this._containerGroup,v=this._controllerGroup;$t(t.get("orient"),h,t.get("itemGap"),n?a.width:null,n?null:a.height),$t("horizontal",v,t.get("pageButtonItemGap",!0));var f=h.getBoundingRect(),d=v.getBoundingRect(),g=this._showController=f[o]>a[o],m=[-f.x,-f.y];r||(m[n]=h[u]);var p=[0,0],y=[-d.x,-d.y],_=Xt(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(g){var x=t.get("pageButtonPosition",!0);x==="end"?y[n]+=a[o]-d[o]:p[n]+=d[o]+_}y[1-n]+=f[s]/2-d[s]/2,h.setPosition(m),c.setPosition(p),v.setPosition(y);var S={x:0,y:0};if(S[o]=g?a[o]:f[o],S[s]=Math.max(f[s],d[s]),S[l]=Math.min(0,d[l]+y[1-n]),c.__rectSize=a[o],g){var A={x:0,y:0};A[o]=Math.max(a[o]-d[o]-_,0),A[s]=S[s],c.setClipPath(new ee({shape:A})),c.__rectSize=A[o]}else v.eachChild(function(b){b.attr({invisible:!0,silent:!0})});var D=this._getPageInfo(t);return D.pageIndex!=null&&_e(h,{x:D.contentPosition[0],y:D.contentPosition[1]},g?t:null),this._updatePageInfoView(t,D),S},e.prototype._pageGo=function(t,r,a){var n=this._getPageInfo(r)[t];n!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var a=this._controllerGroup;I(["pagePrev","pageNext"],function(h){var c=h+"DataIndex",v=r[c]!=null,f=a.childOfName(h);f&&(f.setStyle("fill",v?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),f.cursor=v?"pointer":"default")});var n=a.childOfName("pageText"),o=t.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;n&&o&&n.setStyle("text",H(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),a=this.getContentGroup(),n=this._containerGroup.__rectSize,o=t.getOrient().index,s=$e[o],l=Ye[o],u=this._findTargetItemIndex(r),h=a.children(),c=h[u],v=h.length,f=v?1:0,d={contentPosition:[a.x,a.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return d;var g=x(c);d.contentPosition[o]=-g.s;for(var m=u+1,p=g,y=g,_=null;m<=v;++m)_=x(h[m]),(!_&&y.e>p.s+n||_&&!S(_,p.s))&&(y.i>p.i?p=y:p=_,p&&(d.pageNextDataIndex==null&&(d.pageNextDataIndex=p.i),++d.pageCount)),y=_;for(var m=u-1,p=g,y=g,_=null;m>=-1;--m)_=x(h[m]),(!_||!S(y,_.s))&&p.i<y.i&&(y=p,d.pagePrevDataIndex==null&&(d.pagePrevDataIndex=p.i),++d.pageCount,++d.pageIndex),p=_;return d;function x(A){if(A){var D=A.getBoundingRect(),b=D[l]+A[l];return{s:b,e:b+D[s],i:A.__legendDataIndex}}}function S(A,D){return A.e>=D&&A.s<=D+n}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,a=this.getContentGroup(),n;return a.eachChild(function(o,s){var l=o.__legendDataIndex;n==null&&l!=null&&(n=s),l===t&&(r=s)}),r??n},e.type="legend.scroll",e}(Ta);const _u=yu;function xu(i){i.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(a){a.setScrollDataIndex(r)})})}function bu(i){qt(La),i.registerComponentModel(mu),i.registerComponentView(_u),xu(i)}function Hu(i){qt(La),qt(bu)}export{Js as A,Eu as B,zu as C,Gu as D,Hu as E,Le as I,Hr as O,Mo as S,ds as a,ve as b,Au as c,hs as d,Cu as e,Ou as f,wu as g,Iu as h,Tu as i,Nu as j,Bu as k,Lu as l,fs as m,ps as n,Pu as o,Io as p,Du as q,Mu as r,gs as s,qr as t,ll as u,qt as v,Bl as w,ku as x,us as y,Ru as z};
