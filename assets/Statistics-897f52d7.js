import{u as ne,L as me,b as ye,s as xe,o as oe,i as _e,k as j,e as Ie,c as Mr,a as wr,f as N,w as J,j as Cr,n as Dr,_ as Lr}from"./index-1858008c.js";import{S as V,e as b,c as Z,a as Tr,b as $t,i as K,d as ve,m as Ir,f as se,g as Er,C as kr,h as B,j as Ye,k as Rr,l as Ut,n as k,r as G,o as it,R as F,p as q,q as $e,s as Ue,_ as D,t as jt,u as je,P as qt,v as nt,w as Pr,x as Or,y as ae,z as Vr,A as Br,B as ot,G as fe,D as qe,E as Zr,F as Ke,H as zr,I as Nr,J as Gr,K as Wr,L as Fr,M as Hr,N as Je,O as Xr,Q as W,T as le,U as Yr,V as Kt,W as $r,X as Ur,Y as jr,Z as st,$ as lt,a0 as Jt,a1 as qr,a2 as re,a3 as Kr,a4 as Jr,a5 as ut,a6 as ht,a7 as Qt,a8 as Qr,a9 as ea,aa as C,ab as er,ac as ct,ad as pe,ae as ta,af as ra,ag as te,ah as tr,ai as aa,aj as ia,ak as dt,al as vt,am as na,an as oa,ao as sa,ap as la,aq as ua,ar as ft,as as ha,at as ca,au as da,av as Ae,aw as be}from"./index.esm.min-122e8f02.js";import{p as va,e as fa,S as pa,g as ga,a as rr,m as Se,s as ma,b as ya,c as xa,l as _a,O as Aa,I as ba,d as Sa,i as Ee,f as Ma,h as wa,j as pt,k as gt,n as Ca,o as Da,q as We,r as mt,t as La,A as Ta,u as Ia,v as X,w as Ea,x as ka,y as Ra,z as Me,B as we,C as Ce,D as Qe,E as et}from"./install-b5e00ae6.js";var Pa=function(){function i(t){this.coordSysDims=[],this.axisMap=Z(),this.categoryAxisMap=Z(),this.coordSysName=t}return i}();function Oa(i){var t=i.get("coordinateSystem"),e=new Pa(t),r=Va[t];if(r)return r(i,e,e.axisMap,e.categoryAxisMap),e}var Va={cartesian2d:function(i,t,e,r){var a=i.getReferringComponents("xAxis",V).models[0],n=i.getReferringComponents("yAxis",V).models[0];t.coordSysDims=["x","y"],e.set("x",a),e.set("y",n),Y(a)&&(r.set("x",a),t.firstCategoryDimIndex=0),Y(n)&&(r.set("y",n),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(i,t,e,r){var a=i.getReferringComponents("singleAxis",V).models[0];t.coordSysDims=["single"],e.set("single",a),Y(a)&&(r.set("single",a),t.firstCategoryDimIndex=0)},polar:function(i,t,e,r){var a=i.getReferringComponents("polar",V).models[0],n=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",n),e.set("angle",o),Y(n)&&(r.set("radius",n),t.firstCategoryDimIndex=0),Y(o)&&(r.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(i,t,e,r){t.coordSysDims=["lng","lat"]},parallel:function(i,t,e,r){var a=i.ecModel,n=a.getComponent("parallel",i.get("parallelIndex")),o=t.coordSysDims=n.dimensions.slice();b(n.parallelAxisIndex,function(s,l){var u=a.getComponent("parallelAxis",s),h=o[l];e.set(h,u),Y(u)&&(r.set(h,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})}};function Y(i){return i.get("type")==="category"}function Ba(i,t){var e=i.get("coordinateSystem"),r=kr.get(e),a;return t&&t.coordSysDims&&(a=B(t.coordSysDims,function(n){var o={name:n},s=t.axisMap.get(n);if(s){var l=s.get("type");o.type=ga(l)}return o})),a||(a=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),a}function Za(i,t,e){var r,a;return e&&b(i,function(n,o){var s=n.coordDim,l=e.categoryAxisMap.get(s);l&&(r==null&&(r=o),n.ordinalMeta=l.getOrdinalMeta(),t&&(n.createInvertedIndices=!0)),n.otherDims.itemName!=null&&(a=!0)}),!a&&r!=null&&(i[r].otherDims.itemName=0),r}function ar(i,t,e){e=e||{};var r=t.getSourceManager(),a,n=!1;i?(n=!0,a=Tr(i)):(a=r.getSource(),n=a.sourceFormat===$t);var o=Oa(t),s=Ba(t,o),l=e.useEncodeDefaulter,u=K(l)?l:l?ve(Ir,s,t):null,h={coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!n},c=va(a,h),f=Za(c.dimensions,e.createInvertedIndices,o),v=n?null:r.getSharedDataStore(c),d=fa(t,{schema:c,store:v}),p=new pa(c,t);p.setCalculationInfo(d);var g=f!=null&&za(a)?function(x,m,_,y){return y===f?_:this.defaultDimValueGetter(x,m,_,y)}:null;return p.hasItemOption=!1,p.initData(n?a:v,null,g),p}function za(i){if(i.sourceFormat===$t){var t=Na(i.data||[]);return!se(Er(t))}}function Na(i){for(var t=0;t<i.length&&i[t]==null;)t++;return i[t]}var Ga=function(){function i(){}return i.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},i.prototype.getCoordSysModel=function(){},i}(),ie=Ye();function Wa(i){return i.type==="category"?Ha(i):Ya(i)}function Fa(i,t){return i.type==="category"?Xa(i,t):{ticks:B(i.scale.getTicks(),function(e){return e.value})}}function Ha(i){var t=i.getLabelModel(),e=ir(i,t);return!t.get("show")||i.scale.isBlank()?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}function ir(i,t){var e=nr(i,"labels"),r=rr(t),a=or(e,r);if(a)return a;var n,o;return K(r)?n=ur(i,r):(o=r==="auto"?$a(i):r,n=lr(i,o)),sr(e,r,{labels:n,labelCategoryInterval:o})}function Xa(i,t){var e=nr(i,"ticks"),r=rr(t),a=or(e,r);if(a)return a;var n,o;if((!t.get("show")||i.scale.isBlank())&&(n=[]),K(r))n=ur(i,r,!0);else if(r==="auto"){var s=ir(i,i.getLabelModel());o=s.labelCategoryInterval,n=B(s.labels,function(l){return l.tickValue})}else o=r,n=lr(i,o,!0);return sr(e,r,{ticks:n,tickCategoryInterval:o})}function Ya(i){var t=i.scale.getTicks(),e=Se(i);return{labels:B(t,function(r,a){return{level:r.level,formattedLabel:e(r,a),rawLabel:i.scale.getLabel(r),tickValue:r.value}})}}function nr(i,t){return ie(i)[t]||(ie(i)[t]=[])}function or(i,t){for(var e=0;e<i.length;e++)if(i[e].key===t)return i[e].value}function sr(i,t,e){return i.push({key:t,value:e}),e}function $a(i){var t=ie(i).autoInterval;return t??(ie(i).autoInterval=i.calculateCategoryInterval())}function Ua(i){var t=ja(i),e=Se(i),r=(t.axisRotate-t.labelRotate)/180*Math.PI,a=i.scale,n=a.getExtent(),o=a.count();if(n[1]-n[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=n[0],u=i.dataToCoord(l+1)-i.dataToCoord(l),h=Math.abs(u*Math.cos(r)),c=Math.abs(u*Math.sin(r)),f=0,v=0;l<=n[1];l+=s){var d=0,p=0,g=Rr(e({value:l}),t.font,"center","top");d=g.width*1.3,p=g.height*1.3,f=Math.max(f,d,7),v=Math.max(v,p,7)}var x=f/h,m=v/c;isNaN(x)&&(x=1/0),isNaN(m)&&(m=1/0);var _=Math.max(0,Math.floor(Math.min(x,m))),y=ie(i.model),A=i.getExtent(),M=y.lastAutoInterval,w=y.lastTickCount;return M!=null&&w!=null&&Math.abs(M-_)<=1&&Math.abs(w-o)<=1&&M>_&&y.axisExtent0===A[0]&&y.axisExtent1===A[1]?_=M:(y.lastTickCount=o,y.lastAutoInterval=_,y.axisExtent0=A[0],y.axisExtent1=A[1]),_}function ja(i){var t=i.getLabelModel();return{axisRotate:i.getRotate?i.getRotate():i.isHorizontal&&!i.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function lr(i,t,e){var r=Se(i),a=i.scale,n=a.getExtent(),o=i.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=n[0],h=a.count();u!==0&&l>1&&h/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=ma(i),f=o.get("showMinLabel")||c,v=o.get("showMaxLabel")||c;f&&u!==n[0]&&p(n[0]);for(var d=u;d<=n[1];d+=l)p(d);v&&d-l!==n[1]&&p(n[1]);function p(g){var x={value:g};s.push(e?g:{formattedLabel:r(x),rawLabel:a.getLabel(x),tickValue:g})}return s}function ur(i,t,e){var r=i.scale,a=Se(i),n=[];return b(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;t(o.value,s)&&n.push(e?l:{formattedLabel:a(o),rawLabel:s,tickValue:l})}),n}var yt=[0,1],qa=function(){function i(t,e,r){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=r||[0,0]}return i.prototype.contain=function(t){var e=this._extent,r=Math.min(e[0],e[1]),a=Math.max(e[0],e[1]);return t>=r&&t<=a},i.prototype.containData=function(t){return this.scale.contain(t)},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.getPixelPrecision=function(t){return Ut(t||this.scale.getExtent(),this._extent)},i.prototype.setExtent=function(t,e){var r=this._extent;r[0]=t,r[1]=e},i.prototype.dataToCoord=function(t,e){var r=this._extent,a=this.scale;return t=a.normalize(t),this.onBand&&a.type==="ordinal"&&(r=r.slice(),xt(r,a.count())),k(t,yt,r,e)},i.prototype.coordToData=function(t,e){var r=this._extent,a=this.scale;this.onBand&&a.type==="ordinal"&&(r=r.slice(),xt(r,a.count()));var n=k(t,r,yt,e);return this.scale.scale(n)},i.prototype.pointToData=function(t,e){},i.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),r=Fa(this,e),a=r.ticks,n=B(a,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=e.get("alignWithLabel");return Ka(this,n,o,t.clamp),n},i.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var r=this.scale.getMinorTicks(e),a=B(r,function(n){return B(n,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return a},i.prototype.getViewLabels=function(){return Wa(this).labels},i.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},i.prototype.getTickModel=function(){return this.model.getModel("axisTick")},i.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),r=e[1]-e[0]+(this.onBand?1:0);r===0&&(r=1);var a=Math.abs(t[1]-t[0]);return Math.abs(a)/r},i.prototype.calculateCategoryInterval=function(){return Ua(this)},i}();function xt(i,t){var e=i[1]-i[0],r=t,a=e/r/2;i[0]+=a,i[1]-=a}function Ka(i,t,e,r){var a=t.length;if(!i.onBand||e||!a)return;var n=i.getExtent(),o,s;if(a===1)t[0].coord=n[0],o=t[1]={coord:n[1]};else{var l=t[a-1].tickValue-t[0].tickValue,u=(t[a-1].coord-t[0].coord)/l;b(t,function(v){v.coord-=u/2});var h=i.scale.getExtent();s=1+h[1]-t[a-1].tickValue,o={coord:t[a-1].coord+u*s},t.push(o)}var c=n[0]>n[1];f(t[0].coord,n[0])&&(r?t[0].coord=n[0]:t.shift()),r&&f(n[0],t[0].coord)&&t.unshift({coord:n[0]}),f(n[1],o.coord)&&(r?o.coord=n[1]:t.pop()),r&&f(o.coord,n[1])&&t.push({coord:n[1]});function f(v,d){return v=G(v),d=G(d),c?v>d:v<d}}const Ja=qa;function Qa(i,t){var e=i.mapDimensionsAll("defaultedLabel"),r=e.length;if(r===1){var a=it(i,t,e[0]);return a!=null?a+"":null}else if(r){for(var n=[],o=0;o<e.length;o++)n.push(it(i,t,e[o]));return n.join(" ")}}function ei(i,t){var e=i.mapDimensionsAll("defaultedLabel");if(!se(t))return t+"";for(var r=[],a=0;a<e.length;a++){var n=i.getDimensionIndex(e[a]);n>=0&&r.push(t[n])}return r.join(" ")}function ti(i,t,e,r,a){var n=i.getArea(),o=n.x,s=n.y,l=n.width,u=n.height,h=e.get(["lineStyle","width"])||2;o-=h/2,s-=h/2,l+=h,u+=h,o=Math.floor(o),l=Math.round(l);var c=new F({shape:{x:o,y:s,width:l,height:u}});if(t){var f=i.getBaseAxis(),v=f.isHorizontal(),d=f.inverse;v?(d&&(c.shape.x+=l),c.shape.width=0):(d||(c.shape.y+=u),c.shape.height=0);var p=K(a)?function(g){a(g,c)}:null;q(c,{shape:{width:l,height:u,x:o,y:s}},e,null,r,p)}return c}function ri(i,t,e){var r=i.getArea(),a=G(r.r0,1),n=G(r.r,1),o=new $e({shape:{cx:G(i.cx,1),cy:G(i.cy,1),r0:a,r:n,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(t){var s=i.getBaseAxis().dim==="angle";s?o.shape.endAngle=r.startAngle:o.shape.r=a,q(o,{shape:{endAngle:r.endAngle,r:n}},e)}return o}function ai(i,t,e,r,a){if(i){if(i.type==="polar")return ri(i,t,e);if(i.type==="cartesian2d")return ti(i,t,e,r,a)}else return null;return null}function hr(i,t){return i.type===t}var ii={average:function(i){for(var t=0,e=0,r=0;r<i.length;r++)isNaN(i[r])||(t+=i[r],e++);return e===0?NaN:t/e},sum:function(i){for(var t=0,e=0;e<i.length;e++)t+=i[e]||0;return t},max:function(i){for(var t=-1/0,e=0;e<i.length;e++)i[e]>t&&(t=i[e]);return isFinite(t)?t:NaN},min:function(i){for(var t=1/0,e=0;e<i.length;e++)i[e]<t&&(t=i[e]);return isFinite(t)?t:NaN},nearest:function(i){return i[0]}},ni=function(i){return Math.round(i.length/2)};function oi(i){return{seriesType:i,reset:function(t,e,r){var a=t.getData(),n=t.get("sampling"),o=t.coordinateSystem,s=a.count();if(s>10&&o.type==="cartesian2d"&&n){var l=o.getBaseAxis(),u=o.getOtherAxis(l),h=l.getExtent(),c=r.getDevicePixelRatio(),f=Math.abs(h[1]-h[0])*(c||1),v=Math.round(s/f);if(isFinite(v)&&v>1){n==="lttb"&&t.setData(a.lttbDownSample(a.mapDimension(u.dim),1/v));var d=void 0;Ue(n)?d=ii[n]:K(n)&&(d=n),d&&t.setData(a.downSample(a.mapDimension(u.dim),1/v,d,ni))}}}}}var cr=function(i){D(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,r){return ar(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,r,a){var n=this.coordinateSystem;if(n&&n.clampData){var o=n.clampData(e),s=n.dataToPoint(o);if(a)b(n.getAxes(),function(f,v){if(f.type==="category"&&r!=null){var d=f.getTicksCoords(),p=o[v],g=r[v]==="x1"||r[v]==="y1";if(g&&(p+=1),d.length<2)return;if(d.length===2){s[v]=f.toGlobalCoord(f.getExtent()[g?1:0]);return}for(var x=void 0,m=void 0,_=1,y=0;y<d.length;y++){var A=d[y].coord,M=y===d.length-1?d[y-1].tickValue+_:d[y].tickValue;if(M===p){m=A;break}else if(M<p)x=A;else if(x!=null&&M>p){m=(A+x)/2;break}y===1&&(_=M-d[0].tickValue)}m==null&&(x?x&&(m=d[d.length-1].coord):m=d[0].coord),s[v]=f.toGlobalCoord(m)}});else{var l=this.getData(),u=l.getLayout("offset"),h=l.getLayout("size"),c=n.getBaseAxis().isHorizontal()?0:1;s[c]+=u+h/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(jt);jt.registerClass(cr);const _t=cr;var si=function(i){D(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return ar(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>e&&(e=r),e},t.prototype.brushSelector=function(e,r,a){return a.rect(r.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=je(_t.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(_t);const li=si;var ui=function(){function i(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return i}(),hi=function(i){D(t,i);function t(e){var r=i.call(this,e)||this;return r.type="sausage",r}return t.prototype.getDefaultShape=function(){return new ui},t.prototype.buildPath=function(e,r){var a=r.cx,n=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=(s-o)*.5,u=o+l,h=r.startAngle,c=r.endAngle,f=r.clockwise,v=Math.PI*2,d=f?c-h<v:h-c<v;d||(h=c-(f?v:-v));var p=Math.cos(h),g=Math.sin(h),x=Math.cos(c),m=Math.sin(c);d?(e.moveTo(p*o+a,g*o+n),e.arc(p*u+a,g*u+n,l,-Math.PI+h,h,!f)):e.moveTo(p*s+a,g*s+n),e.arc(a,n,s,h,c,!f),e.arc(x*u+a,m*u+n,l,c-Math.PI*2,c-Math.PI,!f),o!==0&&e.arc(a,n,o,c,h,f)},t}(qt);const At=hi;function ci(i,t){t=t||{};var e=t.isRoundCap;return function(r,a,n){var o=a.position;if(!o||o instanceof Array)return nt(r,a,n);var s=i(o),l=a.distance!=null?a.distance:5,u=this.shape,h=u.cx,c=u.cy,f=u.r,v=u.r0,d=(f+v)/2,p=u.startAngle,g=u.endAngle,x=(p+g)/2,m=e?Math.abs(f-v)/2:0,_=Math.cos,y=Math.sin,A=h+f*_(p),M=c+f*y(p),w="left",L="top";switch(s){case"startArc":A=h+(v-l)*_(x),M=c+(v-l)*y(x),w="center",L="top";break;case"insideStartArc":A=h+(v+l)*_(x),M=c+(v+l)*y(x),w="center",L="bottom";break;case"startAngle":A=h+d*_(p)+ue(p,l+m,!1),M=c+d*y(p)+he(p,l+m,!1),w="right",L="middle";break;case"insideStartAngle":A=h+d*_(p)+ue(p,-l+m,!1),M=c+d*y(p)+he(p,-l+m,!1),w="left",L="middle";break;case"middle":A=h+d*_(x),M=c+d*y(x),w="center",L="middle";break;case"endArc":A=h+(f+l)*_(x),M=c+(f+l)*y(x),w="center",L="bottom";break;case"insideEndArc":A=h+(f-l)*_(x),M=c+(f-l)*y(x),w="center",L="top";break;case"endAngle":A=h+d*_(g)+ue(g,l+m,!0),M=c+d*y(g)+he(g,l+m,!0),w="left",L="middle";break;case"insideEndAngle":A=h+d*_(g)+ue(g,-l+m,!0),M=c+d*y(g)+he(g,-l+m,!0),w="right",L="middle";break;default:return nt(r,a,n)}return r=r||{},r.x=A,r.y=M,r.align=w,r.verticalAlign=L,r}}function di(i,t,e,r){if(Pr(r)){i.setTextConfig({rotation:r});return}else if(se(t)){i.setTextConfig({rotation:0});return}var a=i.shape,n=a.clockwise?a.startAngle:a.endAngle,o=a.clockwise?a.endAngle:a.startAngle,s=(n+o)/2,l,u=e(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=n;break;case"endAngle":case"insideEndAngle":l=o;break;default:i.setTextConfig({rotation:0});return}var h=Math.PI*1.5-l;u==="middle"&&h>Math.PI/2&&h<Math.PI*1.5&&(h-=Math.PI),i.setTextConfig({rotation:h})}function ue(i,t,e){return t*Math.sin(i)*(e?-1:1)}function he(i,t,e){return t*Math.cos(i)*(e?1:-1)}var ke=Math.max,Re=Math.min;function vi(i,t){var e=i.getArea&&i.getArea();if(hr(i,"cartesian2d")){var r=i.getBaseAxis();if(r.type!=="category"||!r.onBand){var a=t.getLayout("bandWidth");r.isHorizontal()?(e.x-=a,e.width+=a*2):(e.y-=a,e.height+=a*2)}}return e}var fi=function(i){D(t,i);function t(){var e=i.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,r,a,n){this._model=e,this._removeOnRenderedListener(a),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,r,a):this._renderNormal(e,r,a,n))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,r){this._progressiveEls=[],this._incrementalRenderLarge(e,r)},t.prototype.eachRendered=function(e){Or(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e,r,a,n){var o=this.group,s=e.getData(),l=this._data,u=e.coordinateSystem,h=u.getBaseAxis(),c;u.type==="cartesian2d"?c=h.isHorizontal():u.type==="polar"&&(c=h.dim==="angle");var f=e.isAnimationEnabled()?e:null,v=pi(e,u);v&&this._enableRealtimeSort(v,s,a);var d=e.get("clip",!0)||v,p=vi(u,s);o.removeClipPath();var g=e.get("roundCap",!0),x=e.get("showBackground",!0),m=e.getModel("backgroundStyle"),_=m.get("borderRadius")||0,y=[],A=this._backgroundEls,M=n&&n.isInitSort,w=n&&n.type==="changeAxisOrder";function L(S){var I=ce[u.type](s,S),T=bi(u,c,I);return T.useStyle(m.getItemStyle()),u.type==="cartesian2d"?T.setShape("r",_):T.setShape("cornerRadius",_),y[S]=T,T}s.diff(l).add(function(S){var I=s.getItemModel(S),T=ce[u.type](s,S,I);if(x&&L(S),!(!s.hasValue(S)||!Ct[u.type](T))){var O=!1;d&&(O=bt[u.type](p,T));var E=St[u.type](e,s,S,T,c,f,h.model,!1,g);v&&(E.forceLabelAnimation=!0),Dt(E,s,S,I,T,e,c,u.type==="polar"),M?E.attr({shape:T}):v?Mt(v,f,E,T,S,c,!1,!1):q(E,{shape:T},e,S),s.setItemGraphicEl(S,E),o.add(E),E.ignore=O}}).update(function(S,I){var T=s.getItemModel(S),O=ce[u.type](s,S,T);if(x){var E=void 0;A.length===0?E=L(I):(E=A[I],E.useStyle(m.getItemStyle()),u.type==="cartesian2d"?E.setShape("r",_):E.setShape("cornerRadius",_),y[S]=E);var br=ce[u.type](s,S),Sr=vr(c,br,u);ae(E,{shape:Sr},f,S)}var R=l.getItemGraphicEl(I);if(!s.hasValue(S)||!Ct[u.type](O)){o.remove(R);return}var Le=!1;if(d&&(Le=bt[u.type](p,O),Le&&o.remove(R)),R?Vr(R):R=St[u.type](e,s,S,O,c,f,h.model,!!R,g),v&&(R.forceLabelAnimation=!0),w){var at=R.getTextContent();if(at){var Te=Br(at);Te.prevValue!=null&&(Te.prevValue=Te.value)}}else Dt(R,s,S,T,O,e,c,u.type==="polar");M?R.attr({shape:O}):v?Mt(v,f,R,O,S,c,!0,w):ae(R,{shape:O},e,S,null),s.setItemGraphicEl(S,R),R.ignore=Le,o.add(R)}).remove(function(S){var I=l.getItemGraphicEl(S);I&&ot(I,e,S)}).execute();var P=this._backgroundGroup||(this._backgroundGroup=new fe);P.removeAll();for(var z=0;z<y.length;++z)P.add(y[z]);o.add(P),this._backgroundEls=y,this._data=s},t.prototype._renderLarge=function(e,r,a){this._clear(),Tt(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,r){this._removeBackground(),Tt(r,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var r=e.get("clip",!0)&&ai(e.coordinateSystem,!1,e),a=this.group;r?a.setClipPath(r):a.removeClipPath()},t.prototype._enableRealtimeSort=function(e,r,a){var n=this;if(r.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,e,a),this._isFirstFrame=!1;else{var s=function(l){var u=r.getItemGraphicEl(l),h=u&&u.shape;return h&&Math.abs(o.isHorizontal()?h.height:h.width)||0};this._onRendered=function(){n._updateSortWithinSameData(r,s,o,a)},a.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,r,a){var n=[];return e.each(e.mapDimension(r.dim),function(o,s){var l=a(s);l=l??NaN,n.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),n.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:B(n,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,r,a){for(var n=a.scale,o=e.mapDimension(a.dim),s=Number.MAX_VALUE,l=0,u=n.getOrdinalMeta().categories.length;l<u;++l){var h=e.rawIndexOf(o,n.getRawOrdinalNumber(l)),c=h<0?Number.MIN_VALUE:r(e.indexOfRawIndex(h));if(c>s)return!0;s=c}return!1},t.prototype._isOrderDifferentInView=function(e,r){for(var a=r.scale,n=a.getExtent(),o=Math.max(0,n[0]),s=Math.min(n[1],a.getOrdinalMeta().categories.length-1);o<=s;++o)if(e.ordinalNumbers[o]!==a.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,r,a,n){if(this._isOrderChangedWithinSameData(e,r,a)){var o=this._dataSort(e,a,r);this._isOrderDifferentInView(o,a)&&(this._removeOnRenderedListener(n),n.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,r,a){var n=r.baseAxis,o=this._dataSort(e,n,function(s){return e.get(e.mapDimension(r.otherAxis.dim),s)});a.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",isInitSort:!0,axisId:n.index,sortInfo:o})},t.prototype.remove=function(e,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(e,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var r=this.group,a=this._data;e&&e.isAnimationEnabled()&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl(function(n){ot(n,e,qe(n).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Zr),bt={cartesian2d:function(i,t){var e=t.width<0?-1:1,r=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var a=i.x+i.width,n=i.y+i.height,o=ke(t.x,i.x),s=Re(t.x+t.width,a),l=ke(t.y,i.y),u=Re(t.y+t.height,n),h=s<o,c=u<l;return t.x=h&&o>a?s:o,t.y=c&&l>n?u:l,t.width=h?0:s-o,t.height=c?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),h||c},polar:function(i,t){var e=t.r0<=t.r?1:-1;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}var a=Re(t.r,i.r),n=ke(t.r0,i.r0);t.r=a,t.r0=n;var o=a-n<0;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}return o}},St={cartesian2d:function(i,t,e,r,a,n,o,s,l){var u=new F({shape:Ke({},r),z2:1});if(u.__dataIndex=e,u.name="item",n){var h=u.shape,c=a?"height":"width";h[c]=0}return u},polar:function(i,t,e,r,a,n,o,s,l){var u=!a&&l?At:$e,h=new u({shape:r,z2:1});h.name="item";var c=dr(a);if(h.calculateTextPosition=ci(c,{isRoundCap:u===At}),n){var f=h.shape,v=a?"r":"endAngle",d={};f[v]=a?r.r0:r.startAngle,d[v]=r[v],(s?ae:q)(h,{shape:d},n)}return h}};function pi(i,t){var e=i.get("realtimeSort",!0),r=t.getBaseAxis();if(e&&r.type==="category"&&t.type==="cartesian2d")return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}function Mt(i,t,e,r,a,n,o,s){var l,u;n?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?ae:q)(e,{shape:l},t,a,null);var h=t?i.baseAxis.model:null;(o?ae:q)(e,{shape:u},h,a)}function wt(i,t){for(var e=0;e<t.length;e++)if(!isFinite(i[t[e]]))return!0;return!1}var gi=["x","y","width","height"],mi=["cx","cy","r","startAngle","endAngle"],Ct={cartesian2d:function(i){return!wt(i,gi)},polar:function(i){return!wt(i,mi)}},ce={cartesian2d:function(i,t,e){var r=i.getItemLayout(t),a=e?xi(e,r):0,n=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+n*a/2,y:r.y+o*a/2,width:r.width-n*a,height:r.height-o*a}},polar:function(i,t,e){var r=i.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function yi(i){return i.startAngle!=null&&i.endAngle!=null&&i.startAngle===i.endAngle}function dr(i){return function(t){var e=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+e;default:return r}}}(i)}function Dt(i,t,e,r,a,n,o,s){var l=t.getItemVisual(e,"style");if(s){if(!n.get("roundCap")){var h=i.shape,c=ya(r.getModel("itemStyle"),h,!0);Ke(h,c),i.setShape(h)}}else{var u=r.get(["itemStyle","borderRadius"])||0;i.setShape("r",u)}i.useStyle(l);var f=r.getShallow("cursor");f&&i.attr("cursor",f);var v=s?o?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":o?a.height>=0?"bottom":"top":a.width>=0?"right":"left",d=zr(r);Nr(i,d,{labelFetcher:n,labelDataIndex:e,defaultText:Qa(n.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:v});var p=i.getTextContent();if(s&&p){var g=r.get(["label","position"]);i.textConfig.inside=g==="middle"?!0:null,di(i,g==="outside"?v:g,dr(o),r.get(["label","rotate"]))}Gr(p,d,n.getRawValue(e),function(m){return ei(t,m)});var x=r.getModel(["emphasis"]);Wr(i,x.get("focus"),x.get("blurScope"),x.get("disabled")),Fr(i,r),yi(a)&&(i.style.fill="none",i.style.stroke="none",b(i.states,function(m){m.style&&(m.style.fill=m.style.stroke="none")}))}function xi(i,t){var e=i.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var r=i.get(["itemStyle","borderWidth"])||0,a=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),n=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,a,n)}var _i=function(){function i(){}return i}(),Lt=function(i){D(t,i);function t(e){var r=i.call(this,e)||this;return r.type="largeBar",r}return t.prototype.getDefaultShape=function(){return new _i},t.prototype.buildPath=function(e,r){for(var a=r.points,n=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,h=0;h<a.length;h+=3)l[n]=u,l[o]=a[h+2],s[n]=a[h+n],s[o]=a[h+o],e.rect(s[0],s[1],l[0],l[1])},t}(qt);function Tt(i,t,e,r){var a=i.getData(),n=a.getLayout("valueAxisHorizontal")?1:0,o=a.getLayout("largeDataIndices"),s=a.getLayout("size"),l=i.getModel("backgroundStyle"),u=a.getLayout("largeBackgroundPoints");if(u){var h=new Lt({shape:{points:u},incremental:!!r,silent:!0,z2:0});h.baseDimIdx=n,h.largeDataIndices=o,h.barWidth=s,h.useStyle(l.getItemStyle()),t.add(h),e&&e.push(h)}var c=new Lt({shape:{points:a.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});c.baseDimIdx=n,c.largeDataIndices=o,c.barWidth=s,t.add(c),c.useStyle(a.getVisual("style")),qe(c).seriesIndex=i.seriesIndex,i.get("silent")||(c.on("mousedown",It),c.on("mousemove",It)),e&&e.push(c)}var It=Hr(function(i){var t=this,e=Ai(t,i.offsetX,i.offsetY);qe(t).dataIndex=e>=0?e:null},30,!1);function Ai(i,t,e){for(var r=i.baseDimIdx,a=1-r,n=i.shape.points,o=i.largeDataIndices,s=[],l=[],u=i.barWidth,h=0,c=n.length/3;h<c;h++){var f=h*3;if(l[r]=u,l[a]=n[f+2],s[r]=n[f+r],s[a]=n[f+a],l[a]<0&&(s[a]+=l[a],l[a]=-l[a]),t>=s[0]&&t<=s[0]+l[0]&&e>=s[1]&&e<=s[1]+l[1])return o[h]}return-1}function vr(i,t,e){if(hr(e,"cartesian2d")){var r=t,a=e.getArea();return{x:i?r.x:a.x,y:i?a.y:r.y,width:i?r.width:a.width,height:i?a.height:r.height}}else{var a=e.getArea(),n=t;return{cx:a.cx,cy:a.cy,r0:i?a.r0:n.r0,r:i?a.r:n.r,startAngle:i?n.startAngle:0,endAngle:i?n.endAngle:Math.PI*2}}}function bi(i,t,e){var r=i.type==="polar"?$e:F;return new r({shape:vr(t,e,i),silent:!0,z2:0})}const Si=fi;function Mi(i){i.registerChartView(Si),i.registerSeriesModel(li),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,ve(_a,"bar")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,xa("bar")),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,oi("bar")),i.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var r=t.componentType||"series";e.eachComponent({mainType:r,query:t},function(a){t.sortInfo&&a.axis.setCategorySortInfo(t.sortInfo)})})}var wi=function(i){D(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Je);const Ci=wi;var Fe=function(i){D(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",V).models[0]},t.type="cartesian2dAxis",t}(Je);Xr(Fe,Ga);var fr={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Di=W({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},fr),tt=W({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},fr),Li=W({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},tt),Ti=le({logBase:10},tt);const Ii={category:Di,value:tt,time:Li,log:Ti};var Ei={value:1,category:1,time:1,log:1};function Et(i,t,e,r){b(Ei,function(a,n){var o=W(W({},Ii[n],!0),r,!0),s=function(l){D(u,l);function u(){var h=l!==null&&l.apply(this,arguments)||this;return h.type=t+"Axis."+n,h}return u.prototype.mergeDefaultAndTheme=function(h,c){var f=Yr(this),v=f?Kt(h):{},d=c.getTheme();W(h,d.get(n+"Axis")),W(h,this.getDefaultOption()),h.type=kt(h),f&&$r(h,v,f)},u.prototype.optionUpdated=function(){var h=this.option;h.type==="category"&&(this.__ordinalMeta=Aa.createByAxisModel(this))},u.prototype.getCategories=function(h){var c=this.option;if(c.type==="category")return h?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+n,u.defaultOption=o,u}(e);i.registerComponentModel(s)}),i.registerSubTypeDefaulter(t+"Axis",kt)}function kt(i){return i.type||(i.data?"category":"value")}var ki=function(){function i(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return i.prototype.getAxis=function(t){return this._axes[t]},i.prototype.getAxes=function(){return B(this._dimList,function(t){return this._axes[t]},this)},i.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Ur(this.getAxes(),function(e){return e.scale.type===t})},i.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},i}();const Ri=ki;var He=["x","y"];function Rt(i){return i.type==="interval"||i.type==="time"}var Pi=function(i){D(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=He,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!Rt(e)||!Rt(r))){var a=e.getExtent(),n=r.getExtent(),o=this.dataToPoint([a[0],n[0]]),s=this.dataToPoint([a[1],n[1]]),l=a[1]-a[0],u=n[1]-n[0];if(!(!l||!u)){var h=(s[0]-o[0])/l,c=(s[1]-o[1])/u,f=o[0]-a[0]*h,v=o[1]-n[0]*c,d=this._transform=[h,0,0,c,f,v];this._invTransform=jr([],d)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var r=this.getAxis("x"),a=this.getAxis("y");return r.contain(r.toLocalCoord(e[0]))&&a.contain(a.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,r){var a=this.dataToPoint(e),n=this.dataToPoint(r),o=this.getArea(),s=new st(a[0],a[1],n[0]-a[0],n[1]-a[1]);return o.intersect(s)},t.prototype.dataToPoint=function(e,r,a){a=a||[];var n=e[0],o=e[1];if(this._transform&&n!=null&&isFinite(n)&&o!=null&&isFinite(o))return lt(a,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return a[0]=s.toGlobalCoord(s.dataToCoord(n,r)),a[1]=l.toGlobalCoord(l.dataToCoord(o,r)),a},t.prototype.clampData=function(e,r){var a=this.getAxis("x").scale,n=this.getAxis("y").scale,o=a.getExtent(),s=n.getExtent(),l=a.parse(e[0]),u=n.parse(e[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},t.prototype.pointToData=function(e,r){var a=[];if(this._invTransform)return lt(a,e,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return a[0]=n.coordToData(n.toLocalCoord(e[0]),r),a[1]=o.coordToData(o.toLocalCoord(e[1]),r),a},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),a=Math.min(e[0],e[1]),n=Math.min(r[0],r[1]),o=Math.max(e[0],e[1])-a,s=Math.max(r[0],r[1])-n;return new st(a,n,o,s)},t}(Ri),Oi=function(i){D(t,i);function t(e,r,a,n,o){var s=i.call(this,e,r,a)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),e&&r[0]>r[1]&&r.reverse(),r},t.prototype.pointToData=function(e,r){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),r)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Ja);const Vi=Oi;var Pe=Math.log;function Bi(i,t,e){var r=ba.prototype,a=r.getTicks.call(e),n=r.getTicks.call(e,!0),o=a.length-1,s=r.getInterval.call(e),l=Sa(i,t),u=l.extent,h=l.fixMin,c=l.fixMax;if(i.type==="log"){var f=Pe(i.base);u=[Pe(u[0])/f,Pe(u[1])/f]}i.setExtent(u[0],u[1]),i.calcNiceExtent({splitNumber:o,fixMin:h,fixMax:c});var v=r.getExtent.call(i);h&&(u[0]=v[0]),c&&(u[1]=v[1]);var d=r.getInterval.call(i),p=u[0],g=u[1];if(h&&c)d=(g-p)/o;else if(h)for(g=u[0]+d*o;g<u[1]&&isFinite(g)&&isFinite(u[1]);)d=Ee(d),g=u[0]+d*o;else if(c)for(p=u[1]-d*o;p>u[0]&&isFinite(p)&&isFinite(u[0]);)d=Ee(d),p=u[1]-d*o;else{var x=i.getTicks().length-1;x>o&&(d=Ee(d));var m=d*o;g=Math.ceil(u[1]/d)*d,p=G(g-m),p<0&&u[0]>=0?(p=0,g=G(m)):g>0&&u[1]<=0&&(g=0,p=-G(m))}var _=(a[0].value-n[0].value)/s,y=(a[o].value-n[o].value)/s;r.setExtent.call(i,p+d*_,g+d*y),r.setInterval.call(i,d),(_||y)&&r.setNiceExtent.call(i,p+d,g-d)}var Zi=function(){function i(t,e,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=He,this._initCartesian(t,e,r),this.model=t}return i.prototype.getRect=function(){return this._rect},i.prototype.update=function(t,e){var r=this._axesMap;this._updateScale(t,this.model);function a(o){var s,l=Kr(o),u=l.length;if(u){for(var h=[],c=u-1;c>=0;c--){var f=+l[c],v=o[f],d=v.model,p=v.scale;We(p)&&d.get("alignTicks")&&d.get("interval")==null?h.push(v):(mt(p,d),We(p)&&(s=v))}h.length&&(s||(s=h.pop(),mt(s.scale,s.model)),b(h,function(g){Bi(g.scale,g.model,s.scale)}))}}a(r.x),a(r.y);var n={};b(r.x,function(o){Pt(r,"y",o,n)}),b(r.y,function(o){Pt(r,"x",o,n)}),this.resize(this.model,e)},i.prototype.resize=function(t,e,r){var a=t.getBoxLayoutParams(),n=!r&&t.get("containLabel"),o=Jt(a,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var s=this._axesList;l(),n&&(b(s,function(u){if(!u.model.get(["axisLabel","inside"])){var h=Ma(u);if(h){var c=u.isHorizontal()?"height":"width",f=u.model.get(["axisLabel","margin"]);o[c]-=h[c]+f,u.position==="top"?o.y+=h.height+f:u.position==="left"&&(o.x+=h.width+f)}}}),l()),b(this._coordsList,function(u){u.calcAffineTransform()});function l(){b(s,function(u){var h=u.isHorizontal(),c=h?[0,o.width]:[0,o.height],f=u.inverse?1:0;u.setExtent(c[f],c[1-f]),zi(u,h?o.x:o.y)})}},i.prototype.getAxis=function(t,e){var r=this._axesMap[t];if(r!=null)return r[e||0]},i.prototype.getAxes=function(){return this._axesList.slice()},i.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var r="x"+t+"y"+e;return this._coordsMap[r]}qr(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var a=0,n=this._coordsList;a<n.length;a++)if(n[a].getAxis("x").index===t||n[a].getAxis("y").index===e)return n[a]},i.prototype.getCartesians=function(){return this._coordsList.slice()},i.prototype.convertToPixel=function(t,e,r){var a=this._findConvertTarget(e);return a.cartesian?a.cartesian.dataToPoint(r):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(r)):null},i.prototype.convertFromPixel=function(t,e,r){var a=this._findConvertTarget(e);return a.cartesian?a.cartesian.pointToData(r):a.axis?a.axis.coordToData(a.axis.toLocalCoord(r)):null},i.prototype._findConvertTarget=function(t){var e=t.seriesModel,r=t.xAxisModel||e&&e.getReferringComponents("xAxis",V).models[0],a=t.yAxisModel||e&&e.getReferringComponents("yAxis",V).models[0],n=t.gridModel,o=this._coordsList,s,l;if(e)s=e.coordinateSystem,re(o,s)<0&&(s=null);else if(r&&a)s=this.getCartesian(r.componentIndex,a.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(a)l=this.getAxis("y",a.componentIndex);else if(n){var u=n.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},i.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},i.prototype._initCartesian=function(t,e,r){var a=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,b(s.x,function(h,c){b(s.y,function(f,v){var d="x"+c+"y"+v,p=new Pi(d);p.master=a,p.model=t,a._coordsMap[d]=p,a._coordsList.push(p),p.addAxis(h),p.addAxis(f)})});function u(h){return function(c,f){if(Oe(c,t)){var v=c.get("position");h==="x"?v!=="top"&&v!=="bottom"&&(v=o.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=o.left?"right":"left"),o[v]=!0;var d=new Vi(h,wa(c),[0,0],c.get("type"),v),p=d.type==="category";d.onBand=p&&c.get("boundaryGap"),d.inverse=c.get("inverse"),c.axis=d,d.model=c,d.grid=n,d.index=f,n._axesList.push(d),s[h][f]=d,l[h]++}}}},i.prototype._updateScale=function(t,e){b(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var n=a.model.get("categorySortInfo");a.scale.setSortInfo(n)}}),t.eachSeries(function(a){if(pt(a)){var n=gt(a),o=n.xAxisModel,s=n.yAxisModel;if(!Oe(o,e)||!Oe(s,e))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=a.getData(),h=l.getAxis("x"),c=l.getAxis("y");r(u,h),r(u,c)}},this);function r(a,n){b(Ca(a,n.dim),function(o){n.scale.unionExtentFromData(a,o)})}},i.prototype.getTooltipAxes=function(t){var e=[],r=[];return b(this.getCartesians(),function(a){var n=t!=null&&t!=="auto"?a.getAxis(t):a.getBaseAxis(),o=a.getOtherAxis(n);re(e,n)<0&&e.push(n),re(r,o)<0&&r.push(o)}),{baseAxes:e,otherAxes:r}},i.create=function(t,e){var r=[];return t.eachComponent("grid",function(a,n){var o=new i(a,t,e);o.name="grid_"+n,o.resize(a,e,!0),a.coordinateSystem=o,r.push(o)}),t.eachSeries(function(a){if(pt(a)){var n=gt(a),o=n.xAxisModel,s=n.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;a.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),r},i.dimensions=He,i}();function Oe(i,t){return i.getCoordSysModel()===t}function Pt(i,t,e,r){e.getAxesOnZeroOf=function(){return n?[n]:[]};var a=i[t],n,o=e.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)Ot(a[l])&&(n=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&Ot(a[u])&&!r[h(a[u])]){n=a[u];break}n&&(r[h(n)]=!0);function h(c){return c.dim+"_"+c.index}}function Ot(i){return i&&i.type!=="category"&&i.type!=="time"&&Da(i)}function zi(i,t){var e=i.getExtent(),r=e[0]+e[1];i.toGlobalCoord=i.dim==="x"?function(a){return a+t}:function(a){return r-a+t},i.toLocalCoord=i.dim==="x"?function(a){return a-t}:function(a){return r-a+t}}const Ni=Zi;var Xe=Ye();function Gi(i,t,e,r){var a=e.axis;if(!a.scale.isBlank()){var n=e.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=a.getTicksCoords({tickModel:n,clamp:!0});if(u.length){var h=s.length,c=Xe(i).splitAreaColors,f=Z(),v=0;if(c)for(var d=0;d<u.length;d++){var p=c.get(u[d].tickValue);if(p!=null){v=(p+(h-1)*d)%h;break}}var g=a.toGlobalCoord(u[0].coord),x=o.getAreaStyle();s=se(s)?s:[s];for(var d=1;d<u.length;d++){var m=a.toGlobalCoord(u[d].coord),_=void 0,y=void 0,A=void 0,M=void 0;a.isHorizontal()?(_=g,y=l.y,A=m-_,M=l.height,g=_+A):(_=l.x,y=g,A=l.width,M=m-y,g=y+M);var w=u[d-1].tickValue;w!=null&&f.set(w,v),t.add(new F({anid:w!=null?"area_"+w:null,shape:{x:_,y,width:A,height:M},style:le({fill:s[v]},x),autoBatch:!0,silent:!0})),v=(v+1)%h}Xe(i).splitAreaColors=f}}}function Wi(i){Xe(i).splitAreaColors=null}var Fi=["axisLine","axisTickLabel","axisName"],Hi=["splitArea","splitLine","minorSplitLine"],pr=function(i){D(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,r,a,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new fe,this.group.add(this._axisGroup),!!e.get("show")){var s=e.getCoordSysModel(),l=La(s,e),u=new Ta(e,Ke({handleAutoShown:function(c){for(var f=s.coordinateSystem.getCartesians(),v=0;v<f.length;v++)if(We(f[v].getOtherAxis(e.axis).scale))return!0;return!1}},l));b(Fi,u.add,u),this._axisGroup.add(u.getGroup()),b(Hi,function(c){e.get([c,"show"])&&Xi[c](this,this._axisGroup,e,s)},this);var h=n&&n.type==="changeAxisOrder"&&n.isInitSort;h||Jr(o,this._axisGroup,e),i.prototype.render.call(this,e,r,a,n)}},t.prototype.remove=function(){Wi(this)},t.type="cartesianAxis",t}(Ia),Xi={splitLine:function(i,t,e,r){var a=e.axis;if(!a.scale.isBlank()){var n=e.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color");s=se(s)?s:[s];for(var l=r.coordinateSystem.getRect(),u=a.isHorizontal(),h=0,c=a.getTicksCoords({tickModel:n}),f=[],v=[],d=o.getLineStyle(),p=0;p<c.length;p++){var g=a.toGlobalCoord(c[p].coord);u?(f[0]=g,f[1]=l.y,v[0]=g,v[1]=l.y+l.height):(f[0]=l.x,f[1]=g,v[0]=l.x+l.width,v[1]=g);var x=h++%s.length,m=c[p].tickValue,_=new ut({anid:m!=null?"line_"+c[p].tickValue:null,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:v[0],y2:v[1]},style:le({stroke:s[x]},d),silent:!0});ht(_.shape,d.lineWidth),t.add(_)}}},minorSplitLine:function(i,t,e,r){var a=e.axis,n=e.getModel("minorSplitLine"),o=n.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=a.isHorizontal(),u=a.getMinorTicksCoords();if(u.length)for(var h=[],c=[],f=o.getLineStyle(),v=0;v<u.length;v++)for(var d=0;d<u[v].length;d++){var p=a.toGlobalCoord(u[v][d].coord);l?(h[0]=p,h[1]=s.y,c[0]=p,c[1]=s.y+s.height):(h[0]=s.x,h[1]=p,c[0]=s.x+s.width,c[1]=p);var g=new ut({anid:"minor_line_"+u[v][d].tickValue,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:c[0],y2:c[1]},style:f,silent:!0});ht(g.shape,f.lineWidth),t.add(g)}},splitArea:function(i,t,e,r){Gi(i,t,e,r)}},gr=function(i){D(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t}(pr),Yi=function(i){D(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=gr.type,e}return t.type="yAxis",t}(pr),$i=function(i){D(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,r){this.group.removeAll(),e.get("show")&&this.group.add(new F({shape:e.coordinateSystem.getRect(),style:le({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Qt),Vt={offset:0};function Ui(i){i.registerComponentView($i),i.registerComponentModel(Ci),i.registerCoordinateSystem("cartesian2d",Ni),Et(i,"x",Fe,Vt),Et(i,"y",Fe,Vt),i.registerComponentView(gr),i.registerComponentView(Yi),i.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}var Bt="\0_ec_interaction_mutex";function Zt(i,t){return!!ji(i)[t]}function ji(i){return i[Bt]||(i[Bt]={})}Qr({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},ea);var qi=function(i){D(t,i);function t(e){var r=i.call(this)||this;r._zr=e;var a=C(r._mousedownHandler,r),n=C(r._mousemoveHandler,r),o=C(r._mouseupHandler,r),s=C(r._mousewheelHandler,r),l=C(r._pinchHandler,r);return r.enable=function(u,h){this.disable(),this._opt=le(er(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(e.on("mousedown",a),e.on("mousemove",n),e.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(e.on("mousewheel",s),e.on("pinch",l))},r.disable=function(){e.off("mousedown",a),e.off("mousemove",n),e.off("mouseup",o),e.off("mousewheel",s),e.off("pinch",l)},r}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!ct(e)){for(var r=e.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var a=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,a,n)&&(this._x=a,this._y=n,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(!(!this._dragging||!de("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||Zt(this._zr,"globalPan"))){var r=e.offsetX,a=e.offsetY,n=this._x,o=this._y,s=r-n,l=a-o;this._x=r,this._y=a,this._opt.preventDefaultMouseMove&&pe(e.event),mr(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:n,oldY:o,newX:r,newY:a,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){ct(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var r=de("zoomOnMouseWheel",e,this._opt),a=de("moveOnMouseWheel",e,this._opt),n=e.wheelDelta,o=Math.abs(n),s=e.offsetX,l=e.offsetY;if(!(n===0||!r&&!a)){if(r){var u=o>3?1.4:o>1?1.2:1.1,h=n>0?u:1/u;Ve(this,"zoom","zoomOnMouseWheel",e,{scale:h,originX:s,originY:l,isAvailableBehavior:null})}if(a){var c=Math.abs(n),f=(n>0?1:-1)*(c>3?.4:c>1?.15:.05);Ve(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:f,originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!Zt(this._zr,"globalPan")){var r=e.pinchScale>1?1.1:1/1.1;Ve(this,"zoom",null,e,{scale:r,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(ta);function Ve(i,t,e,r,a){i.pointerChecker&&i.pointerChecker(r,a.originX,a.originY)&&(pe(r.event),mr(i,t,e,r,a))}function mr(i,t,e,r,a){a.isAvailableBehavior=C(de,null,e,r),i.trigger(t,a)}function de(i,t,e){var r=e[i];return!i||r&&(!Ue(r)||t.event[r+"Key"])}const Ki=qi;function De(i,t,e,r,a,n){i=i||0;var o=e[1]-e[0];if(a!=null&&(a=$(a,[0,o])),n!=null&&(n=Math.max(n,a??0)),r==="all"){var s=Math.abs(t[1]-t[0]);s=$(s,[0,o]),a=n=$(s,[a,n]),r=0}t[0]=$(t[0],e),t[1]=$(t[1],e);var l=Be(t,r);t[r]+=i;var u=a||0,h=e.slice();l.sign<0?h[0]+=u:h[1]-=u,t[r]=$(t[r],h);var c;return c=Be(t,r),a!=null&&(c.sign!==l.sign||c.span<a)&&(t[1-r]=t[r]+l.sign*a),c=Be(t,r),n!=null&&c.span>n&&(t[1-r]=t[r]+c.sign*n),t}function Be(i,t){var e=i[t]-i[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function $(i,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,i))}function Ji(i){X(Ui),X(Ea)}var zt=["x","y","radius","angle","single"],Qi=["cartesian2d","polar","singleAxis"];function en(i){var t=i.get("coordinateSystem");return re(Qi,t)>=0}function H(i){return i+"Axis"}function tn(i,t){var e=Z(),r=[],a=Z();i.eachComponent({mainType:"dataZoom",query:t},function(h){a.get(h.uid)||s(h)});var n;do n=!1,i.eachComponent("dataZoom",o);while(n);function o(h){!a.get(h.uid)&&l(h)&&(s(h),n=!0)}function s(h){a.set(h.uid,!0),r.push(h),u(h)}function l(h){var c=!1;return h.eachTargetAxis(function(f,v){var d=e.get(f);d&&d[v]&&(c=!0)}),c}function u(h){h.eachTargetAxis(function(c,f){(e.get(c)||e.set(c,[]))[f]=!0})}return r}function yr(i){var t=i.ecModel,e={infoList:[],infoMap:Z()};return i.eachTargetAxis(function(r,a){var n=t.getComponent(H(r),a);if(n){var o=n.getCoordSysModel();if(o){var s=o.uid,l=e.infoMap.get(s);l||(l={model:o,axisModels:[]},e.infoList.push(l),e.infoMap.set(s,l)),l.axisModels.push(n)}}}),e}var Ze=function(){function i(){this.indexList=[],this.indexMap=[]}return i.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},i}(),rn=function(i){D(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,r,a){var n=Nt(e);this.settledOption=n,this.mergeDefaultAndTheme(e,a),this._doInit(n)},t.prototype.mergeOption=function(e){var r=Nt(e);W(this.option,e,!0),W(this.settledOption,r,!0),this._doInit(r)},t.prototype._doInit=function(e){var r=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var a=this.settledOption;b([["start","startValue"],["end","endValue"]],function(n,o){this._rangePropMode[o]==="value"&&(r[n[0]]=a[n[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),r=this._targetAxisInfoMap=Z(),a=this._fillSpecifiedTargetAxis(r);a?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(n){n.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var r=!1;return b(zt,function(a){var n=this.getReferringComponents(H(a),ra);if(n.specified){r=!0;var o=new Ze;b(n.models,function(s){o.add(s.componentIndex)}),e.set(a,o)}},this),r},t.prototype._fillAutoTargetAxisByOrient=function(e,r){var a=this.ecModel,n=!0;if(n){var o=r==="vertical"?"y":"x",s=a.findComponents({mainType:o+"Axis"});l(s,o)}if(n){var s=a.findComponents({mainType:"singleAxis",filter:function(h){return h.get("orient",!0)===r}});l(s,"single")}function l(u,h){var c=u[0];if(c){var f=new Ze;if(f.add(c.componentIndex),e.set(h,f),n=!1,h==="x"||h==="y"){var v=c.getReferringComponents("grid",V).models[0];v&&b(u,function(d){c.componentIndex!==d.componentIndex&&v===d.getReferringComponents("grid",V).models[0]&&f.add(d.componentIndex)})}}}n&&b(zt,function(u){if(n){var h=a.findComponents({mainType:H(u),filter:function(f){return f.get("type",!0)==="category"}});if(h[0]){var c=new Ze;c.add(h[0].componentIndex),e.set(u,c),n=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(r){!e&&(e=r)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var r=this._rangePropMode,a=this.get("rangeMode");b([["start","startValue"],["end","endValue"]],function(n,o){var s=e[n[0]]!=null,l=e[n[1]]!=null;s&&!l?r[o]="percent":!s&&l?r[o]="value":a?r[o]=a[o]:s&&(r[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(r,a){e==null&&(e=this.ecModel.getComponent(H(r),a))},this),e},t.prototype.eachTargetAxis=function(e,r){this._targetAxisInfoMap.each(function(a,n){b(a.indexList,function(o){e.call(r,n,o)})})},t.prototype.getAxisProxy=function(e,r){var a=this.getAxisModel(e,r);if(a)return a.__dzAxisProxy},t.prototype.getAxisModel=function(e,r){var a=this._targetAxisInfoMap.get(e);if(a&&a.indexMap[r])return this.ecModel.getComponent(H(e),r)},t.prototype.setRawRange=function(e){var r=this.option,a=this.settledOption;b([["start","startValue"],["end","endValue"]],function(n){(e[n[0]]!=null||e[n[1]]!=null)&&(r[n[0]]=a[n[0]]=e[n[0]],r[n[1]]=a[n[1]]=e[n[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var r=this.option;b(["start","startValue","end","endValue"],function(a){r[a]=e[a]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,r){if(e==null&&r==null){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataValueWindow()}else return this.getAxisProxy(e,r).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var r,a=this._targetAxisInfoMap.keys(),n=0;n<a.length;n++)for(var o=a[n],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Je);function Nt(i){var t={};return b(["start","end","startValue","endValue","throttle"],function(e){i.hasOwnProperty(e)&&(t[e]=i[e])}),t}const ge=rn;var an=function(i){D(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,a,n){this.dataZoomModel=e,this.ecModel=r,this.api=a},t.type="dataZoom",t}(Qt);const xr=an;var U=b,Gt=te,nn=function(){function i(t,e,r,a){this._dimName=t,this._axisIndex=e,this.ecModel=a,this._dataZoomModel=r}return i.prototype.hostedBy=function(t){return this._dataZoomModel===t},i.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},i.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},i.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(en(e)){var r=H(this._dimName),a=e.getReferringComponents(r,V).models[0];a&&this._axisIndex===a.componentIndex&&t.push(e)}},this),t},i.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},i.prototype.getMinMaxSpan=function(){return er(this._minMaxSpan)},i.prototype.calculateDataWindow=function(t){var e=this._dataExtent,r=this.getAxisModel(),a=r.axis.scale,n=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;U(["start","end"],function(f,v){var d=t[f],p=t[f+"Value"];n[v]==="percent"?(d==null&&(d=o[v]),p=a.parse(k(d,o,e))):(u=!0,p=p==null?e[v]:a.parse(p),d=k(p,e,o)),l[v]=p==null||isNaN(p)?e[v]:p,s[v]=d==null||isNaN(d)?o[v]:d}),Gt(l),Gt(s);var h=this._minMaxSpan;u?c(l,s,e,o,!1):c(s,l,o,e,!0);function c(f,v,d,p,g){var x=g?"Span":"ValueSpan";De(0,f,d,"all",h["min"+x],h["max"+x]);for(var m=0;m<2;m++)v[m]=k(f[m],d,p,!0),g&&(v[m]=a.parse(v[m]))}return{valueWindow:l,percentWindow:s}},i.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=on(this,this._dimName,e),this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},i.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var r=this._dimName,a=this.getTargetSeriesModels(),n=t.get("filterMode"),o=this._valueWindow;if(n==="none")return;U(a,function(l){var u=l.getData(),h=u.mapDimensionsAll(r);if(h.length){if(n==="weakFilter"){var c=u.getStore(),f=B(h,function(v){return u.getDimensionIndex(v)},u);u.filterSelf(function(v){for(var d,p,g,x=0;x<h.length;x++){var m=c.get(f[x],v),_=!isNaN(m),y=m<o[0],A=m>o[1];if(_&&!y&&!A)return!0;_&&(g=!0),y&&(d=!0),A&&(p=!0)}return g&&d&&p})}else U(h,function(v){if(n==="empty")l.setData(u=u.map(v,function(p){return s(p)?p:NaN}));else{var d={};d[v]=o,u.selectRange(d)}});U(h,function(v){u.setApproximateExtent(o,v)})}});function s(l){return l>=o[0]&&l<=o[1]}},i.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,r=this._dataExtent;U(["min","max"],function(a){var n=e.get(a+"Span"),o=e.get(a+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?n=k(r[0]+o,r,[0,100],!0):n!=null&&(o=k(n,[0,100],r,!0)-r[0]),t[a+"Span"]=n,t[a+"ValueSpan"]=o},this)},i.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,r=this._valueWindow;if(e){var a=Ut(r,[0,500]);a=Math.min(a,20);var n=t.axis.scale.rawExtentInfo;e[0]!==0&&n.setDeterminedMinMax("min",+r[0].toFixed(a)),e[1]!==100&&n.setDeterminedMinMax("max",+r[1].toFixed(a)),n.freeze()}},i}();function on(i,t,e){var r=[1/0,-1/0];U(e,function(o){ka(r,o.getData(),t)});var a=i.getAxisModel(),n=Ra(a.axis.scale,a,r).calculate();return[n.min,n.max]}const sn=nn;var ln={getTargetSeries:function(i){function t(a){i.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(o,s){var l=i.getComponent(H(o),s);a(o,s,l,n)})})}t(function(a,n,o,s){o.__dzAxisProxy=null});var e=[];t(function(a,n,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new sn(a,n,s,i),e.push(o.__dzAxisProxy))});var r=Z();return b(e,function(a){b(a.getTargetSeriesModels(),function(n){r.set(n.uid,n)})}),r},overallReset:function(i,t){i.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(r,a){e.getAxisProxy(r,a).reset(e)}),e.eachTargetAxis(function(r,a){e.getAxisProxy(r,a).filterData(e,t)})}),i.eachComponent("dataZoom",function(e){var r=e.findRepresentativeAxisProxy();if(r){var a=r.getDataPercentWindow(),n=r.getDataValueWindow();e.setCalculatedRange({start:a[0],end:a[1],startValue:n[0],endValue:n[1]})}})}};const un=ln;function hn(i){i.registerAction("dataZoom",function(t,e){var r=tn(e,t);b(r,function(a){a.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var Wt=!1;function _r(i){Wt||(Wt=!0,i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,un),hn(i),i.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}var cn=function(i){D(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.inside",t.defaultOption=je(ge.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(ge);const dn=cn;var rt=Ye();function vn(i,t,e){rt(i).coordSysRecordMap.each(function(r){var a=r.dataZoomInfoMap.get(t.uid);a&&(a.getRange=e)})}function fn(i,t){for(var e=rt(i).coordSysRecordMap,r=e.keys(),a=0;a<r.length;a++){var n=r[a],o=e.get(n),s=o.dataZoomInfoMap;if(s){var l=t.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||Ar(e,o))}}}function Ar(i,t){if(t){i.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function pn(i,t){var e={model:t,containsPoint:ve(mn,t),dispatchAction:ve(gn,i),dataZoomInfoMap:null,controller:null},r=e.controller=new Ki(i.getZr());return b(["pan","zoom","scrollMove"],function(a){r.on(a,function(n){var o=[];e.dataZoomInfoMap.each(function(s){if(n.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[a],u=l&&l(s.dzReferCoordSysInfo,e.model.mainType,e.controller,n);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&e.dispatchAction(o)})}),e}function gn(i,t){i.isDisposed()||i.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function mn(i,t,e,r){return i.coordinateSystem.containPoint([e,r])}function yn(i){var t,e="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0;return i.each(function(n){var o=n.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;r[e+s]>r[e+t]&&(t=s),a=a&&o.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a}}}function xn(i){i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,function(t,e){var r=rt(e),a=r.coordSysRecordMap||(r.coordSysRecordMap=Z());a.each(function(n){n.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(n){var o=yr(n);b(o.infoList,function(s){var l=s.model.uid,u=a.get(l)||a.set(l,pn(e,s.model)),h=u.dataZoomInfoMap||(u.dataZoomInfoMap=Z());h.set(n.uid,{dzReferCoordSysInfo:s,model:n,getRange:null})})}),a.each(function(n){var o=n.controller,s,l=n.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){Ar(a,n);return}var h=yn(l);o.enable(h.controlType,h.opt),o.setPointerChecker(n.containsPoint),tr(n,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var _n=function(i){D(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return t.prototype.render=function(e,r,a){if(i.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),vn(a,e,{pan:C(ze.pan,this),zoom:C(ze.zoom,this),scrollMove:C(ze.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){fn(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(xr),ze={zoom:function(i,t,e,r){var a=this.range,n=a.slice(),o=i.axisModels[0];if(o){var s=Ne[t](null,[r.originX,r.originY],o,e,i),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(n[1]-n[0])+n[0],u=Math.max(1/r.scale,0);n[0]=(n[0]-l)*u+l,n[1]=(n[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(De(0,n,[0,100],0,h.minSpan,h.maxSpan),this.range=n,a[0]!==n[0]||a[1]!==n[1])return n}},pan:Ft(function(i,t,e,r,a,n){var o=Ne[r]([n.oldX,n.oldY],[n.newX,n.newY],t,a,e);return o.signal*(i[1]-i[0])*o.pixel/o.pixelLength}),scrollMove:Ft(function(i,t,e,r,a,n){var o=Ne[r]([0,0],[n.scrollDelta,n.scrollDelta],t,a,e);return o.signal*(i[1]-i[0])*n.scrollDelta})};function Ft(i){return function(t,e,r,a){var n=this.range,o=n.slice(),s=t.axisModels[0];if(s){var l=i(o,s,t,e,r,a);if(De(l,o,[0,100],"all"),this.range=o,n[0]!==o[0]||n[1]!==o[1])return o}}}var Ne={grid:function(i,t,e,r,a){var n=e.axis,o={},s=a.model.coordinateSystem.getRect();return i=i||[0,0],n.dim==="x"?(o.pixel=t[0]-i[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=n.inverse?1:-1):(o.pixel=t[1]-i[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=n.inverse?-1:1),o},polar:function(i,t,e,r,a){var n=e.axis,o={},s=a.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return i=i?s.pointToCoord(i):[0,0],t=s.pointToCoord(t),e.mainType==="radiusAxis"?(o.pixel=t[0]-i[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=n.inverse?1:-1):(o.pixel=t[1]-i[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=n.inverse?-1:1),o},singleAxis:function(i,t,e,r,a){var n=e.axis,o=a.model.coordinateSystem.getRect(),s={};return i=i||[0,0],n.orient==="horizontal"?(s.pixel=t[0]-i[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=n.inverse?1:-1):(s.pixel=t[1]-i[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=n.inverse?-1:1),s}};const An=_n;function bn(i){_r(i),i.registerComponentModel(dn),i.registerComponentView(An),xn(i)}var Sn=function(i){D(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=je(ge.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(ge);const Mn=Sn;var Q=F,Ht=7,wn=1,Ge=30,Cn=7,ee="horizontal",Xt="vertical",Dn=5,Ln=["line","bar","candlestick","scatter"],Tn={easing:"cubicOut",duration:100,delay:0},In=function(i){D(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return t.prototype.init=function(e,r){this.api=r,this._onBrush=C(this._onBrush,this),this._onBrushEnd=C(this._onBrushEnd,this)},t.prototype.render=function(e,r,a,n){if(i.prototype.render.apply(this,arguments),tr(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!n||n.type!=="dataZoom"||n.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){aa(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new fe;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(r),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,r=this.api,a=e.get("brushSelect"),n=a?Cn:0,o=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===ee?{right:s.width-o.x-o.width,top:s.height-Ge-Ht-n,width:o.width,height:Ge}:{right:Ht,top:o.y,width:Ge,height:o.height},u=Kt(e.option);b(["right","top","width","height"],function(c){u[c]==="ph"&&(u[c]=l[c])});var h=Jt(u,s);this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===Xt&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,r=this._location,a=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(a===ee&&!o?{scaleY:l?1:-1,scaleX:1}:a===ee&&o?{scaleY:l?1:-1,scaleX:-1}:a===Xt&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=e.getBoundingRect([s]);e.x=r.x-u.x,e.y=r.y-u.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,r=this._size,a=this._displayables.sliderGroup,n=e.get("brushSelect");a.add(new Q({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var o=new Q({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:C(this._onClickPanel,this)}),s=this.api.getZr();n?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),a.add(o)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var r=this._size,a=this._shadowSize||[],n=e.series,o=n.getRawData(),s=n.getShadowDim&&n.getShadowDim(),l=s&&o.getDimensionInfo(s)?n.getShadowDim():e.otherDim;if(l==null)return;var u=this._shadowPolygonPts,h=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||r[0]!==a[0]||r[1]!==a[1]){var c=o.getDataExtent(l),f=(c[1]-c[0])*.3;c=[c[0]-f,c[1]+f];var v=[0,r[1]],d=[0,r[0]],p=[[r[0],0],[0,0]],g=[],x=d[1]/(o.count()-1),m=0,_=Math.round(o.count()/r[0]),y;o.each([l],function(P,z){if(_>0&&z%_){m+=x;return}var S=P==null||isNaN(P)||P==="",I=S?0:k(P,c,v,!0);S&&!y&&z?(p.push([p[p.length-1][0],0]),g.push([g[g.length-1][0],0])):!S&&y&&(p.push([m,0]),g.push([m,0])),p.push([m,I]),g.push([m,I]),m+=x,y=S}),u=this._shadowPolygonPts=p,h=this._shadowPolylinePts=g}this._shadowData=o,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var A=this.dataZoomModel;function M(P){var z=A.getModel(P?"selectedDataBackground":"dataBackground"),S=new fe,I=new ca({shape:{points:u},segmentIgnoreThreshold:1,style:z.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),T=new da({shape:{points:h},segmentIgnoreThreshold:1,style:z.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return S.add(I),S.add(T),S}for(var w=0;w<3;w++){var L=M(w===1);this._displayables.sliderGroup.add(L),this._displayables.dataShadowSegs.push(L)}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,r=e.get("showDataShadow");if(r!==!1){var a,n=this.ecModel;return e.eachTargetAxis(function(o,s){var l=e.getAxisProxy(o,s).getTargetSeriesModels();b(l,function(u){if(!a&&!(r!==!0&&re(Ln,u.get("type"))<0)){var h=n.getComponent(H(o),s).axis,c=En(o),f,v=u.coordinateSystem;c!=null&&v.getOtherAxis&&(f=v.getOtherAxis(h).inverse),c=u.getData().mapDimension(c),a={thisAxis:h,series:u,thisDim:o,otherDim:c,otherAxisInverse:f}}},this)},this),a}},t.prototype._renderHandle=function(){var e=this.group,r=this._displayables,a=r.handles=[null,null],n=r.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,h=l.get("borderRadius")||0,c=l.get("brushSelect"),f=r.filler=new Q({silent:c,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(f),o.add(new Q({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:h},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:wn,fill:"rgba(0,0,0,0)"}})),b([0,1],function(_){var y=l.get("handleIcon");!ia[y]&&y.indexOf("path://")<0&&y.indexOf("image://")<0&&(y="path://"+y);var A=dt(y,-1,0,2,2,null,!0);A.attr({cursor:Yt(this._orient),draggable:!0,drift:C(this._onDragMove,this,_),ondragend:C(this._onDragEnd,this),onmouseover:C(this._showDataInfo,this,!0),onmouseout:C(this._showDataInfo,this,!1),z2:5});var M=A.getBoundingRect(),w=l.get("handleSize");this._handleHeight=vt(w,this._size[1]),this._handleWidth=M.width/M.height*this._handleHeight,A.setStyle(l.getModel("handleStyle").getItemStyle()),A.style.strokeNoScale=!0,A.rectHover=!0,A.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),na(A);var L=l.get("handleColor");L!=null&&(A.style.fill=L),o.add(a[_]=A);var P=l.getModel("textStyle");e.add(n[_]=new oa({silent:!0,invisible:!0,style:sa(P,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:P.getTextColor(),font:P.getFont()}),z2:10}))},this);var v=f;if(c){var d=vt(l.get("moveHandleSize"),s[1]),p=r.moveHandle=new F({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:d}}),g=d*.8,x=r.moveHandleIcon=dt(l.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);x.silent=!0,x.y=s[1]+d/2-.5,p.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(s[1]/2,Math.max(d,10));v=r.moveZone=new F({invisible:!0,shape:{y:s[1]-m,height:d+m}}),v.on("mouseover",function(){u.enterEmphasis(p)}).on("mouseout",function(){u.leaveEmphasis(p)}),o.add(p),o.add(x),o.add(v)}v.attr({draggable:!0,cursor:Yt(this._orient),drift:C(this._onDragMove,this,"all"),ondragstart:C(this._showDataInfo,this,!0),ondragend:C(this._onDragEnd,this),onmouseover:C(this._showDataInfo,this,!0),onmouseout:C(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[k(e[0],[0,100],r,!0),k(e[1],[0,100],r,!0)]},t.prototype._updateInterval=function(e,r){var a=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),s=a.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];De(r,n,o,a.get("zoomLock")?"all":e,s.minSpan!=null?k(s.minSpan,l,o,!0):null,s.maxSpan!=null?k(s.maxSpan,l,o,!0):null);var u=this._range,h=this._range=te([k(n[0],o,l,!0),k(n[1],o,l,!0)]);return!u||u[0]!==h[0]||u[1]!==h[1]},t.prototype._updateView=function(e){var r=this._displayables,a=this._handleEnds,n=te(a.slice()),o=this._size;b([0,1],function(v){var d=r.handles[v],p=this._handleHeight;d.attr({scaleX:p/2,scaleY:p/2,x:a[v]+(v?-1:1),y:o[1]/2-p/2})},this),r.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]});var s={x:n[0],width:n[1]-n[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,n[0],n[1],o[0]],h=0;h<l.length;h++){var c=l[h],f=c.getClipPath();f||(f=new F,c.setClipPath(f)),f.setShape({x:u[h],y:0,width:u[h+1]-u[h],height:o[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var r=this.dataZoomModel,a=this._displayables,n=a.handleLabels,o=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,h=this._range,c=e?l.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(c[0],u),this._formatLabel(c[1],u)]}}var f=te(this._handleEnds.slice());v.call(this,0),v.call(this,1);function v(d){var p=la(a.handles[d].parent,this.group),g=ua(d===0?"right":"left",p),x=this._handleWidth/2+Dn,m=ft([f[d]+(d===0?-x:x),this._size[1]/2],p);n[d].setStyle({x:m[0],y:m[1],verticalAlign:o===ee?"middle":g,align:o===ee?g:"center",text:s[d]})}},t.prototype._formatLabel=function(e,r){var a=this.dataZoomModel,n=a.get("labelFormatter"),o=a.get("labelPrecision");(o==null||o==="auto")&&(o=r.getPixelPrecision());var s=e==null||isNaN(e)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(o,20));return K(n)?n(e,s):Ue(n)?n.replace("{value}",s):s},t.prototype._showDataInfo=function(e){e=this._dragging||e;var r=this._displayables,a=r.handleLabels;a[0].attr("invisible",!e),a[1].attr("invisible",!e),r.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},t.prototype._onDragMove=function(e,r,a,n){this._dragging=!0,pe(n.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=ft([r,a],o,!0),l=this._updateInterval(e,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var r=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(a[0]<0||a[0]>r[0]||a[1]<0||a[1]>r[1])){var n=this._handleEnds,o=(n[0]+n[1])/2,s=this._updateInterval("all",a[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var r=e.offsetX,a=e.offsetY;this._brushStart=new ha(r,a),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var a=r.shape,n=+new Date;if(!(n-this._brushStartTime<200&&Math.abs(a.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=te([k(a.x,o,s,!0),k(a.x+a.width,o,s,!0)]),this._handleEnds=[a.x,a.x+a.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(pe(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,r){var a=this._displayables,n=this.dataZoomModel,o=a.brushRect;o||(o=a.brushRect=new Q({silent:!0,style:n.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(e,r),h=l.transformCoordToLocal(s.x,s.y),c=this._size;u[0]=Math.max(Math.min(c[0],u[0]),0),o.setShape({x:h[0],y:0,width:u[0]-h[0],height:c[1]})},t.prototype._dispatchZoomAction=function(e){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?Tn:null,start:r[0],end:r[1]})},t.prototype._findCoordRect=function(){var e,r=yr(this.dataZoomModel).infoList;if(!e&&r.length){var a=r[0].model.coordinateSystem;e=a.getRect&&a.getRect()}if(!e){var n=this.api.getWidth(),o=this.api.getHeight();e={x:n*.2,y:o*.2,width:n*.6,height:o*.6}}return e},t.type="dataZoom.slider",t}(xr);function En(i){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[i]}function Yt(i){return i==="vertical"?"ns-resize":"ew-resize"}const kn=In;function Rn(i){i.registerComponentModel(Mn),i.registerComponentView(kn),_r(i)}function Pn(i){X(bn),X(Rn)}const On={__name:"ClassCountEcharts",setup(i){X([Me,we,Ce,Qe,et]);const t=ne();me(Ae,t.darkT?"dark":"light");const e=ye({title:{text:"班级分布",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["Direct","Email","Ad Networks","Video Ads","Search Engines"]},series:[{name:"班级分布",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"Direct"},{value:310,name:"Email"},{value:234,name:"Ad Networks"},{value:135,name:"Video Ads"},{value:1548,name:"Search Engines"}],itemStyle:{normal:{label:{show:!0,formatter:"{b}:{c}"}}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]});return xe.get("/statistics/classCount").then(r=>{console.log(r),e.value.series[0].data=r.data,e.value.legend.data=[],r.data.forEach(a=>{e.value.legend.data.push(a.name)})}),(r,a)=>(oe(),_e(j(be),{class:"chart",option:e.value,autoresize:""},null,8,["option"]))}},Vn={__name:"CourseCountEcharts",setup(i){X([Me,we,Ce,Qe,et]);const t=ne();me(Ae,t.darkT?"dark":"light");const e=ye({title:{text:"课程分布",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["Direct","Email","Ad Networks","Video Ads","Search Engines"]},series:[{name:"课程分布",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"Direct"},{value:310,name:"Email"},{value:234,name:"Ad Networks"},{value:135,name:"Video Ads"},{value:1548,name:"Search Engines"}],itemStyle:{normal:{label:{show:!0,formatter:"{b}:{c}"}}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]});return xe.get("/statistics/courseCount").then(r=>{console.log(r),e.value.series[0].data=r.data,e.value.legend.data=[],r.data.forEach(a=>{e.value.legend.data.push(a.name)})}),(r,a)=>(oe(),_e(j(be),{class:"chart",option:e.value,autoresize:""},null,8,["option"]))}},Bn={__name:"UserCountEcharts",setup(i){X([Me,we,Ce,Qe,et]);const t=ne();me(Ae,t.darkT?"dark":"light");const e=ye({title:{text:"用户分布",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["学生","教师","管理员"]},series:[{name:"用户分布",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"Direct"},{value:310,name:"Email"},{value:234,name:"Ad Networks"},{value:135,name:"Video Ads"},{value:1548,name:"Search Engines"}],itemStyle:{normal:{label:{show:!0,formatter:"{b}:{c}"}}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]});xe.get("/statistics/userCount").then(a=>{console.log(a),e.value.series[0].data=[],e.value.legend.data=[],a.data.forEach(n=>{n.name=r(n.name),e.value.legend.data.push(n.name),e.value.series[0].data.push({name:n.name,value:n.value})})});function r(a){switch(a){case 1:return"学生";case 2:return"教师";case 3:return"管理员"}}return(a,n)=>(oe(),_e(j(be),{class:"chart",option:e.value,autoresize:""},null,8,["option"]))}},Zn={__name:"MoreEcharts",setup(i){X([we,Ce,Ji,Pn,Mi,Me]);const t=ne();me(Ae,t.darkT?"dark":"light");const e=ye({tooltip:{trigger:"item",formatter:"统计分析<br/>{b} : {c}"},title:{text:"统计分析",subtext:"StatisticalAnalysis",left:"center"},xAxis:{data:[],axisLabel:{inside:!1,fontSize:12,color:"var(--td-text-color-primary)"},axisTick:{show:!1},axisLine:{show:!1},z:10},yAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#999"}},dataZoom:[{type:"inside"}],series:[{type:"bar",showBackground:!0,label:{show:!0,position:"top",textStyle:{color:"black",fontSize:10}},data:[]}]});return xe.get("/statistics/more").then(r=>{console.log(r),r.data.forEach(a=>{e.value.xAxis.data.push(a.name),e.value.series[0].data.push(a.value)})}),(r,a)=>(oe(),_e(j(be),{class:"chart",option:e.value,autoresize:""},null,8,["option"]))}},zn={__name:"Statistics",setup(i){const t=ne();return(e,r)=>{const a=Ie("t-col"),n=Ie("t-row"),o=Ie("t-card");return oe(),Mr("div",{style:Dr([{"background-position":"center"},`background-image: url('${j(t).darkT?`//pic.sherry.games/assets/image/mobileback/th (${Math.round(Math.random()*30)}).jpg`:`//pic.sherry.games/assets/image/mobileback/th (${Math.round(Math.random()*30)}).jpg`}');background-repeat: no-repeat;background-size: cover;  `])},[wr("div",{class:Cr(j(t).darkT?"boxdark":"box"),style:{"min-height":"100vh","backdrop-filter":"blur(20px)","padding-top":"3vh","padding-bottom":"10px"}},[N(o,{bordered:!1,hoverShadow:"",style:{width:"96%",margin:"0 auto","min-height":"94vh"}},{default:J(()=>[N(n,{style:{width:"94%",margin:"34px auto"},justify:"space-between"},{default:J(()=>[N(a,{span:3.2},{default:J(()=>[N(On,{style:{height:"140px",width:"300px","border-radius":"20px",border:"1px solid var(--td-text-color-primary)"}})]),_:1}),N(a,{span:3.2},{default:J(()=>[N(Bn,{style:{height:"140px",width:"300px","border-radius":"20px",border:"1px solid var(--td-text-color-primary)"}})]),_:1}),N(a,{span:3.2},{default:J(()=>[N(Vn,{style:{height:"140px",width:"300px","border-radius":"20px",border:"1px solid var(--td-text-color-primary)"}})]),_:1})]),_:1}),N(Zn,{style:{height:"520px",width:"94%",margin:"0 auto","border-radius":"20px",border:"1px solid var(--td-text-color-primary)"}})]),_:1})],2)],4)}}};const Fn=Lr(zn,[["__scopeId","data-v-8fb505fe"]]);export{Fn as default};
