import{b as x,s as E,e as o,o as a,i as h,w as i,c as r,F as v,r as w,f as s,g as _,k as t,l,C as H,u as O,a as k,h as L,M as T,D as V,n as M}from"./index-1858008c.js";import{T as N}from"./Time-a3f148fe.js";const S={__name:"ExamHistory",setup(b){const m=x([]);return E.get("/exam/selectHistoryListByIdLimit?page=1").then(e=>{console.log(e),m.value=e.data}),(e,f)=>{const d=o("t-list-item-meta"),n=o("t-link"),y=o("t-list-item"),p=o("t-list");return a(),h(p,{style:{height:"52vh"},size:"small",split:!0},{default:i(()=>[(a(!0),r(v,null,w(m.value,c=>(a(),h(y,null,{action:i(()=>[s(n,{theme:"primary",onClick:g=>e.$router.push("/exam/analysis/"+c.paperid)},{default:i(()=>[_(" 查看解析 ")]),_:2},1032,["onClick"])]),default:i(()=>[s(d,{image:"//pic.sherry.games/assets/image/试卷.png",title:c.papername,description:`开始时间：${t(l)(c.starttime).format("YY年MM月DD日 HH:mm")+"    总分："+c.totalscore}`},null,8,["title","description"])]),_:2},1024))),256))]),_:1})}}},D={style:{"margin-top":"8px",width:"70%",display:"inline-block","vertical-align":"middle"}},z={key:2},I={style:{display:"inline-block","vertical-align":"middle",width:"30%",height:"240px"}},Y={key:0,style:{"text-align":"center","margin-top":"20px","max-height":"60px"}},F={key:0},j={key:1},J={key:0},P={key:1},U={key:2},q={__name:"ExamList",setup(b){const m=H(),e=O();e.getExamList();function f(n){l(n.starttime).valueOf()+n.duration*1e3*60<l().valueOf()?T.error("本场考试已经结束了哦"):(sessionStorage.setItem(`exam-${n.paperid}`,JSON.stringify(n)),V.push("/exam/answer/"+n.paperid))}function d(){const n=document.getElementById("audioController");n.src="//pic.sherry.games/assets/audio/2869.wav",n.play()}return(n,y)=>{const p=o("t-list-item-meta"),c=o("t-button"),g=o("nut-countdown"),C=o("t-list-item"),$=o("t-list"),B=o("nut-sticky");return a(),r(v,null,[k("div",D,[s($,{style:{height:"52vh"},size:"small",split:!0},{default:i(()=>[(a(!0),r(v,null,w(t(e).examList,u=>(a(),h(C,null,{action:i(()=>[t(l)(u.starttime).valueOf()+u.duration*1e3*60<t(m).valueOf()?(a(),h(c,{key:0,theme:"warning",disabled:!0,variant:t(e).darkT?"":"outline",shape:"round"},{default:i(()=>[_("已结束 ")]),_:1},8,["variant"])):t(l)(u.starttime).valueOf()<t(m).valueOf()?(a(),h(c,{key:1,onClick:A=>f(u),ghost:!t(e).darkT,shape:"round"},{default:i(()=>[_("去考试 ")]),_:2},1032,["onClick","ghost"])):(a(),r("span",z,[s(g,{onClick:d,style:{display:"inline"},"end-time":t(l)(u.starttime).valueOf()},null,8,["end-time"])]))]),default:i(()=>[s(p,{image:"//pic.sherry.games/assets/image/试卷.png",title:u.papername,description:`开始时间：${t(l)(u.starttime).format("YY年MM月DD日 HH:mm")+"    总分："+u.totalscore}`},null,8,["title","description"])]),_:2},1024))),256))]),_:1})]),k("div",I,[s(B,{style:{width:"100%","margin-top":"20px"},bottom:"40",position:"bottom"},{default:i(()=>[s(N,{style:{margin:"0 auto",width:"180px"}}),t(e).examList.length>0?(a(),r("div",Y,[t(l)(t(e).examList[0].starttime).valueOf()>t(m).valueOf()?(a(),r("div",F,[_(" 距离下一场考试开始还有： "),s(g,{style:{display:"inline"},"end-time":t(l)(t(e).examList[0].starttime).valueOf()},null,8,["end-time"])])):(a(),r("div",j,[t(l)(t(e).examList[0].starttime).valueOf()+t(e).examList[0].duration*1e3*60>t(m).valueOf()?(a(),r("div",J,[_(" 距离本场考试结束还有： "),s(g,{style:{display:"inline"},"end-time":t(l)(t(e).examList[0].starttime).valueOf()+t(e).examList[0].duration*1e3*60},null,8,["end-time"])])):(a(),r("div",P,"本场考试已经结束")),t(e).examList.length>1?(a(),r("div",U,[_(" 距离下一场考试开始还有： "),s(g,{style:{display:"inline"},"end-time":t(l)(t(e).examList[1].starttime).valueOf()},null,8,["end-time"])])):L("",!0)]))])):L("",!0)]),_:1})])],64)}}},Q={__name:"ExamHome",setup(b){const m=O();x(1);const e=x(1);return(f,d)=>{const n=o("t-tab-panel"),y=o("t-tabs"),p=o("t-card");return a(),r(v,null,[k("div",{style:M(`background-image: url('${t(m).darkT?"//pic.sherry.games/assets/image/我们终将上岸暗.png":"//pic.sherry.games/assets/image/我们终将上岸亮.png"}');background-repeat: no-repeat;background-size: cover;min-height: 40vh;background-position: center;margin-top: -40px`)},null,4),s(p,{bordered:!1,hoverShadow:"",style:{width:"96%",margin:"0 auto","margin-top":"-40px","min-height":"60vh"}},{default:i(()=>[s(y,{modelValue:e.value,"onUpdate:modelValue":d[0]||(d[0]=c=>e.value=c)},{default:i(()=>[s(n,{value:1,label:"我的考试","destroy-on-hide":!1},{default:i(()=>[s(q)]),_:1}),s(n,{value:2,label:"我的历史","destroy-on-hide":!1},{panel:i(()=>[s(S)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}};export{Q as default};
