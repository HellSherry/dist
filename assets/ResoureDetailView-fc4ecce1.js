import{u as M,v as N,b as p,s as f,e as n,o as x,c as S,f as e,w as t,a as o,j as $,k as b,F as B,M as Y,g as s,i as j,t as i,l as T,h as U}from"./index-1858008c.js";/* empty css                                               */const F={style:{"background-image":"url('//pic.sherry.games/assets/image/back.jpg')"}},H={style:{"margin-left":"40px","margin-top":"20px"}},P={style:{display:"inline-block",height:"160px","vertical-align":"middle"}},q={style:{"line-height":"10px"}},A={style:{"margin-top":"-4px","margin-bottom":"12px"}},E={style:{width:"90%",margin:"10px auto"}},J=o("h2",null,"简介",-1),O={style:{"font-size":"16px","font-weight":"200"}},Q={__name:"ResoureDetailView",setup(X){const y=M(),r=N().currentRoute.value.params.id,a=p(),k=p();sessionStorage.getItem(`resource-${r} `)!=null?a.value=JSON.parse(sessionStorage.getItem(`resource-${r} `)):f.get("/public/soft/getDetail?id="+r).then(d=>{a.value=d.data}),g();const m=p(!1),u=p("");function w(){if(u.value.trim()==""){Y.error("请输入内容"),u.value="";return}f.get("/public/soft/addRes?context="+u.value+"&askId="+r+"&askUser="+a.value.creatorUser).then(d=>{m.value=!1,g()})}function g(){if(a.value==null){console.log(1),setTimeout(()=>{g()},100);return}f.get("/public/soft/getDetail?id="+r).then(d=>{k.value=d.data})}return(d,l)=>{const z=n("t-textarea"),D=n("t-dialog"),c=n("t-icon"),_=n("t-button"),C=n("t-avatar"),v=n("t-tag"),V=n("t-card"),R=n("t-content"),I=n("t-layout");return x(),S(B,null,[e(D,{visible:m.value,"close-btn":!0,"confirm-btn":"提交","cancel-btn":"取消",onConfirm:w,"on-close":()=>{m.value=!1}},{header:t(()=>[s("解答问题")]),body:t(()=>[e(z,{style:{"margin-bottom":"-10px"},modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=h=>u.value=h),placeholder:"请输入解答",name:"description",autosize:{minRows:1,maxRows:5}},null,8,["modelValue"])]),_:1},8,["visible","on-close"]),o("div",F,[o("div",{class:$(b(y).darkT?"boxdark":"box"),style:{"min-height":"100vh","backdrop-filter":"blur(10PX)","padding-top":"16px"}},[e(I,{style:{"max-width":"1080px",margin:"0 auto","background-color":"#0000"}},{default:t(()=>[e(R,null,{default:t(()=>[a.value!=null?(x(),j(V,{key:0,style:{"border-radius":"12px","min-height":"90vh",height:"90%","margin-bottom":"2%",width:"99%"},"header-bordered":""},{title:t(()=>[e(_,{style:{"margin-right":"4px"},shape:"circle",variant:"outline",theme:"primary"},{icon:t(()=>[e(c,{onClick:l[1]||(l[1]=h=>{this.$router.go(-1)}),name:"chevron-left"})]),_:1}),s(" 软件详情 ")]),actions:t(()=>[e(_,{onClick:l[2]||(l[2]=h=>m.value=!0),shape:"round"},{default:t(()=>[s("立即下载")]),_:1})]),default:t(()=>[o("div",H,[e(C,{image:a.value.icon,shape:"round",style:{margin:"4px",border:"1.2px solid #0052d9","margin-right":"20px","border-radius":"12px"},size:"160px"},null,8,["image"]),o("div",P,[o("h2",q,i(a.value.name),1),o("p",null,i(a.value.company),1),o("div",A,[e(v,{size:"small"},{default:t(()=>[e(c,{name:"animation"}),s(" "+i(a.value.size)+"M",1)]),_:1}),e(v,{size:"small",style:{"margin-left":"6px"}},{default:t(()=>[e(c,{name:"cloud-download"}),s(" "+i(a.value.quantity),1)]),_:1}),e(v,{size:"small",style:{"margin-left":"6px"}},{default:t(()=>[e(c,{name:"time"}),s(" "+i(b(T)(a.value.addtime).format("YYYY-MM-DD HH:mm:ss")),1)]),_:1})]),e(_,{size:"large"},{default:t(()=>[s(" 立即下载 "),e(c,{style:{"padding-left":"8px","padding-top":"2px","margin-right":"-8px"},name:"download"})]),_:1})])]),o("div",E,[J,o("p",O,i(a.value.particulars),1)])]),_:1})):U("",!0)]),_:1})]),_:1})],2)])],64)}}};export{Q as default};
